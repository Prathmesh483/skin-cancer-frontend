var Vx=Object.defineProperty,jx=Object.defineProperties;var Ux=Object.getOwnPropertyDescriptors;var QI=Object.getOwnPropertySymbols,Bx=Object.getPrototypeOf,$x=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,zx=Reflect.get;var YI=(n,e,t)=>e in n?Vx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})$x.call(e,t)&&YI(n,t,e[t]);if(QI)for(var t of QI(e))Hx.call(e,t)&&YI(n,t,e[t]);return n},de=(n,e)=>jx(n,Ux(e));var Fr=(n,e,t)=>zx(Bx(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Ap(n,e){return Object.is(n,e)}var Je=null,Wu=!1,Rp=1,Qt=Symbol("SIGNAL");function pe(n){let e=Je;return Je=n,e}function Mp(){return Je}var Ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ma(n){if(Wu)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(n);let e=Je.nextProducerIndex++;if(Zu(Je),e<Je.producerNode.length&&Je.producerNode[e]!==n&&Aa(Je)){let t=Je.producerNode[e];Yu(t,Je.producerIndexOfThis[e])}Je.producerNode[e]!==n&&(Je.producerNode[e]=n,Je.producerIndexOfThis[e]=Aa(Je)?JI(n,Je,e):0),Je.producerLastReadVersion[e]=n.version}function ZI(){Rp++}function Np(n){if(!(Aa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rp)){if(!n.producerMustRecompute(n)&&!Op(n)){Sp(n);return}n.producerRecomputeValue(n),Sp(n)}}function xp(n){if(n.liveConsumerNode===void 0)return;let e=Wu;Wu=!0;try{for(let t of n.liveConsumerNode)t.dirty||qx(t)}finally{Wu=e}}function Pp(){return Je?.consumerAllowSignalWrites!==!1}function qx(n){n.dirty=!0,xp(n),n.consumerMarkedDirty?.(n)}function Sp(n){n.dirty=!1,n.lastCleanEpoch=Rp}function Qu(n){return n&&(n.nextProducerIndex=0),pe(n)}function kp(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Aa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Yu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Op(n){Zu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Np(t),r!==t.version))return!0}return!1}function Fp(n){if(Zu(n),Aa(n))for(let e=0;e<n.producerNode.length;e++)Yu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function JI(n,e,t){if(XI(n),n.liveConsumerNode.length===0&&e0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=JI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Yu(n,e){if(XI(n),n.liveConsumerNode.length===1&&e0(n))for(let r=0;r<n.producerNode.length;r++)Yu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Zu(i),i.producerIndexOfThis[r]=e}}function Aa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function XI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function e0(n){return n.producerNode!==void 0}function Lp(n,e){let t=Object.create(Gx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Np(t),Ma(t),t.value===Ku)throw t.error;return t.value};return r[Qt]=t,r}var Dp=Symbol("UNSET"),Cp=Symbol("COMPUTING"),Ku=Symbol("ERRORED"),Gx=de(L({},Ra),{value:Dp,dirty:!0,error:null,equal:Ap,kind:"computed",producerMustRecompute(n){return n.value===Dp||n.value===Cp},producerRecomputeValue(n){if(n.value===Cp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Cp;let t=Qu(n),r,i=!1;try{r=n.computation(),pe(null),i=e!==Dp&&e!==Ku&&r!==Ku&&n.equal(e,r)}catch(o){r=Ku,n.error=o}finally{kp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Wx(){throw new Error}var t0=Wx;function n0(n){t0(n)}function Vp(n){t0=n}var Kx=null;function jp(n,e){let t=Object.create(Ju);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Ma(t),t.value);return r[Qt]=t,r}function Na(n,e){Pp()||n0(n),n.equal(n.value,e)||(n.value=e,Qx(n))}function Up(n,e){Pp()||n0(n),Na(n,e(n.value))}var Ju=de(L({},Ra),{equal:Ap,value:void 0,kind:"signal"});function Qx(n){n.version++,ZI(),xp(n),Kx?.()}function Bp(n){let e=pe(null);try{return n()}finally{pe(e)}}var $p;function xa(){return $p}function ir(n){let e=$p;return $p=n,e}var Xu=Symbol("NotFound");function ne(n){return typeof n=="function"}function So(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var el=So(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ti(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof el?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{r0(o)}catch(s){e=e??[],s instanceof el?e=[...e,...s.errors]:e.push(s)}}if(e)throw new el(e)}}add(e){var t;if(e&&e!==this)if(this.closed)r0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ti(t,e)}remove(e){let{_finalizers:t}=this;t&&Ti(t,e),e instanceof n&&e._removeParent(this)}};ke.EMPTY=(()=>{let n=new ke;return n.closed=!0,n})();var Hp=ke.EMPTY;function tl(n){return n instanceof ke||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function r0(n){ne(n)?n():n.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ao={setTimeout(n,e,...t){let{delegate:r}=Ao;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ao;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function nl(n){Ao.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(n);else throw n})}function Pa(){}var i0=zp("C",void 0,void 0);function o0(n){return zp("E",void 0,n)}function s0(n){return zp("N",n,void 0)}function zp(n,e,t){return{kind:n,value:e,error:t}}var Di=null;function Ro(n){if(sn.useDeprecatedSynchronousErrorHandling){let e=!Di;if(e&&(Di={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Di;if(Di=null,t)throw r}}else n()}function a0(n){sn.useDeprecatedSynchronousErrorHandling&&Di&&(Di.errorThrown=!0,Di.error=n)}var Ci=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tl(e)&&e.add(this)):this.destination=tP}static create(e,t,r){return new Mo(e,t,r)}next(e){this.isStopped?Gp(s0(e),this):this._next(e)}error(e){this.isStopped?Gp(o0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gp(i0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xx=Function.prototype.bind;function qp(n,e){return Xx.call(n,e)}var Wp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){rl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){rl(r)}else rl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rl(t)}}},Mo=class extends Ci{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qp(e.next,o),error:e.error&&qp(e.error,o),complete:e.complete&&qp(e.complete,o)}):i=e}this.destination=new Wp(i)}};function rl(n){sn.useDeprecatedSynchronousErrorHandling?a0(n):nl(n)}function eP(n){throw n}function Gp(n,e){let{onStoppedNotification:t}=sn;t&&Ao.setTimeout(()=>t(n,e))}var tP={closed:!0,next:Pa,error:eP,complete:Pa};var No=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(n){return n}function Kp(...n){return Qp(n)}function Qp(n){return n.length===0?Bt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=rP(t)?t:new Mo(t,r,i);return Ro(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=c0(r),new r((i,o)=>{let s=new Mo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[No](){return this}pipe(...t){return Qp(t)(this)}toPromise(t){return t=c0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function c0(n){var e;return(e=n??sn.Promise)!==null&&e!==void 0?e:Promise}function nP(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function rP(n){return n&&n instanceof Ci||nP(n)&&tl(n)}function Yp(n){return ne(n?.lift)}function ve(n){return e=>{if(Yp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new Zp(n,e,t,r,i)}var Zp=class extends Ci{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xo(){return ve((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Po=class extends se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return xo()(this)}};var u0=So(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new il(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new u0}next(t){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hp:(this.currentObservers=null,o.push(t),new ke(()=>{this.currentObservers=null,Ti(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return n.create=(e,t)=>new il(e,t),n})(),il=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Hp}};var ht=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jp={now(){return(Jp.delegate||Date).now()},delegate:void 0};var ol=class extends ke{constructor(e,t){super()}schedule(e,t=0){return this}};var ka={setInterval(n,e,...t){let{delegate:r}=ka;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ka;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ko=class extends ol{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ka.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Oo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Oo.now=Jp.now;var Fo=class extends Oo{constructor(e,t=Oo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Xp=new Fo(ko);var sl=class extends ko{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var al=class extends Fo{};var eg=new al(sl);var Mt=new se(n=>n.complete());function l0(n){return n&&ne(n.schedule)}function d0(n){return n[n.length-1]}function cl(n){return ne(d0(n))?n.pop():void 0}function Lr(n){return l0(d0(n))?n.pop():void 0}function tg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function f0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function h0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(n){return this instanceof Si?(this.v=n,this):new Si(n)}function p0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(S){return Promise.resolve(S).then(m,p)}}function a(m,S){r[m]&&(i[m]=function(x){return new Promise(function(N,U){o.push([m,x,N,U])>1||u(m,x)})},S&&(i[m]=S(i[m])))}function u(m,S){try{l(r[m](S))}catch(x){y(o[0][3],x)}}function l(m){m.value instanceof Si?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,S){m(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function g0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof h0=="function"?h0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ul=n=>n&&typeof n.length=="number"&&typeof n!="function";function ll(n){return ne(n?.then)}function dl(n){return ne(n[No])}function hl(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pl=iP();function gl(n){return ne(n?.[pl])}function ml(n){return p0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Si(t.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{t.releaseLock()}})}function yl(n){return ne(n?.getReader)}function ze(n){if(n instanceof se)return n;if(n!=null){if(dl(n))return oP(n);if(ul(n))return sP(n);if(ll(n))return aP(n);if(hl(n))return m0(n);if(gl(n))return cP(n);if(yl(n))return uP(n)}throw fl(n)}function oP(n){return new se(e=>{let t=n[No]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sP(n){return new se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function aP(n){return new se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nl)})}function cP(n){return new se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function m0(n){return new se(e=>{lP(n,e).catch(t=>e.error(t))})}function uP(n){return m0(ml(n))}function lP(n,e){var t,r,i,o;return f0(this,void 0,void 0,function*(){try{for(t=g0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Vr(n,e=0){return ve((t,r)=>{t.subscribe(ge(r,i=>Nt(r,n,()=>r.next(i),e),()=>Nt(r,n,()=>r.complete(),e),i=>Nt(r,n,()=>r.error(i),e)))})}function jr(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function y0(n,e){return ze(n).pipe(jr(e),Vr(e))}function v0(n,e){return ze(n).pipe(jr(e),Vr(e))}function _0(n,e){return new se(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function w0(n,e){return new se(t=>{let r;return Nt(t,e,()=>{r=n[pl](),Nt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function vl(n,e){if(!n)throw new Error("Iterable cannot be null");return new se(t=>{Nt(t,e,()=>{let r=n[Symbol.asyncIterator]();Nt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function E0(n,e){return vl(ml(n),e)}function I0(n,e){if(n!=null){if(dl(n))return y0(n,e);if(ul(n))return _0(n,e);if(ll(n))return v0(n,e);if(hl(n))return vl(n,e);if(gl(n))return w0(n,e);if(yl(n))return E0(n,e)}throw fl(n)}function Ce(n,e){return e?I0(n,e):ze(n)}function G(...n){let e=Lr(n);return Ce(n,e)}function Lo(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new se(e?i=>e.schedule(r,0,i):r)}function ng(n){return!!n&&(n instanceof se||ne(n.lift)&&ne(n.subscribe))}var or=So(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(n,e){return ve((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:dP}=Array;function hP(n,e){return dP(e)?n(...e):n(e)}function _l(n){return ae(e=>hP(n,e))}var{isArray:fP}=Array,{getPrototypeOf:pP,prototype:gP,keys:mP}=Object;function wl(n){if(n.length===1){let e=n[0];if(fP(e))return{args:e,keys:null};if(yP(e)){let t=mP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function yP(n){return n&&typeof n=="object"&&pP(n)===gP}function El(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Oa(...n){let e=Lr(n),t=cl(n),{args:r,keys:i}=wl(n);if(r.length===0)return Ce([],e);let o=new se(vP(r,e,i?s=>El(i,s):Bt));return t?o.pipe(_l(t)):o}function vP(n,e,t=Bt){return r=>{b0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)b0(e,()=>{let l=Ce(n[u],e),h=!1;l.subscribe(ge(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function b0(n,e,t){n?Nt(t,n,e):e()}function T0(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=x=>l<r?S(x):u.push(x),S=x=>{o&&e.next(x),l++;let N=!1;ze(t(x,h++)).subscribe(ge(e,U=>{i?.(U),o?m(U):e.next(U)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let U=u.shift();s?Nt(e,s,()=>S(U)):S(U)}y()}catch(U){e.error(U)}}))};return n.subscribe(ge(e,m,()=>{p=!0,y()})),()=>{a?.()}}function Be(n,e,t=1/0){return ne(e)?Be((r,i)=>ae((o,s)=>e(r,o,i,s))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),ve((r,i)=>T0(r,i,n,t)))}function Ur(n=1/0){return Be(Bt,n)}function D0(){return Ur(1)}function Vo(...n){return D0()(Ce(n,Lr(n)))}function Il(n){return new se(e=>{ze(n()).subscribe(e)})}function rg(...n){let e=cl(n),{args:t,keys:r}=wl(n),i=new se(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ze(t[h]).subscribe(ge(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?El(r,a):a),o.complete())}))}});return e?i.pipe(_l(e)):i}function Dt(n,e){return ve((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function sr(n){return ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=ze(n(s,sr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function C0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ge(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function In(n,e){return ne(e)?Be(n,e,1):Be(n,1)}function Br(n){return ve((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ar(n){return n<=0?()=>Mt:ve((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bl(n=_P){return ve((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _P(){return new or}function $r(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):Bt,ar(1),t?Br(e):bl(()=>new or))}function jo(n){return n<=0?()=>Mt:ve((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ig(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):Bt,jo(1),t?Br(e):bl(()=>new or))}function og(n,e){return ve(C0(n,e,arguments.length>=2,!0))}function sg(...n){let e=Lr(n);return ve((t,r)=>{(e?Vo(n,t,e):Vo(n,t)).subscribe(r)})}function xt(n,e){return ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=o++;ze(n(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ag(n){return ve((e,t)=>{ze(n).subscribe(ge(t,()=>t.complete(),Pa)),!t.closed&&e.subscribe(t)})}function ft(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Bt}var pb="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(gb(e,t)),this.code=e}};function wP(n){return`NG0${Math.abs(n)}`}function gb(n,e){return`${wP(n)}${e?": "+e:""}`}var mb=Symbol("InputSignalNode#UNSET"),EP=de(L({},Ju),{transformFn:void 0,applyValueToInputSignal(n,e){Na(n,e)}});function yb(n,e){let t=Object.create(EP);t.value=n,t.transformFn=e?.transform;function r(){if(Ma(t),t.value===mb){let i=null;throw new $(-950,i)}return t.value}return r[Qt]=t,r}function Wa(n){return{toString:n}.toString()}var Tl="__parameters__";function IP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function bP(n,e,t){return Wa(()=>{let r=IP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Tl)?u[Tl]:Object.defineProperty(u,Tl,{value:[]})[Tl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Eg=globalThis;function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function TP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function S0(n,e){return n?e?`${n} ${e}`:n:e||""}var DP=Me({__forward_ref__:Me});function un(n){return n.__forward_ref__=un,n.toString=function(){return Pt(this())},n}function Ct(n){return vb(n)?n():n}function vb(n){return typeof n=="function"&&n.hasOwnProperty(DP)&&n.__forward_ref__===un}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function nd(n){return A0(n,wb)||A0(n,Eb)}function _b(n){return nd(n)!==null}function A0(n,e){return n.hasOwnProperty(e)?n[e]:null}function CP(n){let e=n&&(n[wb]||n[Eb]);return e||null}function R0(n){return n&&(n.hasOwnProperty(M0)||n.hasOwnProperty(SP))?n[M0]:null}var wb=Me({\u0275prov:Me}),M0=Me({\u0275inj:Me}),Eb=Me({ngInjectableDef:Me}),SP=Me({ngInjectorDef:Me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ib(n){return n&&!!n.\u0275providers}var AP=Me({\u0275cmp:Me}),RP=Me({\u0275dir:Me}),MP=Me({\u0275pipe:Me}),NP=Me({\u0275mod:Me}),Pl=Me({\u0275fac:Me}),ja=Me({__NG_ELEMENT_ID__:Me}),N0=Me({__NG_ENV_ID__:Me});function rd(n){return typeof n=="string"?n:n==null?"":String(n)}function xP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():rd(n)}function bb(n,e){throw new $(-200,n)}function hm(n,e){throw new $(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),Ig;function Tb(){return Ig}function Yt(n){let e=Ig;return Ig=n,e}function Db(n,e,t){let r=nd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;hm(n,"Injector")}var PP={},Ai=PP,bg="__NG_DI_FLAG__",kl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Xu:Ai,r)}},Ol="ngTempTokenPath",kP="ngTokenPath",OP=/\n/gm,FP="\u0275",x0="__source";function LP(n,e=ue.Default){if(xa()===void 0)throw new $(-203,!1);if(xa()===null)return Db(n,void 0,e);{let t=xa(),r;return t instanceof kl?r=t.injector:r=t,r.get(n,e&ue.Optional?null:void 0,e)}}function z(n,e=ue.Default){return(Tb()||LP)(Ct(n),e)}function P(n,e=ue.Default){return z(n,id(e))}function id(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=jP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function VP(n,e){return n[bg]=e,n.prototype[bg]=e,n}function jP(n){return n[bg]}function UP(n,e,t,r){let i=n[Ol];throw e[x0]&&i.unshift(e[x0]),n.message=BP(`
`+n.message,i,t,r),n[kP]=i,n[Ol]=null,n}function BP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FP?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(OP,`
  `)}`}var Xt=VP(bP("Optional"),8);function Go(n,e){let t=n.hasOwnProperty(Pl);return t?n[Pl]:null}function $P(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function HP(n){return n.flat(Number.POSITIVE_INFINITY)}function fm(n,e){n.forEach(t=>Array.isArray(t)?fm(t,e):e(t))}function Cb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function qP(n,e,t){let r=Ka(n,e);return r>=0?n[r|1]=t:(r=~r,zP(n,r,e,t)),r}function cg(n,e){let t=Ka(n,e);if(t>=0)return n[t|1]}function Ka(n,e){return GP(n,e,1)}function GP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Mi={},Zt=[],Ua=new j(""),Sb=new j("",-1),Ab=new j(""),Ll=class{get(e,t=Ai){if(t===Ai){let r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}};function Rb(n,e){let t=n[NP]||null;if(!t&&e===!0)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function Ni(n){return n[AP]||null}function WP(n){return n[RP]||null}function KP(n){return n[MP]||null}function dn(n){return{\u0275providers:n}}function QP(...n){return{\u0275providers:Mb(!0,n),\u0275fromNgModule:!0}}function Mb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fm(e,s=>{let a=s;Dg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Nb(i,o),t}function Nb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];pm(i,o=>{e(o,r)})}}function Dg(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=R0(n),s=!o&&Ni(n);if(!o&&!s){let u=n.ngModule;if(o=R0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Dg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fm(o.imports,h=>{Dg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Nb(l,e)}if(!a){let l=Go(i)||(()=>new i);e({provide:i,useFactory:l,deps:Zt},i),e({provide:Ab,useValue:i,multi:!0},i),e({provide:Ua,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;pm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function pm(n,e){for(let t of n)Ib(t)&&(t=t.\u0275providers),Array.isArray(t)?pm(t,e):e(t)}var YP=Me({provide:String,useValue:Me});function xb(n){return n!==null&&typeof n=="object"&&YP in n}function ZP(n){return!!(n&&n.useExisting)}function JP(n){return!!(n&&n.useFactory)}function Wo(n){return typeof n=="function"}function XP(n){return!!n.useClass}var od=new j(""),Sl={},P0={},ug;function gm(){return ug===void 0&&(ug=new Ll),ug}var rt=class{},Ba=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Sg(e,s=>this.processProvider(s)),this.records.set(Sb,Uo(void 0,this)),i.has("environment")&&this.records.set(rt,Uo(void 0,this));let o=this.records.get(od);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ab,Zt,ue.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Xu:Ai,r)}destroy(){La(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return La(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){La(this);let t=ir(this),r=Yt(void 0),i;try{return e()}finally{ir(t),Yt(r)}}get(e,t=Ai,r=ue.Default){if(La(this),e.hasOwnProperty(N0))return e[N0](this);r=id(r);let i,o=ir(this),s=Yt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ik(e)&&nd(e);l&&this.injectableDefInScope(l)?u=Uo(Cg(e),Sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?gm():this.parent;return t=r&ue.Optional&&t===Ai?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ol]=a[Ol]||[]).unshift(Pt(e)),o)throw a;return UP(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(s),ir(o)}}resolveInjectorInitializers(){let e=pe(null),t=ir(this),r=Yt(void 0),i;try{let o=this.get(Ua,Zt,ue.Self);for(let s of o)s()}finally{ir(t),Yt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=Wo(e)?e:Ct(e&&e.provide),r=tk(e);if(!Wo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Uo(void 0,Sl,!0),i.factory=()=>Tg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===P0?bb(Pt(e)):t.value===Sl&&(t.value=P0,t.value=t.factory()),typeof t.value=="object"&&t.value&&rk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cg(n){let e=nd(n),t=e!==null?e.factory:Go(n);if(t!==null)return t;if(n instanceof j)throw new $(204,!1);if(n instanceof Function)return ek(n);throw new $(204,!1)}function ek(n){if(n.length>0)throw new $(204,!1);let t=CP(n);return t!==null?()=>t.factory(n):()=>new n}function tk(n){if(xb(n))return Uo(void 0,n.useValue);{let e=Pb(n);return Uo(e,Sl)}}function Pb(n,e,t){let r;if(Wo(n)){let i=Ct(n);return Go(i)||Cg(i)}else if(xb(n))r=()=>Ct(n.useValue);else if(JP(n))r=()=>n.useFactory(...Tg(n.deps||[]));else if(ZP(n))r=()=>z(Ct(n.useExisting));else{let i=Ct(n&&(n.useClass||n.provide));if(nk(n))r=()=>new i(...Tg(n.deps));else return Go(i)||Cg(i)}return r}function La(n){if(n.destroyed)throw new $(205,!1)}function Uo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nk(n){return!!n.deps}function rk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ik(n){return typeof n=="function"||typeof n=="object"&&n instanceof j}function Sg(n,e){for(let t of n)Array.isArray(t)?Sg(t,e):t&&Ib(t)?Sg(t.\u0275providers,e):e(t)}function it(n,e){let t;n instanceof Ba?(La(n),t=n):t=new kl(n);let r,i=ir(t),o=Yt(void 0);try{return e()}finally{ir(i),Yt(o)}}function kb(){return Tb()!==void 0||xa()!=null}function mm(n){if(!kb())throw new $(-203,!1)}function ok(n){return typeof n=="function"}var hr=0,he=1,ee=2,_t=3,cn=4,hn=5,Vl=6,jl=7,kt=8,Ko=9,ur=10,Xe=11,$a=12,k0=13,ts=14,Tn=15,xi=16,Bo=17,lr=18,sd=19,Ob=20,Hr=21,lg=22,Ul=23,Jt=24,zo=25,Dn=26,Fb=1;var Pi=7,Bl=8,Qo=9,$t=10;function zr(n){return Array.isArray(n)&&typeof n[Fb]=="object"}function fr(n){return Array.isArray(n)&&n[Fb]===!0}function Lb(n){return(n.flags&4)!==0}function ns(n){return n.componentOffset>-1}function ym(n){return(n.flags&1)===1}function Cn(n){return!!n.template}function $l(n){return(n[ee]&512)!==0}function Qa(n){return(n[ee]&256)===256}var Ag=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var pr=(()=>{let n=()=>jb;return n.ngInherit=!0,n})();function jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=ak),sk}function sk(){let n=Bb(this),e=n?.current;if(e){let t=n.previous;if(t===Mi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ak(n,e,t,r,i){let o=this.declaredInputs[r],s=Bb(n)||ck(n,{previous:Mi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ag(l&&l.currentValue,t,u===Mi),Vb(n,e,i,t)}var Ub="__ngSimpleChanges__";function Bb(n){return n[Ub]||null}function ck(n,e){return n[Ub]=e}var O0=null;var Se=function(n,e=null,t){O0?.(n,e,t)},$b="svg",uk="math";function Sn(n){for(;Array.isArray(n);)n=n[hr];return n}function Hb(n,e){return Sn(e[n])}function Nn(n,e){return Sn(e[n.index])}function zb(n,e){return n.data[e]}function lk(n,e){return n[e]}function An(n,e){let t=e[n];return zr(t)?t:t[hr]}function dk(n){return(n[ee]&4)===4}function vm(n){return(n[ee]&128)===128}function hk(n){return fr(n[_t])}function Hl(n,e){return e==null?null:n[e]}function qb(n){n[Bo]=0}function Gb(n){n[ee]&1024||(n[ee]|=1024,vm(n)&&Ya(n))}function fk(n,e){for(;n>0;)e=e[ts],n--;return e}function ad(n){return!!(n[ee]&9216||n[Jt]?.dirty)}function Rg(n){n[ur].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),ad(n)&&Ya(n)}function Ya(n){n[ur].changeDetectionScheduler?.notify(0);let e=ki(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!vm(e)));)e=ki(e)}function Wb(n,e){if(Qa(n))throw new $(911,!1);n[Hr]===null&&(n[Hr]=[]),n[Hr].push(e)}function pk(n,e){if(n[Hr]===null)return;let t=n[Hr].indexOf(e);t!==-1&&n[Hr].splice(t,1)}function ki(n){let e=n[_t];return fr(e)?e[_t]:e}function _m(n){return n[jl]??=[]}function wm(n){return n.cleanup??=[]}function gk(n,e,t,r){let i=_m(e);i.push(t),n.firstCreatePass&&wm(n).push(r,i.length-1)}var ce={lFrame:tT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mg=!1;function mk(){return ce.lFrame.elementDepthCount}function yk(){ce.lFrame.elementDepthCount++}function vk(){ce.lFrame.elementDepthCount--}function Kb(){return ce.bindingsEnabled}function _k(){return ce.skipHydrationRootTNode!==null}function wk(n){return ce.skipHydrationRootTNode===n}function Ek(){ce.skipHydrationRootTNode=null}function Ae(){return ce.lFrame.lView}function St(){return ce.lFrame.tView}function ot(n){return ce.lFrame.contextLView=n,n[kt]}function st(n){return ce.lFrame.contextLView=null,n}function At(){let n=Qb();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qb(){return ce.lFrame.currentTNode}function Ik(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Za(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Yb(){return ce.lFrame.isParent}function bk(){ce.lFrame.isParent=!1}function Tk(){return ce.lFrame.contextLView}function Zb(){return Mg}function F0(n){let e=Mg;return Mg=n,e}function Dk(n){return ce.lFrame.bindingIndex=n}function cd(){return ce.lFrame.bindingIndex++}function Ck(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Sk(){return ce.lFrame.inI18n}function Ak(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ng(e)}function Rk(){return ce.lFrame.currentDirectiveIndex}function Ng(n){ce.lFrame.currentDirectiveIndex=n}function Mk(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Jb(){return ce.lFrame.currentQueryIndex}function Em(n){ce.lFrame.currentQueryIndex=n}function Nk(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[hn]:null}function Xb(n,e,t){if(t&ue.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=Nk(o),i===null||(o=o[ts],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=eT();return r.currentTNode=e,r.lView=n,!0}function Im(n){let e=eT(),t=n[he];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eT(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?tT(n):e}function tT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function nT(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rT=nT;function bm(){let n=nT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xk(n){return(ce.lFrame.contextLView=fk(n,ce.lFrame.contextLView))[kt]}function rs(){return ce.lFrame.selectedIndex}function Oi(n){ce.lFrame.selectedIndex=n}function Tm(){let n=ce.lFrame;return zb(n.tView,n.selectedIndex)}function Dm(){ce.lFrame.currentNamespace=$b}function Cm(){Pk()}function Pk(){ce.lFrame.currentNamespace=null}function kk(){return ce.lFrame.currentNamespace}var iT=!0;function Sm(){return iT}function Am(n){iT=n}function Ok(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=jb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function oT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Al(n,e,t){sT(n,e,3,t)}function Rl(n,e,t,r){(n[ee]&3)===t&&sT(n,e,t,r)}function dg(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function sT(n,e,t,r){let i=r!==void 0?n[Bo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Bo]+=65536),(a<o||o==-1)&&(Fk(n,t,e,u),n[Bo]=(n[Bo]&4294901760)+u+2),u++}function L0(n,e){Se(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Se(5,n,e)}}function Fk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ee]>>14<n[Bo]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,L0(a,o)):L0(a,o)}var qo=-1,Fi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Lk(n){return(n.flags&8)!==0}function Vk(n){return(n.flags&16)!==0}function jk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Uk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aT(n){return n===3||n===4||n===6}function Uk(n){return n.charCodeAt(0)===64}function Ha(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?V0(n,t,i,null,e[++r]):V0(n,t,i,null,null))}}return n}function V0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function cT(n){return n!==qo}function zl(n){return n&32767}function Bk(n){return n>>16}function ql(n,e){let t=Bk(n),r=e;for(;t>0;)r=r[ts],t--;return r}var xg=!0;function j0(n){let e=xg;return xg=n,e}var $k=256,uT=$k-1,lT=5,Hk=0,bn={};function zk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ja)&&(r=t[ja]),r==null&&(r=t[ja]=Hk++);let i=r&uT,o=1<<i;e.data[n+(i>>lT)]|=o}function Gl(n,e){let t=dT(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,hg(r.data,n),hg(e,null),hg(r.blueprint,null));let i=Rm(n,e),o=n.injectorIndex;if(cT(i)){let s=zl(i),a=ql(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function hg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Rm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=mT(i),r===null)return qo;if(t++,i=i[ts],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return qo}function Pg(n,e,t){zk(n,e,t)}function qk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(aT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function hT(n,e,t){if(t&ue.Optional||n!==void 0)return n;hm(e,"NodeInjector")}function fT(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),(t&(ue.Self|ue.Host))===0){let i=n[Ko],o=Yt(void 0);try{return i?i.get(e,r,t&ue.Optional):Db(e,r,t&ue.Optional)}finally{Yt(o)}}return hT(r,e,t)}function pT(n,e,t,r=ue.Default,i){if(n!==null){if(e[ee]&2048&&!(r&ue.Self)){let s=Qk(n,e,t,r,bn);if(s!==bn)return s}let o=gT(n,e,t,r,bn);if(o!==bn)return o}return fT(e,t,r,i)}function gT(n,e,t,r,i){let o=Wk(t);if(typeof o=="function"){if(!Xb(e,n,r))return r&ue.Host?hT(i,t,r):fT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))hm(t);else return s}finally{rT()}}else if(typeof o=="number"){let s=null,a=dT(n,e),u=qo,l=r&ue.Host?e[Tn][hn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Rm(n,e):e[a+8],u===qo||!B0(r,!1)?a=-1:(s=e[he],a=zl(u),e=ql(u,e)));a!==-1;){let h=e[he];if(U0(o,a,h.data)){let p=Gk(a,e,t,s,r,l);if(p!==bn)return p}u=e[a+8],u!==qo&&B0(r,e[he].data[a+8]===l)&&U0(o,a,e)?(s=h,a=zl(u),e=ql(u,e)):a=-1}}return i}function Gk(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],u=r==null?ns(a)&&xg:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,h=Ml(a,s,t,u,l);return h!==null?za(e,s,h,a):bn}function Ml(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let S=s[m];if(m<u&&t===S||m>=u&&S.type===t)return m}if(i){let m=s[u];if(m&&Cn(m)&&m.type===t)return u}return null}function za(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Fi){let s=i;s.resolving&&bb(xP(o[t]));let a=j0(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Yt(s.injectImpl):null,h=Xb(n,r,ue.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Ok(t,o[t],e)}finally{l!==null&&Yt(l),j0(a),s.resolving=!1,rT()}}return i}function Wk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ja)?n[ja]:void 0;return typeof e=="number"?e>=0?e&uT:Kk:e}function U0(n,e,t){let r=1<<n;return!!(t[e+(n>>lT)]&r)}function B0(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var Ri=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pT(this._tNode,this._lView,e,id(r),t)}};function Kk(){return new Ri(At(),Ae())}function xn(n){return Wa(()=>{let e=n.prototype.constructor,t=e[Pl]||kg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Pl]||kg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kg(n){return vb(n)?()=>{let e=kg(Ct(n));return e&&e()}:Go(n)}function Qk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!$l(s);){let a=gT(o,s,t,r|ue.Self,bn);if(a!==bn)return a;let u=o.parent;if(!u){let l=s[Ob];if(l){let h=l.get(t,bn,r);if(h!==bn)return h}u=mT(s),s=s[ts]}o=u}return i}function mT(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[hn]:null}function Mm(n){return qk(At(),n)}function $0(n,e=null,t=null,r){let i=yT(n,e,t,r);return i.resolveInjectorInitializers(),i}function yT(n,e=null,t=null,r,i=new Set){let o=[t||Zt,QP(n)];return r=r||(typeof n=="object"?void 0:Pt(n)),new Ba(o,e||gm(),r||null,i)}var Ge=class n{static THROW_IF_NOT_FOUND=Ai;static NULL=new Ll;static create(e,t){if(Array.isArray(e))return $0({name:""},t,e,"");{let r=e.name??"";return $0({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>z(Sb)});static __NG_ELEMENT_ID__=-1};var Yk=new j("");Yk.__NG_ELEMENT_ID__=n=>{let e=At();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&ue.Optional)return null;throw new $(204,!1)};var vT=!1,is=(()=>{class n{static __NG_ELEMENT_ID__=Zk;static __NG_ENV_ID__=t=>t}return n})(),Og=class extends is{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Wb(this._lView,e),()=>pk(this._lView,e)}};function Zk(){return new Og(Ae())}var Li=class{},_T=new j("",{providedIn:"root",factory:()=>!1});var wT=new j(""),ET=new j(""),Pn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ht(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),ud=(()=>{class n{internalPendingTasks=P(Pn);scheduler=P(Li);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return _(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Fg=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,kb()&&(this.destroyRef=P(is,{optional:!0})??void 0,this.pendingTasks=P(Pn,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},qe=Fg;function Wl(...n){}function IT(n){let e,t;function r(){n=Wl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function H0(n){return queueMicrotask(()=>n()),()=>{n=Wl}}var Nm="isAngularZone",Kl=Nm+"_ID",Jk=0,we=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qe(!1);onMicrotaskEmpty=new qe(!1);onStable=new qe(!1);onError=new qe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=vT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Nm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Xk,Wl,Wl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Xk={};function xm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){IT(()=>{n.callbackScheduled=!1,Lg(n),n.isCheckStableRunning=!0,xm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Lg(n)}function tO(n){let e=()=>{eO(n)},t=Jk++;n._inner=n._inner.fork({name:"angular",properties:{[Nm]:!0,[Kl]:t,[Kl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(nO(u))return r.invokeTask(o,s,a,u);try{return z0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),q0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return z0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rO(u)&&e(),q0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Lg(n),xm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Lg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function q0(n){n._nesting--,xm(n)}var Vg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qe;onMicrotaskEmpty=new qe;onStable=new qe;onError=new qe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function nO(n){return bT(n,"__ignore_ng_zone__")}function rO(n){return bT(n,"__scheduler_tick__")}function bT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},iO=new j("",{providedIn:"root",factory:()=>{let n=P(we),e=P(Rn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function G0(n,e){return yb(n,e)}function oO(n){return yb(mb,n)}var TT=(G0.required=oO,G0);function sO(){return os(At(),Ae())}function os(n,e){return new en(Nn(n,e))}var en=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=sO}return n})();function aO(n){return n instanceof en?n.nativeElement:n}function cO(n){return typeof n=="function"&&n[Qt]!==void 0}function ss(n,e){let t=jp(n,e?.equal),r=t[Qt];return t.set=i=>Na(r,i),t.update=i=>Up(r,i),t.asReadonly=uO.bind(t),t}function uO(){let n=this[Qt];if(n.readonlyFn===void 0){let e=()=>this();e[Qt]=n,n.readonlyFn=e}return n.readonlyFn}function DT(n){return cO(n)&&typeof n.set=="function"}function lO(){return this._results[Symbol.iterator]()}var jg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=HP(e);(this._changesDetected=!$P(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=lO};function CT(n){return(n.flags&128)===128}var ST=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ST||{}),AT=new Map,dO=0;function hO(){return dO++}function fO(n){AT.set(n[sd],n)}function Ug(n){AT.delete(n[sd])}var W0="__ngContext__";function Ja(n,e){zr(e)?(n[W0]=e[sd],fO(e)):n[W0]=e}function RT(n){return NT(n[$a])}function MT(n){return NT(n[cn])}function NT(n){for(;n!==null&&!fr(n);)n=n[cn];return n}var Bg;function xT(n){Bg=n}function pO(){if(Bg!==void 0)return Bg;if(typeof document<"u")return document;throw new $(210,!1)}var Pm=new j("",{providedIn:"root",factory:()=>gO}),gO="ng",km=new j(""),Ot=new j("",{providedIn:"platform",factory:()=>"unknown"});var Om=new j("",{providedIn:"root",factory:()=>pO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mO="h",yO="b";var PT=!1,vO=new j("",{providedIn:"root",factory:()=>PT});var Fm=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Fm||{}),as=new j(""),K0=new Set;function Xa(n){K0.has(n)||(K0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var kT=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=_O}return n})();function _O(){return new kT(Ae(),At())}var $o=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}($o||{}),OT=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),wO=[$o.EarlyRead,$o.Write,$o.MixedReadWrite,$o.Read],EO=(()=>{class n{ngZone=P(we);scheduler=P(Li);errorHandler=P(Rn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(as,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Se(16),this.executing=!0;for(let r of wO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Se(17)}register(t){let{view:r}=t;r!==void 0?((r[zo]??=[]).push(t),Ya(r),r[ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Fm.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),$g=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[zo];e&&(this.view[zo]=e.filter(t=>t!==this))}};function Lm(n,e){!e?.injector&&mm(Lm);let t=e?.injector??P(Ge);return Xa("NgAfterNextRender"),bO(n,t,e,!0)}function IO(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bO(n,e,t,r){let i=e.get(OT);i.impl??=e.get(EO);let o=e.get(as,null,{optional:!0}),s=t?.phase??$o.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(is):null,u=e.get(kT,null,{optional:!0}),l=new $g(i.impl,IO(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var TO=()=>null;function FT(n,e,t=!1){return TO(n,e,t)}function LT(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Em(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Hg(n,e,t){Em(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function VT(n,e,t){if(Lb(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});var Dl;function DO(){if(Dl===void 0&&(Dl=null,Eg.trustedTypes))try{Dl=Eg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dl}function Q0(n){return DO()?.createScriptURL(n)||n}var Ql=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pb})`}};function ld(n){return n instanceof Ql?n.changingThisBreaksApplicationSecurity:n}function jT(n,e){let t=CO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pb})`)}return t===e}function CO(n){return n instanceof Ql&&n.getTypeName()||null}var SO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AO(n){return n=String(n),n.match(SO)?n:"unsafe:"+n}var Vm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vm||{});function jm(n){let e=BT();return e?e.sanitize(Vm.URL,n)||"":jT(n,"URL")?ld(n):AO(rd(n))}function RO(n){let e=BT();if(e)return Q0(e.sanitize(Vm.RESOURCE_URL,n)||"");if(jT(n,"ResourceURL"))return Q0(ld(n));throw new $(904,!1)}function MO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?RO:jm}function UT(n,e,t){return MO(e,t)(n)}function BT(){let n=Ae();return n&&n[ur].sanitizer}function $T(n){return n.ownerDocument}function HT(n){return n instanceof Function?n():n}function NO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var zT="ng-template";function xO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Um(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Um(n){return n.type===4&&n.value!==zT}function PO(n,e,t){let r=n.type===4&&!t?zT:n.value;return e===r}function kO(n,e,t){let r=4,i=n.attrs,o=i!==null?LO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!an(r)&&!an(u))return!1;if(s&&an(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!PO(n,u,t)||u===""&&e.length===1){if(an(r))return!1;s=!0}}else if(r&8){if(i===null||!xO(n,i,u,t)){if(an(r))return!1;s=!0}}else{let l=e[++a],h=OO(u,i,Um(n),t);if(h===-1){if(an(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(an(r))return!1;s=!0}}}}return an(r)||s}function an(n){return(n&1)===0}function OO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VO(e,n)}function FO(n,e,t=!1){for(let r=0;r<e.length;r++)if(kO(n,e[r],t))return!0;return!1}function LO(n){for(let e=0;e<n.length;e++){let t=n[e];if(aT(t))return e}return n.length}function VO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Y0(n,e){return n?":not("+e.trim()+")":e}function jO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!an(s)&&(e+=Y0(o,i),i=""),r=s,o=o||!an(r);t++}return i!==""&&(e+=Y0(o,i)),e}function UO(n){return n.map(jO).join(",")}function BO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!an(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var cs={};function $O(n,e){return n.createText(e)}function HO(n,e,t){n.setValue(e,t)}function qT(n,e,t){return n.createElement(e,t)}function Yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function GT(n,e,t){n.appendChild(e,t)}function Z0(n,e,t,r,i){r!==null?Yl(n,e,t,r,i):GT(n,e,t)}function zO(n,e,t){n.removeChild(null,e,t)}function qO(n,e,t){n.setAttribute(e,"style",t)}function GO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function WT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&jk(n,e,r),i!==null&&GO(n,e,i),o!==null&&qO(n,e,o)}function Bm(n,e,t,r,i,o,s,a,u,l,h){let p=Dn+r,y=p+i,m=WO(p,y),S=typeof l=="function"?l():l;return m[he]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function WO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:cs);return t}function KO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Bm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function $m(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[hr]=i,p[ee]=r|4|128|8|64|1024,(l!==null||n&&n[ee]&2048)&&(p[ee]|=2048),qb(p),p[_t]=p[ts]=n,p[kt]=t,p[ur]=s||n&&n[ur],p[Xe]=a||n&&n[Xe],p[Ko]=u||n&&n[Ko]||null,p[hn]=o,p[sd]=hO(),p[Vl]=h,p[Ob]=l,p[Tn]=e.type==2?n[Tn]:p,p}function QO(n,e,t){let r=Nn(e,n),i=KO(t),o=n[ur].rendererFactory,s=Hm(n,$m(n,i,null,KT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function KT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function QT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Hm(n,e){return n[$a]?n[k0][cn]=e:n[$a]=e,n[k0]=e,e}function K(n=1){YT(St(),Ae(),rs()+n,!1)}function YT(n,e,t,r){if(!r)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Al(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Rl(e,o,0,t)}Oi(t)}var dd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(dd||{});function zg(n,e,t,r){let i=pe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&dd.SignalBased)!==0&&(u=e[o][Qt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Vb(e,u,o,r)}finally{pe(i)}}function ZT(n,e,t,r,i){let o=rs(),s=r&2;try{Oi(-1),s&&e.length>Dn&&YT(n,e,Dn,!1),Se(s?2:0,i),t(r,i)}finally{Oi(o),Se(s?3:1,i)}}function zm(n,e,t){t1(n,e,t),(t.flags&64)===64&&n1(n,e,t)}function JT(n,e,t=Nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function YO(n,e,t,r){let o=r.get(vO,PT)||t===Mn.ShadowDom,s=n.selectRootElement(e,o);return ZO(s),s}function ZO(n){JO(n)}var JO=()=>null;function XO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function XT(n,e,t,r,i,o,s,a){if(!a&&qm(e,n,t,r,i)){ns(e)&&e1(t,e.index);return}if(e.type&3){let u=Nn(e,t);r=XO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function e1(n,e){let t=An(e,n);t[ee]&16||(t[ee]|=64)}function t1(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ns(t)&&QO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Gl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=za(e,n,s,t);if(Ja(u,e),o!==null&&s1(e,s-r,u,a,t,o),Cn(a)){let l=An(t.index,e);l[kt]=za(e,n,s,t)}}}function n1(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Rk();try{Oi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Ng(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&r1(u,l)}}finally{Oi(-1),Ng(s)}}function r1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function eD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];FO(e,o.selectors,!1)&&(r??=[],Cn(o)?r.unshift(o):r.push(o))}return r}function i1(n,e,t,r,i,o){let s=Nn(n,e);o1(e[Xe],s,o,n.value,t,r,i)}function o1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?rd(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function s1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];zg(r,t,u,l)}}function a1(n,e){let t=n[Ko],r=t?t.get(Rn,null):null;r&&r.handleError(e)}function qm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];zg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];zg(h,l,r,i),a=!0}return a}function c1(n,e){let t=An(e,n),r=t[he];u1(r,t);let i=t[hr];i!==null&&t[Vl]===null&&(t[Vl]=FT(i,t[Ko])),Se(18),Gm(r,t,t[kt]),Se(19,t[kt])}function u1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Gm(n,e,t){Im(e);try{let r=n.viewQuery;r!==null&&Hg(1,r,t);let i=n.template;i!==null&&ZT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[lr]?.finishViewCreation(n),n.staticContentQueries&&LT(n,e),n.staticViewQueries&&Hg(2,n.viewQuery,t);let o=n.components;o!==null&&l1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ee]&=-5,bm()}}function l1(n,e){for(let t=0;t<e.length;t++)c1(n,e[t])}function d1(n,e,t,r){let i=pe(null);try{let o=e.tView,a=n[ee]&4096?4096:16,u=$m(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[xi]=l;let h=n[lr];return h!==null&&(u[lr]=h.createEmbeddedView(o)),Gm(o,u,t),u}finally{pe(i)}}function J0(n,e){return!e||e.firstChild===null||CT(n)}var h1;function Wm(n,e){return h1(n,e)}var dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(dr||{});function tD(n){return(n.flags&32)===32}function Ho(n,e,t,r,i){if(r!=null){let o,s=!1;fr(r)?o=r:zr(r)&&(s=!0,r=r[hr]);let a=Sn(r);n===0&&t!==null?i==null?GT(e,t,a):Yl(e,t,a,i||null,!0):n===1&&t!==null?Yl(e,t,a,i||null,!0):n===2?zO(e,a,s):n===3&&e.destroyNode(a),o!=null&&T1(e,n,o,t,i)}}function f1(n,e){nD(n,e),e[hr]=null,e[hn]=null}function p1(n,e,t,r,i,o){r[hr]=i,r[hn]=e,hd(n,r,t,1,i,o)}function nD(n,e){e[ur].changeDetectionScheduler?.notify(9),hd(n,e,e[Xe],2,null,null)}function g1(n){let e=n[$a];if(!e)return fg(n[he],n);for(;e;){let t=null;if(zr(e))t=e[$a];else{let r=e[$t];r&&(t=r)}if(!t){for(;e&&!e[cn]&&e!==n;)zr(e)&&fg(e[he],e),e=e[_t];e===null&&(e=n),zr(e)&&fg(e[he],e),t=e&&e[cn]}e=t}}function Km(n,e){let t=n[Qo],r=t.indexOf(e);t.splice(r,1)}function rD(n,e){if(Qa(e))return;let t=e[Xe];t.destroyNode&&hd(n,e,t,3,null,null),g1(e)}function fg(n,e){if(Qa(e))return;let t=pe(null);try{e[ee]&=-129,e[ee]|=256,e[Jt]&&Fp(e[Jt]),y1(n,e),m1(n,e),e[he].type===1&&e[Xe].destroy();let r=e[xi];if(r!==null&&fr(e[_t])){r!==e[_t]&&Km(r,e);let i=e[lr];i!==null&&i.detachView(n)}Ug(e)}finally{pe(t)}}function m1(n,e){let t=n.cleanup,r=e[jl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[jl]=null);let i=e[Hr];if(i!==null){e[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ul];if(o!==null){e[Ul]=null;for(let s of o)s.destroy()}}function y1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Fi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Se(4,a,u);try{u.call(a)}finally{Se(5,a,u)}}else{Se(4,i,o);try{o.call(i)}finally{Se(5,i,o)}}}}}function v1(n,e,t){return _1(n,e.parent,t)}function _1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[hr];if(ns(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Mn.None||i===Mn.Emulated)return null}return Nn(r,t)}function w1(n,e,t){return I1(n,e,t)}function E1(n,e,t){return n.type&40?Nn(n,t):null}var I1=E1,X0;function Qm(n,e,t,r){let i=v1(n,r,e),o=e[Xe],s=r.parent||e[hn],a=w1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Z0(o,i,t[u],a,!1);else Z0(o,i,t,a,!1);X0!==void 0&&X0(o,r,e,t,i)}function Va(n,e){if(e!==null){let t=e.type;if(t&3)return Nn(e,n);if(t&4)return qg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Va(n,r);{let i=n[e.index];return fr(i)?qg(-1,i):Sn(i)}}else{if(t&128)return Va(n,e.next);if(t&32)return Wm(e,n)()||Sn(n[e.index]);{let r=iD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ki(n[Tn]);return Va(i,r)}else return Va(n,e.next)}}}return null}function iD(n,e){if(e!==null){let r=n[Tn][hn],i=e.projection;return r.projection[i]}return null}function qg(n,e){let t=$t+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return Va(r,i)}return e[Pi]}function Ym(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ja(Sn(a),r),t.flags|=2),!tD(t))if(u&8)Ym(n,e,t.child,r,i,o,!1),Ho(e,n,i,a,o);else if(u&32){let l=Wm(t,r),h;for(;h=l();)Ho(e,n,i,h,o);Ho(e,n,i,a,o)}else u&16?b1(n,e,r,t,i,o):Ho(e,n,i,a,o);t=s?t.projectionNext:t.next}}function hd(n,e,t,r,i,o){Ym(t,r,n.firstChild,e,i,o,!1)}function b1(n,e,t,r,i,o){let s=t[Tn],u=s[hn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ho(e,n,i,h,o)}else{let l=u,h=s[_t];CT(r)&&(l.flags|=128),Ym(n,e,l,h,i,o,!0)}}function T1(n,e,t,r,i){let o=t[Pi],s=Sn(t);o!==s&&Ho(e,n,r,o,i);for(let a=$t;a<t.length;a++){let u=t[a];hd(u[he],u,n,e,r,o)}}function D1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:dr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(t,r,i,o))}}function Zl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Sn(o)),fr(o)&&C1(o,r);let s=t.type;if(s&8)Zl(n,e,t.child,r);else if(s&32){let a=Wm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=iD(e,t);if(Array.isArray(a))r.push(...a);else{let u=ki(e[Tn]);Zl(u[he],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function C1(n,e){for(let t=$t;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&Zl(r[he],r,i,e)}n[Pi]!==n[hr]&&e.push(n[Pi])}function oD(n){if(n[zo]!==null){for(let e of n[zo])e.impl.addSequence(e);n[zo].length=0}}var sD=[];function S1(n){return n[Jt]??A1(n)}function A1(n){let e=sD.pop()??Object.create(M1);return e.lView=n,e}function R1(n){n.lView[Jt]!==n&&(n.lView=null,sD.push(n))}var M1=de(L({},Ra),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ya(n.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function N1(n){let e=n[Jt]??Object.create(x1);return e.lView=n,e}var x1=de(L({},Ra),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ki(n.lView);for(;e&&!aD(e[he]);)e=ki(e);e&&Gb(e)},consumerOnSignalRead(){this.lView[Jt]=this}});function aD(n){return n.type!==2}function cD(n){if(n[Ul]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ul])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ee]&8192)}}var P1=100;function uD(n,e=!0,t=0){let i=n[ur].rendererFactory,o=!1;o||i.begin?.();try{k1(n,t)}catch(s){throw e&&a1(n,s),s}finally{o||i.end?.()}}function k1(n,e){let t=Zb();try{F0(!0),Gg(n,e);let r=0;for(;ad(n);){if(r===P1)throw new $(103,!1);r++,Gg(n,1)}}finally{F0(t)}}function O1(n,e,t,r){if(Qa(e))return;let i=e[ee],o=!1,s=!1;Im(e);let a=!0,u=null,l=null;o||(aD(n)?(l=S1(e),u=Qu(l)):Mp()===null?(a=!1,l=N1(e),u=Qu(l)):e[Jt]&&(Fp(e[Jt]),e[Jt]=null));try{qb(e),Dk(n.bindingStartIndex),t!==null&&ZT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Al(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Rl(e,m,0,null),dg(e,0)}if(s||F1(e),cD(e),lD(e,0),n.contentQueries!==null&&LT(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Al(e,m)}else{let m=n.contentHooks;m!==null&&Rl(e,m,1),dg(e,1)}V1(n,e);let p=n.components;p!==null&&hD(e,p,0);let y=n.viewQuery;if(y!==null&&Hg(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Al(e,m)}else{let m=n.viewHooks;m!==null&&Rl(e,m,2),dg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[lg]){for(let m of e[lg])m();e[lg]=null}o||(oD(e),e[ee]&=-73)}catch(h){throw o||Ya(e),h}finally{l!==null&&(kp(l,u),a&&R1(l)),bm()}}function lD(n,e){for(let t=RT(n);t!==null;t=MT(t))for(let r=$t;r<t.length;r++){let i=t[r];dD(i,e)}}function F1(n){for(let e=RT(n);e!==null;e=MT(e)){if(!(e[ee]&2))continue;let t=e[Qo];for(let r=0;r<t.length;r++){let i=t[r];Gb(i)}}}function L1(n,e,t){Se(18);let r=An(e,n);dD(r,t),Se(19,r[kt])}function dD(n,e){vm(n)&&Gg(n,e)}function Gg(n,e){let r=n[he],i=n[ee],o=n[Jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Op(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)O1(r,n,r.template,n[kt]);else if(i&8192){cD(n),lD(n,1);let a=r.components;a!==null&&hD(n,a,1),oD(n)}}function hD(n,e,t){for(let r=0;r<e.length;r++)L1(n,e[r],t)}function V1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Oi(~i);else{let o=i,s=t[++r],a=t[++r];Ak(s,o);let u=e[o];Se(24,u),a(2,u),Se(25,u)}}}finally{Oi(-1)}}function Zm(n,e){let t=Zb()?64:1088;for(n[ur].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let r=ki(n);if($l(n)&&!r)return n;n=r}return null}function fD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function j1(n,e,t,r=!0){let i=e[he];if(U1(i,e,n,t),r){let s=qg(t,n),a=e[Xe],u=a.parentNode(n[Pi]);u!==null&&p1(i,n[hn],a,e,u,s)}let o=e[Vl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wg(n,e){if(n.length<=$t)return;let t=$t+e,r=n[t];if(r){let i=r[xi];i!==null&&i!==n&&Km(i,r),e>0&&(n[t-1][cn]=r[cn]);let o=Fl(n,$t+e);f1(r[he],r);let s=o[lr];s!==null&&s.detachView(o[he]),r[_t]=null,r[cn]=null,r[ee]&=-129}return r}function U1(n,e,t,r){let i=$t+r,o=t.length;r>0&&(t[i-1][cn]=e),r<o-$t?(e[cn]=t[i],Cb(t,$t+r,e)):(t.push(e),e[cn]=null),e[_t]=t;let s=e[xi];s!==null&&t!==s&&pD(s,e);let a=e[lr];a!==null&&a.insertView(n),Rg(e),e[ee]|=128}function pD(n,e){let t=n[Qo],r=e[_t];if(zr(r))n[ee]|=2;else{let i=r[_t][Tn];e[Tn]!==i&&(n[ee]|=2)}t===null?n[Qo]=[e]:t.push(e)}var qa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[he];return Zl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return Qa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(fr(e)){let t=e[Bl],r=t?t.indexOf(this):-1;r>-1&&(Wg(e,r),Fl(t,r))}this._attachedToViewContainer=!1}rD(this._lView[he],this._lView)}onDestroy(e){Wb(this._lView,e)}markForCheck(){Zm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){Rg(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,uD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$l(this._lView),t=this._lView[xi];t!==null&&!e&&Km(t,this._lView),nD(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=$l(this._lView),r=this._lView[xi];r!==null&&!t&&pD(r,this._lView),Rg(this._lView)}};var Yo=(()=>{class n{static __NG_ELEMENT_ID__=H1}return n})(),B1=Yo,$1=class extends B1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=d1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new qa(i)}};function H1(){return Jm(At(),Ae())}function Jm(n,e){return n.type&4?new $1(e,n,os(n,e)):null}function Xm(n,e,t,r,i){let o=n.data[e];if(o===null)o=z1(n,e,t,r,i),Sk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Ik();o.injectorIndex=s===null?-1:s.injectorIndex}return Za(o,!0),o}function z1(n,e,t,r,i){let o=Qb(),s=Yb(),a=s?o:o&&o.parent,u=n.data[e]=G1(n,a,t,e,r,i);return q1(n,u,o,s),u}function q1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function G1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _k()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var F8=new RegExp(`^(\\d+)*(${yO}|${mO})*(.*)`);var W1=()=>null;function eb(n,e){return W1(n,e)}var K1=class{},gD=class{},Kg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Pt(e)}.`)}},fd=class{static NULL=new Kg},Zo=class{},qr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Q1()}return n})();function Q1(){let n=Ae(),e=At(),t=An(e.index,n);return(zr(t)?t:n)[Xe]}var Y1=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var pg={},Qg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=id(r);let i=this.injector.get(e,pg,r);return i!==pg||t===pg?i:this.parentInjector.get(e,t,r)}};function tb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=S0(i,a);else if(o==2){let u=a,l=e[++s];r=S0(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function J(n,e=ue.Default){let t=Ae();if(t===null)return z(n,e);let r=At();return pT(r,t,Ct(n),e)}function mD(){let n="invalid";throw new Error(n)}function yD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=J1(s);h===null?a=s:[a,u,l]=h,tF(n,e,t,a,o,u,l)}o!==null&&r!==null&&Z1(t,r,o)}function Z1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function J1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Cn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,X1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function X1(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function eF(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function tF(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Cn(m)&&(u=!0,eF(n,t,y)),Pg(Gl(t,e),n,m.type)}aF(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=QT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=Ha(t.mergedAttrs,m.hostAttrs),rF(n,t,e,p,m),sF(p,m,i),s!==null&&s.has(m)){let[x,N]=s.get(m);t.directiveToIndex.set(m.type,[p,x+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let S=m.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}nF(n,t,o)}function nF(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))nb(0,e,i,r),nb(1,e,i,r),ib(e,r,!1);else{let o=t.get(i);rb(0,e,o,r),rb(1,e,o,r),ib(e,r,!0)}}}function nb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vD(e,o)}}function rb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),vD(e,s)}}function vD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ib(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Um(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function rF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Go(i.type,!0)),s=new Fi(o,Cn(i),J);n.blueprint[r]=s,t[r]=s,iF(n,e,r,QT(n,t,i.hostVars,cs),i)}function iF(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;oF(s)!=a&&s.push(a),s.push(t,r,o)}}function oF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Cn(e)&&(t[""]=n)}}function aF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _D(n,e,t,r,i,o,s,a){let u=e.consts,l=Hl(u,s),h=Xm(e,n,2,r,l);return o&&yD(e,t,h,Hl(u,a),i),h.mergedAttrs=Ha(h.mergedAttrs,h.attrs),h.attrs!==null&&tb(h,h.attrs,!1),h.mergedAttrs!==null&&tb(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function wD(n,e){oT(n,e),Lb(e)&&n.queries.elementEnd(e)}var Jl=class extends fd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ni(e);return new Jo(t,this.ngModule)}};function cF(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&dd.SignalBased)!==0};return i&&(o.transform=i),o})}function uF(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function lF(n,e,t){let r=e instanceof rt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Qg(t,r):t}function dF(n){let e=n.get(Zo,null);if(e===null)throw new $(407,!1);let t=n.get(Y1,null),r=n.get(Li,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function hF(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return qT(e,t,t==="svg"?$b:t==="math"?uk:null)}var Jo=class extends gD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=cF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uF(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=UO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Se(22);let o=pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.7"]:BO(this.componentDef.selectors[0]),u=Bm(0,null,null,1,0,null,null,null,null,[a],null),l=lF(s,i||this.ngModule,e),h=dF(l),p=h.rendererFactory.createRenderer(null,s),y=r?YO(p,r,s.encapsulation,l):hF(s,p),m=$m(null,u,null,512|KT(s),null,null,h,p,l,null,FT(y,l,!0));m[Dn]=y,Im(m);let S=null;try{let x=_D(Dn,u,m,"#host",()=>[this.componentDef],!0,0);y&&(WT(p,y,x),Ja(y,m)),zm(u,m,x),VT(u,x,m),wD(u,x),t!==void 0&&fF(x,this.ngContentSelectors,t),S=An(x.index,m),m[kt]=S[kt],Gm(u,m,null)}catch(x){throw S!==null&&Ug(S),Ug(m),x}finally{Se(23),bm()}return new Yg(this.componentType,m)}finally{pe(o)}}},Yg=class extends K1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=zb(t[he],Dn),this.location=os(this._tNode,t),this.instance=An(this._tNode.index,t)[kt],this.hostView=this.changeDetectorRef=new qa(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=qm(r,i[he],i,e,t);this.previousInputValues.set(e,t);let s=An(r.index,i);Zm(s,1)}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Bi=(()=>{class n{static __NG_ELEMENT_ID__=pF}return n})();function pF(){let n=At();return ID(n,Ae())}var gF=Bi,ED=class extends gF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rm(this._hostTNode,this._hostLView);if(cT(e)){let t=ql(e,this._hostLView),r=zl(e),i=t[he].data[r+8];return new Ri(i,t)}else return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ob(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=eb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,J0(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!ok(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Jo(Ni(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(rt,null);x&&(o=x)}let h=Ni(u.componentType??{}),p=eb(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,J0(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(hk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_t],l=new ED(u,u[hn],u[_t]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return j1(s,i,o,r),e.attachToViewContainerRef(),Cb(gg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ob(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Wg(this._lContainer,t);r&&(Fl(gg(this._lContainer),t),rD(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=Wg(this._lContainer,t);return r&&Fl(gg(this._lContainer),t)!=null?new qa(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ob(n){return n[Bl]}function gg(n){return n[Bl]||(n[Bl]=[])}function ID(n,e){let t,r=e[n.index];return fr(r)?t=r:(t=fD(r,e,null,n),e[n.index]=t,Hm(e,t)),yF(t,e,n,r),new ED(t,n,e)}function mF(n,e){let t=n[Xe],r=t.createComment(""),i=Nn(e,n),o=t.parentNode(i);return Yl(t,o,r,t.nextSibling(i),!1),r}var yF=wF,vF=()=>!1;function _F(n,e,t){return vF(n,e,t)}function wF(n,e,t,r){if(n[Pi])return;let i;t.type&8?i=Sn(r):i=mF(e,t),n[Pi]=i}var Zg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Jg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ey(e,t).matches!==null&&this.queries[t].setDirty()}},Xg=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=AF(e):this.predicate=e}},em=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},tm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,EF(t,o)),this.matchTNodeWithReadOption(e,t,Ml(t,e,o,!1,!1))}else r===Yo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ml(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===en||i===Bi||i===Yo&&t.type&4)this.addMatch(t.index,-2);else{let o=Ml(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function EF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function IF(n,e){return n.type&11?os(n,e):n.type&4?Jm(n,e):null}function bF(n,e,t,r){return t===-1?IF(e,n):t===-2?TF(n,e,r):za(n,n[he],t,e)}function TF(n,e,t){if(t===en)return os(e,n);if(t===Yo)return Jm(e,n);if(t===Bi)return ID(e,n)}function bD(n,e,t,r){let i=e[lr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(bF(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function nm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=bD(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=$t;p<h.length;p++){let y=h[p];y[xi]===y[_t]&&nm(y[he],y,l,r)}if(h[Qo]!==null){let p=h[Qo];for(let y=0;y<p.length;y++){let m=p[y];nm(m[he],m,l,r)}}}}}return r}function DF(n,e){return n[lr].queries[e].queryList}function CF(n,e,t){let r=new jg((t&4)===4);return gk(n,e,r,r.destroy),(e[lr]??=new Jg).queries.push(new Zg(r))-1}function SF(n,e,t,r){let i=St();if(i.firstCreatePass){let o=At();RF(i,new Xg(e,t,r),o.index),MF(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return CF(i,Ae(),t)}function AF(n){return n.split(",").map(e=>e.trim())}function RF(n,e,t){n.queries===null&&(n.queries=new em),n.queries.track(new tm(e,t))}function MF(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function ey(n,e){return n.queries.getByIndex(e)}function NF(n,e){let t=n[he],r=ey(t,e);return r.crossesNgTemplate?nm(t,n,e,[]):bD(t,n,r,e)}var Xo=class{},ty=class{};var rm=class extends Xo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Rb(e);this._bootstrapComponents=HT(o.bootstrap),this._r3Injector=yT(e,t,[{provide:Xo,useValue:this},{provide:fd,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},im=class extends ty{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new rm(this.moduleType,e,[])}};var Xl=class extends Xo{injector;componentFactoryResolver=new Jl(this);instance=null;constructor(e){super();let t=new Ba([...e.providers,{provide:Xo,useValue:this},{provide:fd,useValue:this.componentFactoryResolver}],e.parent||gm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ec(n,e,t=null){return new Xl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var xF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Mb(!1,t.type),i=r.length>0?ec([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(z(rt))})}return n})();function We(n){return Wa(()=>{let e=TD(n),t=de(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ST.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Zt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Xa("NgStandalone"),DD(t);let r=n.dependencies;return t.directiveDefs=sb(r,!1),t.pipeDefs=sb(r,!0),t.id=LF(t),t})}function PF(n){return Ni(n)||WP(n)}function kF(n){return n!==null}function fn(n){return Wa(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OF(n,e){if(n==null)return Mi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=dd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function FF(n){if(n==null)return Mi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Oe(n){return Wa(()=>{let e=TD(n);return DD(e),e})}function TD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Mi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OF(n.inputs,e),outputs:FF(n.outputs),debugInfo:null}}function DD(n){n.features?.forEach(e=>e(n))}function sb(n,e){if(!n)return null;let t=e?KP:PF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(kF)}function LF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function VF(n){return Object.getPrototypeOf(n.prototype).constructor}function Ht(n){let e=VF(n.type),t=!0,r=[n];for(;e;){let i;if(Cn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=mg(n.inputs),s.declaredInputs=mg(n.declaredInputs),s.outputs=mg(n.outputs);let a=i.hostBindings;a&&HF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&BF(n,u),l&&$F(n,l),jF(n,i),TP(n.outputs,i.outputs),Cn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ht&&(t=!1)}}e=Object.getPrototypeOf(e)}UF(r)}function jF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function UF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ha(i.hostAttrs,t=Ha(t,i.hostAttrs))}}function mg(n){return n===Mi?{}:n===Zt?[]:n}function BF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $F(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function HF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tc(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function zF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Xm(e,n,4,s||null,a||null);Kb()&&yD(e,t,h,Hl(l,u),eD),h.mergedAttrs=Ha(h.mergedAttrs,h.attrs),oT(e,h);let p=h.tView=Bm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qF(n,e,t,r,i,o,s,a,u,l){let h=t+Dn,p=e.firstCreatePass?zF(h,e,n,r,i,o,s,a,u):e.data[h];Za(p,!1);let y=GF(e,n,p,t);Sm()&&Qm(e,n,y,p),Ja(y,n);let m=fD(y,n,y,p);return n[h]=m,Hm(n,m),_F(m,p,n),ym(p)&&zm(e,n,p),u!=null&&JT(n,p,l),p}function Fe(n,e,t,r,i,o,s,a){let u=Ae(),l=St(),h=Hl(l.consts,o);return qF(u,l,n,e,t,r,i,h,s,a),Fe}var GF=WF;function WF(n,e,t,r){return Am(!0),e[Xe].createComment("")}var CD=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var SD=new j("");var KF=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new om})}return n})(),om=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function $i(n){return!!n&&typeof n.then=="function"}function AD(n){return!!n&&typeof n.subscribe=="function"}var RD=new j("");function ny(n){return dn([{provide:RD,multi:!0,useValue:n}])}var MD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(RD,{optional:!0})??[];injector=P(Ge);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=it(this.injector,i);if($i(o))t.push(o);else if(AD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pd=new j("");function QF(){Vp(()=>{throw new $(600,!1)})}function YF(n){return n.isBoundToModule}var ZF=10;var Vi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(iO);afterRenderManager=P(OT);zonelessEnabled=P(_T);rootEffectScheduler=P(KF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(Pn).hasPendingTasks.pipe(ae(t=>!t));constructor(){P(as,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ge.NULL){Se(10);let o=t instanceof gD;if(!this._injector.get(MD).done){let m="";throw new $(405,m)}let a;o?a=t:a=this._injector.get(fd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=YF(a)?void 0:this._injector.get(Xo),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(SD,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Nl(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Se(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),Se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<ZF;)Se(14),this.synchronizeOnce(),Se(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)JF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ad(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Nl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(pd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JF(n,e,t,r){if(!t&&!ad(n))return;uD(n,e,t&&!r?0:1)}function Gr(n,e,t,r){let i=Ae(),o=cd();if(tc(i,o,e)){let s=St(),a=Tm();i1(a,i,n,e,t,r)}return Gr}function XF(n,e,t,r){return tc(n,cd(),t)?e+rd(t)+r:cs}function Cl(n,e){return n<<17|e<<2}function ji(n){return n>>17&32767}function eL(n){return(n&2)==2}function tL(n,e){return n&131071|e<<17}function sm(n){return n|2}function es(n){return(n&131068)>>2}function yg(n,e){return n&-131069|e<<2}function nL(n){return(n&1)===1}function am(n){return n|1}function rL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ji(s),u=es(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ka(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=ji(n[a+1]);n[r+1]=Cl(y,a),y!==0&&(n[y+1]=yg(n[y+1],r)),n[a+1]=tL(n[a+1],r)}else n[r+1]=Cl(a,0),a!==0&&(n[a+1]=yg(n[a+1],r)),a=r;else n[r+1]=Cl(u,0),a===0?a=r:n[u+1]=yg(n[u+1],r),u=r;l&&(n[r+1]=sm(n[r+1])),ab(n,h,r,!0),ab(n,h,r,!1),iL(e,h,n,r,o),s=Cl(a,u),o?e.classBindings=s:e.styleBindings=s}function iL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ka(o,e)>=0&&(t[r+1]=am(t[r+1]))}function ab(n,e,t,r){let i=n[t+1],o=e===null,s=r?ji(i):es(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];oL(u,e)&&(a=!0,n[s+1]=r?am(l):sm(l)),s=r?ji(l):es(l)}a&&(n[t+1]=r?sm(i):am(i))}function oL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ka(n,e)>=0:!1}function me(n,e,t){let r=Ae(),i=cd();if(tc(r,i,e)){let o=St(),s=Tm();XT(o,s,r,n,e,r[Xe],t,!1)}return me}function cb(n,e,t,r,i){qm(e,n,t,i?"class":"style",r)}function ry(n,e,t){return ND(n,e,t,!1),ry}function Wr(n,e){return ND(n,e,null,!0),Wr}function ND(n,e,t,r){let i=Ae(),o=St(),s=Ck(2);if(o.firstUpdatePass&&aL(o,n,s,r),e!==cs&&tc(i,s,e)){let a=o.data[rs()];hL(o,a,i,i[Xe],n,i[s+1]=fL(e,t),r,s)}}function sL(n,e){return e>=n.expandoStartIndex}function aL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[rs()],s=sL(n,t);pL(o,r)&&e===null&&!s&&(e=!1),e=cL(i,o,e,r),rL(i,o,e,t,s,r)}}function cL(n,e,t,r){let i=Mk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vg(null,n,e,t,r),t=Ga(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vg(i,n,e,t,r),o===null){let u=uL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vg(null,n,e,u[1],r),u=Ga(u,e.attrs,r),lL(n,e,r,u))}else o=dL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function uL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(es(r)!==0)return n[ji(r)]}function lL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ji(i)]=r}function dL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ga(r,s,t)}return Ga(r,e.attrs,t)}function vg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ga(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ga(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),qP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function hL(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=nL(l)?ub(u,e,t,i,es(l),s):void 0;if(!ed(h)){ed(o)||eL(l)&&(o=ub(u,null,t,i,a,s));let p=Hb(rs(),t);D1(r,s,p,i,o)}}function ub(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===cs&&(y=p?Zt:void 0);let m=p?cg(y,r):h===r?y:void 0;if(l&&!ed(m)&&(m=cg(u,r)),ed(m)&&(a=m,s))return a;let S=n[i+1];i=s?ji(S):es(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=cg(u,r))}return a}function ed(n){return n!==void 0}function fL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pt(ld(n)))),n}function pL(n,e){return(n.flags&(e?8:16))!==0}function A(n,e,t,r){let i=Ae(),o=St(),s=Dn+n,a=i[Xe],u=o.firstCreatePass?_D(s,o,i,e,eD,Kb(),t,r):o.data[s],l=gL(o,i,u,a,e,n);i[s]=l;let h=ym(u);return Za(u,!0),WT(a,l,u),!tD(u)&&Sm()&&Qm(o,i,l,u),(mk()===0||h)&&Ja(l,i),yk(),h&&(zm(o,i,u),VT(o,u,i)),r!==null&&JT(i,u),A}function R(){let n=At();Yb()?bk():(n=n.parent,Za(n,!1));let e=n;wk(e)&&Ek(),vk();let t=St();return t.firstCreatePass&&wD(t,e),e.classesWithoutHost!=null&&Lk(e)&&cb(t,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Vk(e)&&cb(t,e,Ae(),e.stylesWithoutHost,!1),R}function X(n,e,t,r){return A(n,e,t,r),R(),X}var gL=(n,e,t,r,i,o)=>(Am(!0),qT(r,i,kk()));function Hi(){return Ae()}var td="en-US";var mL=td;function yL(n){typeof n=="string"&&(mL=n.toLowerCase().replace(/_/g,"-"))}function lb(n,e,t){return function r(i){if(i===Function)return t;let o=ns(n)?An(n.index,e):e;Zm(o,5);let s=e[kt],a=db(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=db(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function db(n,e,t,r){let i=pe(null);try{return Se(6,e,t),t(r)!==!1}catch(o){return vL(n,o),!1}finally{Se(7,e,t),pe(i)}}function vL(n,e){let t=n[Ko],r=t?t.get(Rn,null):null;r&&r.handleError(e)}function hb(n,e,t,r,i,o){let s=e[t],a=e[he],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?wm(a):null,y=_m(e),m=h.subscribe(o),S=y.length;y.push(o,m),p&&p.push(i,n.index,S,-(S+1))}var _L=(n,e,t)=>{};function Le(n,e,t,r){let i=Ae(),o=St(),s=At();return xD(o,i,i[Xe],s,n,e,r),Le}function wL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[jl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function xD(n,e,t,r,i,o,s){let a=ym(r),l=n.firstCreatePass?wm(n):null,h=_m(e),p=!0;if(r.type&3||s){let y=Nn(r,e),m=s?s(y):y,S=h.length,x=s?U=>s(Sn(U[r.index])):r.index,N=null;if(!s&&a&&(N=wL(n,e,i,r.index)),N!==null){let U=N.__ngLastListenerFn__||N;U.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=lb(r,e,o),_L(m,i,o);let U=t.listen(m,i,o);h.push(o,U),l&&l.push(i,x,S,S+1)}}else o=lb(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let S=0;S<m.length;S+=2){let x=m[S],N=m[S+1];hb(r,e,x,N,i,o)}if(y&&y.length)for(let S of y)hb(r,e,S,i,i,o)}}function Ft(n=1){return xk(n)}function PD(n,e,t,r){SF(n,e,t,r)}function kD(n){let e=Ae(),t=St(),r=Jb();Em(r+1);let i=ey(t,r);if(n.dirty&&dk(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=NF(e,r);n.reset(o,aO),n.notifyOnChanges()}return!0}return!1}function OD(){return DF(Ae(),Jb())}function et(n){let e=Tk();return lk(e,Dn+n)}function k(n,e=""){let t=Ae(),r=St(),i=n+Dn,o=r.firstCreatePass?Xm(r,i,1,e,null):r.data[i],s=EL(r,t,o,e,n);t[i]=s,Sm()&&Qm(r,t,s,o),Za(o,!1)}var EL=(n,e,t,r,i)=>(Am(!0),$O(e[Xe],r));function us(n){return ls("",n,""),us}function ls(n,e,t){let r=Ae(),i=XF(r,n,e,t);return i!==cs&&IL(r,rs(),i),ls}function IL(n,e,t){let r=Hb(e,n);HO(n[Xe],r,t)}function kn(n,e,t){DT(e)&&(e=e());let r=Ae(),i=cd();if(tc(r,i,e)){let o=St(),s=Tm();XT(o,s,r,n,e,r[Xe],t,!1)}return kn}function gr(n,e){let t=DT(n);return t&&n.set(e),t}function On(n,e){let t=Ae(),r=St(),i=At();return xD(r,t,t[Xe],i,n,e),On}function bL(n,e,t){let r=St();if(r.firstCreatePass){let i=Cn(n);cm(t,r.data,r.blueprint,i,!0),cm(e,r.data,r.blueprint,i,!1)}}function cm(n,e,t,r,i){if(n=Ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)cm(n[o],e,t,r,i);else{let o=St(),s=Ae(),a=At(),u=Wo(n)?n:Ct(n.provide),l=Pb(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Wo(n)||!n.multi){let m=new Fi(l,i,J),S=wg(u,e,i?h:h+y,p);S===-1?(Pg(Gl(a,s),o,u),_g(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[S]=m,s[S]=m)}else{let m=wg(u,e,h+y,p),S=wg(u,e,h,h+y),x=m>=0&&t[m],N=S>=0&&t[S];if(i&&!N||!i&&!x){Pg(Gl(a,s),o,u);let U=CL(i?DL:TL,t.length,i,r,l);!i&&N&&(t[S].providerFactory=U),_g(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=FD(t[i?S:m],l,!i&&r);_g(o,n,m>-1?m:S,U)}!i&&r&&N&&t[S].componentProviders++}}}function _g(n,e,t,r){let i=Wo(e),o=XP(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function FD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TL(n,e,t,r){return um(this.multi,[])}function DL(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=za(t,t[he],this.providerFactory.index,r);o=a.slice(0,s),um(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],um(i,o);return o}function um(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function CL(n,e,t,r,i){let o=new Fi(n,t,J);return o.multi=[],o.index=e,o.componentProviders=0,FD(o,i,r&&!t),o}function mr(n,e=[]){return t=>{t.providersResolver=(r,i)=>bL(r,i?i(n):n,e)}}var Ui=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},LD=new Ui("19.2.7"),lm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gd=(()=>{class n{compileModuleSync(t){return new im(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Rb(t),o=HT(i.declarations).reduce((s,a)=>{let u=Ni(a);return u&&s.push(new Jo(u)),s},[]);return new lm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SL=(()=>{class n{zone=P(we);changeDetectionScheduler=P(Li);applicationRef=P(Vi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AL({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(de(L({},RL()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:Ua,multi:!0,useFactory:()=>{let r=P(SL,{optional:!0});return()=>r.initialize()}},{provide:Ua,multi:!0,useFactory:()=>{let r=P(ML);return()=>{r.initialize()}}},e===!0?{provide:wT,useValue:!0}:[],{provide:ET,useValue:t??vT}]}function RL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var ML=(()=>{class n{subscription=new ke;initialized=!1;zone=P(we);pendingTasks=P(Pn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NL=(()=>{class n{appRef=P(Vi);taskService=P(Pn);ngZone=P(we);zonelessEnabled=P(_T);tracing=P(as,{optional:!0});disableScheduling=P(wT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Kl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(ET,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?H0:IT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Kl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,H0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xL(){return typeof $localize<"u"&&$localize.locale||td}var iy=new j("",{providedIn:"root",factory:()=>P(iy,ue.Optional|ue.SkipSelf)||xL()});var dm=new j(""),PL=new j("");function Fa(n){return!n.moduleRef}function kL(n){let e=Fa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{Fa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Rn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Fa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(dm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(dm);s.add(o),n.moduleRef.onDestroy(()=>{Nl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return FL(r,t,()=>{let o=e.get(MD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(iy,td);if(yL(s||td),!e.get(PL,!0))return Fa(n)?e.get(Vi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Fa(n)){let u=e.get(Vi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return OL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function OL(n,e){let t=n.injector.get(Vi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function FL(n,e,t){try{let r=t();return $i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var xl=null;function LL(n=[],e){return Ge.create({name:e,providers:[{provide:od,useValue:"platform"},{provide:dm,useValue:new Set([()=>xl=null])},...n]})}function VL(n=[]){if(xl)return xl;let e=LL(n);return xl=e,QF(),jL(e),e}function jL(n){let e=n.get(km,null);it(n,()=>{e?.forEach(t=>t())})}function oy(){return!1}var Kr=(()=>{class n{static __NG_ELEMENT_ID__=UL}return n})();function UL(n){return BL(At(),Ae(),(n&16)===16)}function BL(n,e,t){if(ns(n)&&!t){let r=An(n.index,e);return new qa(r,r)}else if(n.type&175){let r=e[Tn];return new qa(r,e)}return null}function VD(n){Se(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=VL(r),o=[AL({}),{provide:Li,useExisting:NL},...t||[]],s=new Xl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return kL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Se(9)}}function Qr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Fn(n){return Bp(n)}function ds(n,e){return Lp(n,e?.equal)}var fb=class{[Qt];constructor(e){this[Qt]=e}destroy(){this[Qt].destroy()}};function jD(n){let e=Ni(n);if(!e)return null;let t=new Jo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ke=new j("");var $D=null;function tn(){return $D}function sy(n){$D??=n}var nc=class{},rc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(HD),providedIn:"platform"})}return n})(),ay=new j(""),HD=(()=>{class n extends rc{_location;_history;_doc=P(Ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function md(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function UD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function pn(n){return n&&n[0]!=="?"?`?${n}`:n}var gn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(vd),providedIn:"root"})}return n})(),yd=new j(""),vd=(()=>{class n extends gn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return md(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+pn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(rc),z(yd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yr=(()=>{class n{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=zL(UD(BD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pn(r))}normalize(t){return n.stripTrailingSlash(HL(this._basePath,BD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=pn;static joinWithSlash=md;static stripTrailingSlash=UD;static \u0275fac=function(r){return new(r||n)(z(gn))};static \u0275prov=H({token:n,factory:()=>$L(),providedIn:"root"})}return n})();function $L(){return new Yr(z(gn))}function HL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function BD(n){return n.replace(/\/index.html$/,"")}function zL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var cy=(()=>{class n extends gn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=md(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(rc),z(yd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var zi=(()=>{class n{_viewContainer;_context=new _d;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(Bi),J(Yo))};static \u0275dir=Oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),_d=class{$implicit=null;ngIf=null};function zD(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}var Zr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fn({type:n});static \u0275inj=ln({})}return n})();function ic(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wd="browser",qD="server";function uy(n){return n===wd}function Ed(n){return n===qD}var qi=class{};var GD=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new ly(P(Ke),window)})}return n})(),ly=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=GL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function GL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Dd=new j(""),py=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Dd),z(we))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),oc=class{_doc;constructor(e){this._doc=e}manager},bd="ng-app-id";function WD(n){for(let e of n)e.remove()}function KD(n,e){let t=e.createElement("style");return t.textContent=n,t}function WL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${bd}="${e}"],link[${bd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(bd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ed(o),WL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,KD);r?.forEach(i=>this.addUsage(i,this.external,hy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(WD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])WD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,KD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(Ke),z(Pm),z(Om,8),z(Ot))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),dy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},my=/%COMP%/g;var YD="%COMP%",KL=`_nghost-${YD}`,QL=`_ngcontent-${YD}`,YL=!0,ZL=new j("",{providedIn:"root",factory:()=>YL});function JL(n){return QL.replace(my,n)}function XL(n){return KL.replace(my,n)}function ZD(n,e){return e.map(t=>t.replace(my,n))}var yy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Ed(a),this.defaultRenderer=new sc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mn.ShadowDom&&(r=de(L({},r),{encapsulation:Mn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Td?i.applyToHost(t):i instanceof ac&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Mn.Emulated:o=new Td(u,l,r,this.appId,h,s,a,p,y);break;case Mn.ShadowDom:return new fy(u,l,t,r,s,a,this.nonce,p,y);default:o=new ac(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(py),z(gy),z(Pm),z(ZL),z(Ke),z(Ot),z(we),z(Om),z(as,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),sc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(dy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(QD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(QD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=dy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=dy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function QD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fy=class extends sc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=ZD(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=hy(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ac=class extends sc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?ZD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Td=class extends ac{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=JL(h),this.hostAttr=XL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Cd=class n extends nc{supportsDOMEvents=!0;static makeCurrent(){sy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=eV();return t==null?null:tV(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ic(document.cookie,e)}},cc=null;function eV(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function tV(n){return new URL(n,document.baseURI).pathname}var nV=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),XD=(()=>{class n extends oc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(Ke))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),JD=["alt","control","meta","shift"],rV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eC=(()=>{class n extends oc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=rV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JD.forEach(s=>{if(s!==i){let a=iV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(Ke))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function vy(n,e){return VD(L({rootComponent:n},oV(e)))}function oV(n){return{appProviders:[...lV,...n?.providers??[]],platformProviders:uV}}function sV(){Cd.makeCurrent()}function aV(){return new Rn}function cV(){return xT(document),document}var uV=[{provide:Ot,useValue:wd},{provide:km,useValue:sV,multi:!0},{provide:Ke,useFactory:cV}];var lV=[{provide:od,useValue:"root"},{provide:Rn,useFactory:aV},{provide:Dd,useClass:XD,multi:!0,deps:[Ke]},{provide:Dd,useClass:eC,multi:!0,deps:[Ke]},yy,gy,py,{provide:Zo,useExisting:yy},{provide:qi,useClass:nV},[]];var fs=class{},uc=class{},Jr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ad=class{encodeKey(e){return tC(e)}encodeValue(e){return tC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function dV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var hV=/%(\d[a-f0-9])/gi,fV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tC(n){return encodeURIComponent(n).replace(hV,(e,t)=>fV[t]??e)}function Sd(n){return`${n}`}var yr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ad,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=dV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Sd):[Sd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Sd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Sd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Rd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function pV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rC(n){return typeof Blob<"u"&&n instanceof Blob}function iC(n){return typeof FormData<"u"&&n instanceof FormData}function gV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var oC="Content-Type",sC="Accept",cC="X-Request-URL",uC="text/plain",lC="application/json",mV=`${lC}, ${uC}, */*`,hs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(pV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Jr,this.context??=new Rd,!this.params)this.params=new yr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||nC(this.body)||rC(this.body)||iC(this.body)||gV(this.body)?this.body:this.body instanceof yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||iC(this.body)?null:rC(this.body)?this.body.type||null:nC(this.body)?null:typeof this.body=="string"?uC:this.body instanceof yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?lC:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,m)=>y.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,m)=>y.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Gi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gi||{}),ps=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Jr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Md=class n extends ps{constructor(e={}){super(e)}type=Gi.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lc=class n extends ps{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Gi.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},dc=class extends ps{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yV=200,vV=204;function _y(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var xd=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof hs)o=t;else{let u;i.headers instanceof Jr?u=i.headers:u=new Jr(i.headers);let l;i.params&&(i.params instanceof yr?l=i.params:l=new yr({fromObject:i.params})),o=new hs(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=G(o).pipe(In(u=>this.handler.handle(u)));if(t instanceof hs||i.observe==="events")return s;let a=s.pipe(Dt(u=>u instanceof lc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ae(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return a.pipe(ae(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return a.pipe(ae(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return a.pipe(ae(u=>u.body))}case"response":return a;default:throw new $(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new yr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_y(i,r))}post(t,r,i={}){return this.request("POST",t,_y(i,r))}put(t,r,i={}){return this.request("PUT",t,_y(i,r))}static \u0275fac=function(r){return new(r||n)(z(fs))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var _V=new j("");function dC(n,e){return e(n)}function wV(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function EV(n,e,t){return(r,i)=>it(t,()=>e(r,o=>n(o,i)))}var hC=new j(""),Ey=new j(""),fC=new j(""),Iy=new j("",{providedIn:"root",factory:()=>!0});function IV(){let n=null;return(e,t)=>{n===null&&(n=(P(hC,{optional:!0})??[]).reduceRight(wV,dC));let r=P(Pn);if(P(Iy)){let o=r.add();return n(e,t).pipe($r(()=>r.remove(o)))}else return n(e,t)}}var Nd=(()=>{class n extends fs{backend;injector;chain=null;pendingTasks=P(Pn);contributeToStability=P(Iy);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ey),...this.injector.get(fC,[])]));this.chain=r.reduceRight((i,o)=>EV(i,o,this.injector),dC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe($r(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(z(uc),z(rt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var bV=/^\)\]\}',?\n/,TV=RegExp(`^${cC}:`,"m");function DV(n){return"responseURL"in n&&n.responseURL?n.responseURL:TV.test(n.getAllResponseHeaders())?n.getResponseHeader(cC):null}var wy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ce(r.\u0275loadImpl()):G(null)).pipe(xt(()=>new se(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,N)=>s.setRequestHeader(x,N.join(","))),t.headers.has(sC)||s.setRequestHeader(sC,mV),!t.headers.has(oC)){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader(oC,x)}if(t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let x=s.statusText||"OK",N=new Jr(s.getAllResponseHeaders()),U=DV(s)||t.url;return u=new Md({headers:N,status:s.status,statusText:x,url:U}),u},h=()=>{let{headers:x,status:N,statusText:U,url:oe}=l(),q=null;N!==vV&&(q=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=q?yV:0);let De=N>=200&&N<300;if(t.responseType==="json"&&typeof q=="string"){let lt=q;q=q.replace(bV,"");try{q=q!==""?JSON.parse(q):null}catch(Ie){q=lt,De&&(De=!1,q={error:Ie,text:q})}}De?(o.next(new lc({body:q,headers:x,status:N,statusText:U,url:oe||void 0})),o.complete()):o.error(new dc({error:q,headers:x,status:N,statusText:U,url:oe||void 0}))},p=x=>{let{url:N}=l(),U=new dc({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(U)},y=!1,m=x=>{y||(o.next(l()),y=!0);let N={type:Gi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(N.total=x.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},S=x=>{let N={type:Gi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(N.total=x.total),o.next(N)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Gi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(z(qi))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),pC=new j(""),CV="XSRF-TOKEN",SV=new j("",{providedIn:"root",factory:()=>CV}),AV="X-XSRF-TOKEN",RV=new j("",{providedIn:"root",factory:()=>AV}),hc=class{},MV=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ic(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(z(Ke),z(Ot),z(SV))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function NV(n,e){let t=n.url.toLowerCase();if(!P(pC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=P(hc).getToken(),i=P(RV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var by=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(by||{});function xV(n,e){return{\u0275kind:n,\u0275providers:e}}function gC(...n){let e=[xd,wy,Nd,{provide:fs,useExisting:Nd},{provide:uc,useFactory:()=>P(_V,{optional:!0})??P(wy)},{provide:Ey,useValue:NV,multi:!0},{provide:pC,useValue:!0},{provide:hc,useClass:MV}];for(let t of n)e.push(...t.\u0275providers);return dn(e)}var aC=new j("");function mC(){return xV(by.LegacyInterceptors,[{provide:aC,useFactory:IV},{provide:Ey,useExisting:aC,multi:!0}])}var Ty=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fn({type:n});static \u0275inj=ln({providers:[gC(mC())]})}return n})();var yC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(Ke))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie="primary",Dc=Symbol("RouteTitle"),Ry=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Qi(n){return new Ry(n)}function DC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function OV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ln(n[t],e[t]))return!1;return!0}function Ln(n,e){let t=n?My(n):void 0,r=e?My(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CC(n[i],e[i]))return!1;return!0}function My(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function CC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function SC(n){return n.length>0?n[n.length-1]:null}function ri(n){return ng(n)?n:$i(n)?Ce(Promise.resolve(n)):G(n)}var FV={exact:RC,subset:MC},AC={exact:LV,subset:VV,ignored:()=>!0};function vC(n,e,t){return FV[t.paths](n.root,e.root,t.matrixParams)&&AC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function LV(n,e){return Ln(n,e)}function RC(n,e,t){if(!Wi(n.segments,e.segments)||!Od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!RC(n.children[r],e.children[r],t))return!1;return!0}function VV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CC(n[t],e[t]))}function MC(n,e,t){return NC(n,e,e.segments,t)}function NC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Wi(i,t)||e.hasChildren()||!Od(i,t,r))}else if(n.segments.length===t.length){if(!Wi(n.segments,t)||!Od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!MC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Wi(n.segments,i)||!Od(n.segments,i,r)||!n.children[ie]?!1:NC(n.children[ie],e,o,r)}}function Od(n,e,t){return e.every((r,i)=>AC[t](n[i].parameters,r.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){return BV.serialize(this)}},be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fd(this)}},Xr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Qi(this.parameters),this._parameterMap}toString(){return PC(this)}};function jV(n,e){return Wi(n,e)&&n.every((t,r)=>Ln(t.parameters,e[r].parameters))}function Wi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function UV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var Yi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new ei,providedIn:"root"})}return n})(),ei=class{parse(e){let t=new xy(e);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${fc(e.root,!0)}`,r=zV(e.queryParams),i=typeof e.fragment=="string"?`#${$V(e.fragment)}`:"";return`${t}${r}${i}`}},BV=new ei;function Fd(n){return n.segments.map(e=>PC(e)).join("/")}function fc(n,e){if(!n.hasChildren())return Fd(n);if(e){let t=n.children[ie]?fc(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${fc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=UV(n,(r,i)=>i===ie?[fc(n.children[ie],!1)]:[`${i}:${fc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Fd(n)}/${t[0]}`:`${Fd(n)}/(${t.join("//")})`}}function xC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(n){return xC(n).replace(/%3B/gi,";")}function $V(n){return encodeURI(n)}function Ny(n){return xC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ld(n){return decodeURIComponent(n)}function _C(n){return Ld(n.replace(/\+/g,"%20"))}function PC(n){return`${Ny(n.path)}${HV(n.parameters)}`}function HV(n){return Object.entries(n).map(([e,t])=>`;${Ny(e)}=${Ny(t)}`).join("")}function zV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Pd(t)}=${Pd(i)}`).join("&"):`${Pd(t)}=${Pd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var qV=/^[^\/()?;#]+/;function Dy(n){let e=n.match(qV);return e?e[0]:""}var GV=/^[^\/()?;=#]+/;function WV(n){let e=n.match(GV);return e?e[0]:""}var KV=/^[^=?&#]+/;function QV(n){let e=n.match(KV);return e?e[0]:""}var YV=/^[^&#]+/;function ZV(n){let e=n.match(YV);return e?e[0]:""}var xy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new be(e,t)),r}parseSegment(){let e=Dy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Xr(Ld(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=WV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Dy(this.remaining);i&&(r=i,this.capture(r))}e[Ld(t)]=Ld(r)}parseQueryParam(e){let t=QV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=ZV(this.remaining);s&&(r=s,this.capture(r))}let i=_C(t),o=_C(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function kC(n){return n.segments.length>0?new be([],{[ie]:n}):n}function OC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=OC(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return JV(t)}function JV(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new be(n.segments.concat(e.segments),e.children)}return n}function ti(n){return n instanceof jn}function FC(n,e,t=null,r=null){let i=LC(n);return VC(i,e,t,r)}function LC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=kC(r);return e??i}function VC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Cy(i,i,i,t,r);let o=XV(e);if(o.toRoot())return Cy(i,i,new be([],{}),t,r);let s=e2(o,i,n),a=s.processChildren?gc(s.segmentGroup,s.index,o.commands):UC(s.segmentGroup,s.index,o.commands);return Cy(i,s.segmentGroup,a,t,r)}function jd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function yc(n){return typeof n=="object"&&n!=null&&n.outlets}function Cy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=jC(n,e,t);let a=kC(OC(s));return new jn(a,o,i)}function jC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=jC(o,e,t)}),new be(n.segments,r)}var Ud=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jd(r[0]))throw new $(4003,!1);let i=r.find(yc);if(i&&i!==SC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ud(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ud(t,e,r)}var ys=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function e2(n,e,t){if(n.isAbsolute)return new ys(e,!0,0);if(!t)return new ys(e,!1,NaN);if(t.parent===null)return new ys(t,!0,0);let r=jd(n.commands[0])?0:1,i=t.segments.length-1+r;return t2(t,i,n.numberOfDoubleDots)}function t2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new ys(r,!1,i-o)}function n2(n){return yc(n[0])?n[0].outlets:{[ie]:n}}function UC(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return gc(n,e,t);let r=r2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new be(n.segments.slice(r.pathIndex),n.children),gc(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?Py(n,e,t):r.match?gc(n,0,i):Py(n,e,t)}function gc(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=n2(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=gc(n.children[ie],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=UC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function r2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(yc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!EC(u,l,s))return o;r+=2}else{if(!EC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Py(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(yc(o)){let u=i2(o.outlets);return new be(r,u)}if(i===0&&jd(t[0])){let u=n.segments[e];r.push(new Xr(u.path,wC(t[0]))),i++;continue}let s=yc(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&jd(a)?(r.push(new Xr(s,wC(a))),i+=2):(r.push(new Xr(s,{})),i++)}return new be(r,{})}function i2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Py(new be([],{}),0,r))}),e}function wC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function EC(n,e,t){return n==t.path&&Ln(e,t.parameters)}var Vd="imperative",tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tt||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},ni=class extends qt{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends qt{urlAfterRedirects;type=tt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Lt||{}),_s=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(_s||{}),Vn=class extends qt{reason;code;type=tt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends qt{reason;code;type=tt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ws=class extends qt{error;target;type=tt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vc=class extends qt{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends qt{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class extends qt{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hd=class extends qt{urlAfterRedirects;state;type=tt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends qt{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class{route;type=tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gd=class{route;type=tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wd=class{snapshot;type=tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{snapshot;type=tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qd=class{snapshot;type=tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{snapshot;type=tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Es=class{routerEvent;position;anchor;type=tt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},_c=class{},Is=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function o2(n,e){return n.providers&&!n._injector&&(n._injector=ec(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mn(n){return n.outlet||ie}function s2(n,e){let t=n.filter(r=>mn(r)===e);return t.push(...n.filter(r=>mn(r)!==e)),t}function Cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Cc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Zi(this.rootInjector)}},Zi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(rt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ky(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ky(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Oy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Oy(e,this._root).map(t=>t.value)}};function ky(n,e){if(n===e.value)return e;for(let t of e.children){let r=ky(n,t);if(r)return r}return null}function Oy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Oy(n,t);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wc=class extends Jd{snapshot;constructor(e,t){super(e),this.snapshot=t,Hy(this,e)}toString(){return this.snapshot.toString()}};function BC(n){let e=a2(n),t=new ht([new Xr("",{})]),r=new ht({}),i=new ht({}),o=new ht({}),s=new ht(""),a=new Bn(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new wc(new zt(a,[]),e)}function a2(n){let e={},t={},r={},i="",o=new Ki([],e,r,i,t,ie,n,null,{});return new Ec("",new zt(o,[]))}var Bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[Dc]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Qi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Qi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&HC(i)&&(r.resolve[Dc]=i.title),r}var Ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Dc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ec=class extends Jd{url;constructor(e,t){super(t),this.url=e,Hy(this,t)}toString(){return $C(this._root)}};function Hy(n,e){e.value._routerState=n,e.children.forEach(t=>Hy(n,t))}function $C(n){let e=n.children.length>0?` { ${n.children.map($C).join(", ")} } `:"";return`${n.value}${e}`}function Sy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ln(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ln(e.params,t.params)||n.paramsSubject.next(t.params),OV(e.url,t.url)||n.urlSubject.next(t.url),Ln(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fy(n,e){let t=Ln(n.params,e.params)&&jV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Fy(n.parent,e.parent))}function HC(n){return typeof n.title=="string"||n.title===null}var zC=new j(""),vr=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new qe;deactivateEvents=new qe;attachEvents=new qe;detachEvents=new qe;routerOutletData=TT(void 0);parentContexts=P(Zi);location=P(Bi);changeDetector=P(Kr);inputBinder=P(Sc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ly(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pr]})}return n})(),Ly=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Bn?this.route:e===Zi?this.childContexts:e===zC?this.outletData:this.parent.get(e,t)}},Sc=new j(""),zy=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Oa([r.queryParams,r.params,r.data]).pipe(xt(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?G(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=jD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function c2(n,e,t){let r=Ic(n,e._root,t?t._root:void 0);return new wc(r,e)}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=u2(n,e,t);return new zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ic(n,a)),s}}let r=l2(e.value),i=e.children.map(o=>Ic(n,o));return new zt(r,i)}}function u2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ic(n,r,i);return Ic(n,r)})}function l2(n){return new Bn(new ht(n.url),new ht(n.params),new ht(n.queryParams),new ht(n.fragment),new ht(n.data),n.outlet,n.component,n)}var bs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},qC="ngNavigationCancelingError";function eh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GC(!1,Lt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function GC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[qC]=!0,t.cancellationCode=e,t}function d2(n){return WC(n)&&ti(n.url)}function WC(n){return!!n&&n[qC]}var h2=(n,e,t,r)=>ae(i=>(new Vy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Vy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Sy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},th=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function f2(n,e,t){let r=n._root,i=e?e._root:null;return pc(r,i,t,[r.value])}function p2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ds(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!_b(n)?n:e.get(n):r}function pc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return n.children.forEach(s=>{g2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mc(a,t.getContext(s),i)),i}function g2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=m2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new th(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pc(n,e,a?a.children:null,r,i):pc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&mc(e,a,i),i.canActivateChecks.push(new th(r)),o.component?pc(n,null,a?a.children:null,r,i):pc(n,null,t,r,i);return i}function m2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Wi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(n.url,e.url)||!Ln(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fy(n,e)||!Ln(n.queryParams,e.queryParams);case"paramsChange":default:return!Fy(n,e)}}function mc(n,e,t){let r=ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?mc(s,e.children.getContext(o),t):mc(s,null,t):mc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new vs(e.outlet.component,i)):t.canDeactivateChecks.push(new vs(null,i)):t.canDeactivateChecks.push(new vs(null,i))}function Ac(n){return typeof n=="function"}function y2(n){return typeof n=="boolean"}function v2(n){return n&&Ac(n.canLoad)}function _2(n){return n&&Ac(n.canActivate)}function w2(n){return n&&Ac(n.canActivateChild)}function E2(n){return n&&Ac(n.canDeactivate)}function I2(n){return n&&Ac(n.canMatch)}function KC(n){return n instanceof or||n?.name==="EmptyError"}var kd=Symbol("INITIAL_VALUE");function Ts(){return xt(n=>Oa(n.map(e=>e.pipe(ar(1),sg(kd)))).pipe(ae(e=>{for(let t of e)if(t!==!0){if(t===kd)return kd;if(t===!1||b2(t))return t}return!0}),Dt(e=>e!==kd),ar(1)))}function b2(n){return ti(n)||n instanceof bs}function T2(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(de(L({},t),{guardsResult:!0})):D2(s,r,i,n).pipe(Be(a=>a&&y2(a)?C2(r,o,n,e):G(a)),ae(a=>de(L({},t),{guardsResult:a})))})}function D2(n,e,t,r){return Ce(n).pipe(Be(i=>N2(i.component,i.route,t,e,r)),cr(i=>i!==!0,!0))}function C2(n,e,t,r){return Ce(e).pipe(In(i=>Vo(A2(i.route.parent,r),S2(i.route,r),M2(n,i.path,t),R2(n,i.route,t))),cr(i=>i!==!0,!0))}function S2(n,e){return n!==null&&e&&e(new Qd(n)),G(!0)}function A2(n,e){return n!==null&&e&&e(new Wd(n)),G(!0)}function R2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Il(()=>{let s=Cc(e)??t,a=Ds(o,s),u=_2(a)?a.canActivate(e,n):it(s,()=>a(e,n));return ri(u).pipe(cr())}));return G(i).pipe(Ts())}function M2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>p2(s)).filter(s=>s!==null).map(s=>Il(()=>{let a=s.guards.map(u=>{let l=Cc(s.node)??t,h=Ds(u,l),p=w2(h)?h.canActivateChild(r,n):it(l,()=>h(r,n));return ri(p).pipe(cr())});return G(a).pipe(Ts())}));return G(o).pipe(Ts())}function N2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=Cc(e)??i,l=Ds(a,u),h=E2(l)?l.canDeactivate(n,e,t,r):it(u,()=>l(n,e,t,r));return ri(h).pipe(cr())});return G(s).pipe(Ts())}function x2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=Ds(s,n),u=v2(a)?a.canLoad(e,t):it(n,()=>a(e,t));return ri(u)});return G(o).pipe(Ts(),QC(r))}function QC(n){return Kp(ft(e=>{if(typeof e!="boolean")throw eh(n,e)}),ae(e=>e===!0))}function P2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=Ds(s,n),u=I2(a)?a.canMatch(e,t):it(n,()=>a(e,t));return ri(u)});return G(o).pipe(Ts(),QC(r))}var bc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gs(n){return Lo(new bc(n))}function k2(n){return Lo(new $(4e3,!1))}function O2(n){return Lo(GC(!1,Lt.GuardRejected))}var jy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[ie])return k2(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:S,title:x}=i,N=it(o,()=>a({params:m,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:x}));if(N instanceof jn)throw new Tc(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Tc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Uy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F2(n,e,t,r,i){let o=YC(n,e,t);return o.matched?(r=o2(e,r),P2(r,e,t,i).pipe(ae(s=>s===!0?o:L({},Uy)))):G(o)}function YC(n,e,t){if(e.path==="**")return L2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Uy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||DC)(t,n,e);if(!i)return L({},Uy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function L2(n){return{matched:!0,parameters:n.length>0?SC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function IC(n,e,t,r){return t.length>0&&U2(n,t,r)?{segmentGroup:new be(e,j2(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&B2(n,t,r)?{segmentGroup:new be(n.segments,V2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function V2(n,e,t,r){let i={};for(let o of t)if(rh(n,e,o)&&!r[mn(o)]){let s=new be([],{});i[mn(o)]=s}return L(L({},r),i)}function j2(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&mn(r)!==ie){let i=new be([],{});t[mn(r)]=i}return t}function U2(n,e,t){return t.some(r=>rh(n,e,r)&&mn(r)!==ie)}function B2(n,e,t){return t.some(r=>rh(n,e,r))}function rh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function $2(n,e,t){return e.length===0&&!n.children[t]}var By=class{};function H2(n,e,t,r,i,o,s="emptyOnly"){return new $y(n,e,t,r,i,s,o).recognize()}var z2=31,$y=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jy(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=IC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(({children:t,rootSnapshot:r})=>{let i=new zt(r,t),o=new Ec("",i),s=FC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ki([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(ae(r=>({children:r,rootSnapshot:t})),sr(r=>{if(r instanceof Tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ae(s=>s instanceof zt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(In(s=>{let a=r.children[s],u=s2(t,s);return this.processSegmentGroup(e,u,a,s,i)}),og((s,a)=>(s.push(...a),s)),Br(null),ig(),Be(s=>{if(s===null)return gs(r);let a=ZC(s);return q2(a),G(a)}))}processSegment(e,t,r,i,o,s,a){return Ce(t).pipe(In(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(sr(l=>{if(l instanceof bc)return G(null);throw l}))),cr(u=>!!u),sr(u=>{if(KC(u))return $2(r,i,o)?G(new By):gs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return mn(r)!==s&&(s===ie||!rh(i,o,r))?gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=YC(t,i,o);if(!u)return gs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>z2&&(this.allowRedirects=!1));let m=new Ki(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,bC(i),mn(i),i.component??i._loadedComponent??null,i,TC(i)),S=Xd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(S.params),m.data=Object.freeze(S.data);let x=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Be(N=>this.processSegment(e,r,t,N.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=F2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,S=new Ki(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,bC(r),mn(r),r.component??r._loadedComponent??null,r,TC(r)),x=Xd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let{segmentGroup:N,slicedSegments:U}=IC(t,y,m,l);if(U.length===0&&N.hasChildren())return this.processChildren(h,l,N,S).pipe(ae(q=>new zt(S,q)));if(l.length===0&&U.length===0)return G(new zt(S,[]));let oe=mn(r)===o;return this.processSegment(h,l,N,U,oe?ie:o,!0,S).pipe(ae(q=>new zt(S,q instanceof zt?[q]:[])))}))):gs(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?G({routes:t._loadedRoutes,injector:t._loadedInjector}):x2(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(ft(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):O2(t))):G({routes:[],injector:e})}};function q2(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function G2(n){let e=n.value.routeConfig;return e&&e.path===""}function ZC(n){let e=[],t=new Set;for(let r of n){if(!G2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ZC(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!t.has(r))}function bC(n){return n.data||{}}function TC(n){return n.resolve||{}}function W2(n,e,t,r,i,o){return Be(s=>H2(n,e,t,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:u})=>de(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function K2(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of JC(u))s.add(l);let a=0;return Ce(s).pipe(In(u=>o.has(u)?Q2(u,r,n,e):(u.data=Xd(u,u.parent,n).resolve,G(void 0))),ft(()=>a++),jo(1),Be(u=>a===s.size?G(t):Mt))})}function JC(n){let e=n.children.map(t=>JC(t)).flat();return[n,...e]}function Q2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!HC(i)&&(o[Dc]=i.title),Y2(o,n,e,r).pipe(ae(s=>(n._resolvedData=s,n.data=Xd(n,n.parent,t).resolve,null)))}function Y2(n,e,t,r){let i=My(n);if(i.length===0)return G({});let o={};return Ce(i).pipe(Be(s=>Z2(n[s],e,t,r).pipe(cr(),ft(a=>{if(a instanceof bs)throw eh(new ei,a);o[s]=a}))),jo(1),ae(()=>o),sr(s=>KC(s)?Mt:Lo(s)))}function Z2(n,e,t,r){let i=Cc(e)??r,o=Ds(n,i),s=o.resolve?o.resolve(e,t):it(i,()=>o(e,t));return ri(s)}function Ay(n){return xt(e=>{let t=n(e);return t?Ce(t).pipe(ae(()=>e)):G(e)})}var qy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Dc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(XC),providedIn:"root"})}return n})(),XC=(()=>{class n extends qy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(yC))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ji=new j("",{providedIn:"root",factory:()=>({})}),Gy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=We({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&X(0,"router-outlet")},dependencies:[vr],encapsulation:2})}return n})();function Wy(n){let e=n.children&&n.children.map(Wy),t=e?de(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=Gy),t}var Xi=new j(""),ih=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(gd);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ri(t.loadComponent()).pipe(ae(tS),ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),$r(()=>{this.componentLoaders.delete(t)})),i=new Po(r,()=>new Ue).pipe(xo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=eS(r,this.compiler,t,this.onLoadEndListener).pipe($r(()=>{this.childrenLoaders.delete(r)})),s=new Po(o,()=>new Ue).pipe(xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eS(n,e,t,r){return ri(n.loadChildren()).pipe(ae(tS),Be(i=>i instanceof ty||Array.isArray(i)?G(i):Ce(e.compileModuleAsync(i))),ae(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wy),injector:o}}))}function J2(n){return n&&typeof n=="object"&&"default"in n}function tS(n){return J2(n)?n.default:n}var oh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(X2),providedIn:"root"})}return n})(),X2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ky=new j(""),Qy=new j("");function nS(n,e,t){let r=n.get(Qy),i=n.get(Ke);return n.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),ej(n))),{onViewTransitionCreated:u}=r;return u&&it(n,()=>u({transition:a,from:e,to:t})),s})}function ej(n){return new Promise(e=>{Lm({read:()=>setTimeout(e)},{injector:n})})}var Yy=new j(""),sh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortSubject=new Ue;configLoader=P(ih);environmentInjector=P(rt);destroyRef=P(is);urlSerializer=P(Yi);rootContexts=P(Zi);location=P(Yr);inputBindingEnabled=P(Sc,{optional:!0})!==null;titleStrategy=P(qy);options=P(Ji,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(oh);createViewTransition=P(Ky,{optional:!0});navigationErrorHandler=P(Yy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new qd(i)),r=i=>this.events.next(new Gd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(de(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ht(null),this.transitions.pipe(Dt(r=>r!==null),xt(r=>{let i=!1,o=!1;return G(r).pipe(xt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Lt.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?de(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Un(s.id,this.urlSerializer.serialize(s.rawUrl),l,_s.IgnoredSameUrlNavigation)),s.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(xt(l=>(this.events.next(new ni(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Mt:Promise.resolve(l))),W2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ft(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=de(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new vc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,S=new ni(l,this.urlSerializer.serialize(h),p,y);this.events.next(S);let x=BC(this.rootComponentType).snapshot;return this.currentTransition=r=de(L({},s),{targetSnapshot:x,urlAfterRedirects:h,extras:de(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,G(r)}else{let l="";return this.events.next(new Un(s.id,this.urlSerializer.serialize(s.extractedUrl),l,_s.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Mt}}),ft(s=>{let a=new Bd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ae(s=>(this.currentTransition=r=de(L({},s),{guards:f2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),T2(this.environmentInjector,s=>this.events.next(s)),ft(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw eh(this.urlSerializer,s.guardsResult);let a=new $d(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Lt.GuardRejected),!1)),Ay(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(ft(a=>{let u=new Hd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),xt(a=>{let u=!1;return G(a).pipe(K2(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Lt.NoDataFromResolver)}}))}),ft(a=>{let u=new zd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ay(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ft(h=>{u.component=h}),ae(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Oa(a(s.targetSnapshot.root)).pipe(Br(null),ar(1))}),Ay(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Ce(u).pipe(ae(()=>r)):G(r)}),ae(s=>{let a=c2(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=de(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ft(()=>{this.events.next(new _c)}),h2(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ar(1),ft({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ag(this.transitionAbortSubject.pipe(ft(s=>{throw s}))),$r(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(s=>{if(this.destroyed)return r.resolve(!1),Mt;if(o=!0,WC(s))this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),d2(s)?this.events.next(new Is(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=it(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof bs){let{message:l,cancellationCode:h}=eh(this.urlSerializer,u);this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Is(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Mt}))}))}cancelNavigationTransition(t,r,i){let o=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tj(n){return n!==Vd}var rS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(nj),providedIn:"root"})}return n})(),nh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},nj=(()=>{class n extends nh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iS=(()=>{class n{urlSerializer=P(Yi);options=P(Ji,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Yr);urlHandlingStrategy=P(oh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=BC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(rj),providedIn:"root"})}return n})(),rj=(()=>{class n extends iS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ni?this.updateStateMemento():t instanceof Un?this.commitTransition(r):t instanceof vc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _c?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vn&&(t.code===Lt.GuardRejected||t.code===Lt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ws?this.restoreHistory(r,!0):t instanceof Gt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ah(n,e){n.events.pipe(Dt(t=>t instanceof Gt||t instanceof Vn||t instanceof ws||t instanceof Un),ae(t=>t instanceof Gt||t instanceof Un?0:(t instanceof Vn?t.code===Lt.Redirect||t.code===Lt.SupersededByNewNavigation:!1)?2:1),Dt(t=>t!==2),ar(1)).subscribe(()=>{e()})}var ij={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},He=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(CD);stateManager=P(iS);options=P(Ji,{optional:!0})||{};pendingTasks=P(Pn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(sh);urlSerializer=P(Yi);location=P(Yr);urlHandlingStrategy=P(oh);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(rS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Xi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Sc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Vn&&r.code!==Lt.Redirect&&r.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gt)this.navigated=!0;else if(r instanceof Is){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tj(i.source)},s);this.scheduleNavigation(a,Vd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=LC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return VC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ti(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vd,null,r)}navigate(t,r={skipLocationChange:!1}){return sj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},ij):r===!1?i=L({},oj):i=r,ti(t))return vC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return vC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return ah(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function aj(n){return!(n instanceof _c)&&!(n instanceof Is)}var $n=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ti(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:UT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ti(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(J(He),J(Bn),Mm("tabindex"),J(qr),J(en),J(gn))};static \u0275dir=Oe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qr],replaceUrl:[2,"replaceUrl","replaceUrl",Qr],routerLink:"routerLink"},features:[pr]})}return n})(),Jy=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new qe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Gt&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(Ur()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ce(t).pipe(Ur()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=cj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(J(He),J(en),J(qr),J(Kr),J($n,8))};static \u0275dir=Oe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&PD(o,$n,5),r&2){let s;kD(s=OD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[pr]})}return n})();function cj(n){return!!n.paths}var Rc=class{};var oS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof Gt),In(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ec(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ce(i).pipe(Ur())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=G(null);let o=i.pipe(Be(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ce([o,s]).pipe(Ur())}else return o})}static \u0275fac=function(r){return new(r||n)(z(He),z(gd),z(rt),z(Rc),z(ih))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=new j(""),uj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Un&&t.code===_s.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Es&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Es(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){mD()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function Xy(n,...e){return dn([{provide:Xi,multi:!0,useValue:n},[],{provide:Bn,useFactory:aS,deps:[He]},{provide:pd,multi:!0,useFactory:cS},e.map(t=>t.\u0275providers)])}function aS(n){return n.routerState.root}function Mc(n,e){return{\u0275kind:n,\u0275providers:e}}function cS(){let n=P(Ge);return e=>{let t=n.get(Vi);if(e!==t.components[0])return;let r=n.get(He),i=n.get(uS);n.get(ev)===1&&r.initialNavigation(),n.get(hS,null,ue.Optional)?.setUpPreloading(),n.get(sS,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var uS=new j("",{factory:()=>new Ue}),ev=new j("",{providedIn:"root",factory:()=>1});function lS(){let n=[{provide:ev,useValue:0},ny(()=>{let e=P(Ge);return e.get(ay,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(He),o=e.get(uS);ah(i,()=>{r(!0)}),e.get(sh).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))})];return Mc(2,n)}function dS(){let n=[ny(()=>{P(He).setUpLocationChangeListener()}),{provide:ev,useValue:2}];return Mc(3,n)}var hS=new j("");function fS(n){return Mc(0,[{provide:hS,useExisting:oS},{provide:Rc,useExisting:n}])}function pS(){return Mc(8,[zy,{provide:Sc,useExisting:zy}])}function gS(n){Xa("NgRouterViewTransitions");let e=[{provide:Ky,useValue:nS},{provide:Qy,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return Mc(9,e)}var mS=[Yr,{provide:Yi,useClass:ei},He,Zi,{provide:Bn,useFactory:aS,deps:[He]},ih,[]],Nc=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[mS,[],{provide:Xi,multi:!0,useValue:t},[],r?.errorHandler?{provide:Yy,useValue:r.errorHandler}:[],{provide:Ji,useValue:r||{}},r?.useHash?dj():hj(),lj(),r?.preloadingStrategy?fS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?fj(r):[],r?.bindToComponentInputs?pS().\u0275providers:[],r?.enableViewTransitions?gS().\u0275providers:[],pj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fn({type:n});static \u0275inj=ln({})}return n})();function lj(){return{provide:sS,useFactory:()=>{let n=P(GD),e=P(we),t=P(Ji),r=P(sh),i=P(Yi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uj(i,r,n,e,t)}}}function dj(){return{provide:gn,useClass:cy}}function hj(){return{provide:gn,useClass:vd}}function fj(n){return[n.initialNavigation==="disabled"?dS().\u0275providers:[],n.initialNavigation==="enabledBlocking"?lS().\u0275providers:[]]}var Zy=new j("");function pj(){return[{provide:Zy,useFactory:cS},{provide:pd,multi:!0,useExisting:Zy}]}var yS=()=>{};var _S=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(t[h],t[p],t[y],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_S(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new rv;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},rv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mj=function(n){let e=_S(n);return ch.encodeByteArray(e,!0)},xc=function(n){return mj(n).replace(/\./g,"")},uh=function(n){try{return ch.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yj=()=>wS().__FIREBASE_DEFAULTS__,vj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_j=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&uh(n[1]);return e&&JSON.parse(e)},lh=()=>{try{return yS()||yj()||vj()||_j()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ov=n=>{var e,t;return(t=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ES=n=>{let e=ov(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sv=()=>{var n;return(n=lh())===null||n===void 0?void 0:n.config},av=n=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${n}`]};var eo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function IS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(s)),""].join(".")}function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function wj(){var n;let e=(n=lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){let n=at();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AS(){return!wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pc(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Ej="FirebaseError",Wt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}},yn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ij(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,a,r)}};function Ij(n,e){return n.replace(bj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bj=/\{\$([^}]+)}/g;function MS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(vS(o)&&vS(s)){if(!Hn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function vS(n){return n!==null&&typeof n=="object"}function kc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ss(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function NS(n,e){let t=new iv(n,e);return t.subscribe.bind(t)}var iv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Tj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=nv),i.error===void 0&&(i.error=nv),i.complete===void 0&&(i.complete=nv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Tj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function nv(){}var jY=4*60*60*1e3;function wt(n){return n&&n._delegate?n._delegate:n}var Rt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var to="[DEFAULT]";var cv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new eo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cj(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dj(n){return n===to?void 0:n}function Cj(n){return n.instantiationMode==="EAGER"}var dh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new cv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Sj=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),Aj={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Rj=fe.INFO,Mj={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Nj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Mj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zn=class{constructor(e){this.name=e,this._logLevel=Rj,this._logHandler=Nj,this._userLogHandler=null,Sj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Aj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var xj=(n,e)=>e.some(t=>n instanceof t),xS,PS;function Pj(){return xS||(xS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kj(){return PS||(PS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kS=new WeakMap,lv=new WeakMap,OS=new WeakMap,uv=new WeakMap,hv=new WeakMap;function Oj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(qn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&kS.set(t,n)}).catch(()=>{}),hv.set(e,n),e}function Fj(n){if(lv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});lv.set(n,e)}var dv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FS(n){dv=n(dv)}function Lj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(hh(this),e,...t);return OS.set(r,e.sort?e.sort():[e]),qn(r)}:kj().includes(n)?function(...e){return n.apply(hh(this),e),qn(kS.get(this))}:function(...e){return qn(n.apply(hh(this),e))}}function Vj(n){return typeof n=="function"?Lj(n):(n instanceof IDBTransaction&&Fj(n),xj(n,Pj())?new Proxy(n,dv):n)}function qn(n){if(n instanceof IDBRequest)return Oj(n);if(uv.has(n))return uv.get(n);let e=Vj(n);return e!==n&&(uv.set(n,e),hv.set(e,n)),e}var hh=n=>hv.get(n);function VS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=qn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qn(s.result),u.oldVersion,u.newVersion,qn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var jj=["get","getKey","getAll","getAllKeys","count"],Uj=["put","add","delete","clear"],fv=new Map;function LS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fv.get(e))return fv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Uj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jj.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return fv.set(e,o),o}FS(n=>de(L({},n),{get:(e,t,r)=>LS(e,t)||n.get(e,t,r),has:(e,t)=>!!LS(e,t)||n.has(e,t)}));var gv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Bj(n){let e=n.getComponent();return e?.type==="VERSION"}var mv="@firebase/app",jS="0.11.4";var _r=new zn("@firebase/app"),$j="@firebase/app-compat",Hj="@firebase/analytics-compat",zj="@firebase/analytics",qj="@firebase/app-check-compat",Gj="@firebase/app-check",Wj="@firebase/auth",Kj="@firebase/auth-compat",Qj="@firebase/database",Yj="@firebase/data-connect",Zj="@firebase/database-compat",Jj="@firebase/functions",Xj="@firebase/functions-compat",eU="@firebase/installations",tU="@firebase/installations-compat",nU="@firebase/messaging",rU="@firebase/messaging-compat",iU="@firebase/performance",oU="@firebase/performance-compat",sU="@firebase/remote-config",aU="@firebase/remote-config-compat",cU="@firebase/storage",uU="@firebase/storage-compat",lU="@firebase/firestore",dU="@firebase/vertexai",hU="@firebase/firestore-compat",fU="firebase",pU="11.6.0";var yv="[DEFAULT]",gU={[mv]:"fire-core",[$j]:"fire-core-compat",[zj]:"fire-analytics",[Hj]:"fire-analytics-compat",[Gj]:"fire-app-check",[qj]:"fire-app-check-compat",[Wj]:"fire-auth",[Kj]:"fire-auth-compat",[Qj]:"fire-rtdb",[Yj]:"fire-data-connect",[Zj]:"fire-rtdb-compat",[Jj]:"fire-fn",[Xj]:"fire-fn-compat",[eU]:"fire-iid",[tU]:"fire-iid-compat",[nU]:"fire-fcm",[rU]:"fire-fcm-compat",[iU]:"fire-perf",[oU]:"fire-perf-compat",[sU]:"fire-rc",[aU]:"fire-rc-compat",[cU]:"fire-gcs",[uU]:"fire-gcs-compat",[lU]:"fire-fst",[hU]:"fire-fst-compat",[dU]:"fire-vertex","fire-js":"fire-js",[fU]:"fire-js-all"};var Oc=new Map,mU=new Map,vv=new Map;function US(n,e){try{n.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vn(n){let e=n.name;if(vv.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;vv.set(e,n);for(let t of Oc.values())US(t,n);for(let t of mU.values())US(t,n);return!0}function As(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vt(n){return n==null?!1:n.settings!==void 0}var yU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new yn("app","Firebase",yU);var _v=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};var oi=pU;function Iv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:yv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(t||(t=sv()),!t)throw ii.create("no-options");let o=Oc.get(i);if(o){if(Hn(t,o.options)&&Hn(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}let s=new dh(i);for(let u of vv.values())s.addComponent(u);let a=new _v(t,r,s);return Oc.set(i,a),a}function no(n=yv){let e=Oc.get(n);if(!e&&n===yv&&sv())return Iv();if(!e)throw ii.create("no-app",{appName:n});return e}function fh(){return Array.from(Oc.values())}function Ve(n,e,t){var r;let i=(r=gU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}vn(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var vU="firebase-heartbeat-database",_U=1,Fc="firebase-heartbeat-store",pv=null;function zS(){return pv||(pv=VS(vU,_U,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ii.create("idb-open",{originalErrorMessage:n.message})})),pv}function wU(n){return _(this,null,function*(){try{let t=(yield zS()).transaction(Fc),r=yield t.objectStore(Fc).get(qS(n));return yield t.done,r}catch(e){if(e instanceof Wt)_r.warn(e.message);else{let t=ii.create("idb-get",{originalErrorMessage:e?.message});_r.warn(t.message)}}})}function BS(n,e){return _(this,null,function*(){try{let r=(yield zS()).transaction(Fc,"readwrite");yield r.objectStore(Fc).put(e,qS(n)),yield r.done}catch(t){if(t instanceof Wt)_r.warn(t.message);else{let r=ii.create("idb-set",{originalErrorMessage:t?.message});_r.warn(r.message)}}})}function qS(n){return`${n.name}!${n.options.appId}`}var EU=1024,IU=30,wv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ev(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$S();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>IU){let s=TU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_r.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=$S(),{heartbeatsToSend:r,unsentEntries:i}=bU(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _r.warn(t),""}})}};function $S(){return new Date().toISOString().substring(0,10)}function bU(n,e=EU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ev=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Pc()?RS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield wU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HS(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}function TU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function DU(n){vn(new Rt("platform-logger",e=>new gv(e),"PRIVATE")),vn(new Rt("heartbeat",e=>new wv(e),"PRIVATE")),Ve(mv,jS,n),Ve(mv,jS,"esm2017"),Ve("fire-js","")}DU("");var CU="firebase",SU="11.6.0";Ve(CU,SU,"app");function bv(n){n===void 0&&(mm(bv),n=P(Ge));let e=n.get(ud);return t=>new se(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var si=new Ui("ANGULARFIRE2_VERSION");function Lc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ms=(n,e)=>{let t=e?[e]:fh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Rs=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Rs||{}),GS=oy()&&typeof Zone<"u"?Rs.WARN:Rs.SILENT;var ph=class{zone;delegate;constructor(e,t=eg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ai=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(we);this.outsideAngular=t.runOutsideAngular(()=>new ph(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new ph(typeof Zone>"u"?void 0:Zone.current,Xp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WS=!1;function AU(n,e){!WS&&(GS>Rs.SILENT||oy())&&(WS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),GS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function RU(n){let e=P(we,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ro(n){let e=P(we,{optional:!0});return e?e.run(()=>n()):n()}var MU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),it(t,()=>ro(()=>n.apply(void 0,r)))),jt=(n,e,t)=>(t||=e?Rs.WARN:Rs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(ai),s=P(ud),a=P(rt)}catch{return AU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ro(()=>s.add())),i[l]=MU(i[l],r,a));let u=RU(()=>n.apply(this,i));return e?u instanceof se?u.pipe(jr(o.outsideAngular),Vr(o.insideAngular),bv(a)):u instanceof Promise?ro(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>it(a,()=>ro(()=>l(p))),p=>it(a,()=>ro(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ro(()=>u):u instanceof se?u.pipe(jr(o.outsideAngular),Vr(o.insideAngular)):ro(()=>u)});var wr=class{constructor(e){return e}},io=class{constructor(){return fh()}};function NU(n){return n&&n.length===1?n[0]:new wr(no())}var Tv=new j("angularfire2._apps"),xU={provide:wr,useFactory:NU,deps:[[new Xt,Tv]]},PU={provide:io,deps:[[new Xt,Tv]]};function kU(n){return(e,t)=>{let r=t.get(Ot);Ve("angularfire",si.full,"core"),Ve("angularfire",si.full,"app"),Ve("angular",LD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new wr(i)}}function KS(n,...e){return dn([xU,PU,{provide:Tv,useFactory:kU(n),multi:!0,deps:[we,Ge,ai,...e]}])}var QS=jt(Iv,!0);var OU=new Map,FU={activated:!1,tokenObservers:[]},LU={initialized:!1,enabled:!1};function _n(n){return OU.get(n)||Object.assign({},FU)}function XS(){return LU}var VU="https://content-firebaseappcheck.googleapis.com/v1";var jU="exchangeDebugToken",YS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},zZ=24*60*60*1e3;var Sv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new eo,this.pending.promise.catch(t=>{}),yield UU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new eo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function UU(n){return new Promise(e=>{setTimeout(e,n)})}var BU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ci=new yn("appCheck","AppCheck",BU);function eA(n){if(!_n(n).activated)throw ci.create("use-before-activation",{appName:n.name})}function tA(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw ci.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw ci.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw ci.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function nA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${VU}/projects/${t}/apps/${r}:${jU}?key=${i}`,body:{debug_token:e}}}var $U="firebase-app-check-database",HU=1,Av="firebase-app-check-store";var gh=null;function zU(){return gh||(gh=new Promise((n,e)=>{try{let t=indexedDB.open($U,HU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ci.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Av,{keyPath:"compositeKey"})}}}catch(t){e(ci.create("storage-open",{originalErrorMessage:t?.message}))}}),gh)}function qU(n,e){return GU(WU(n),e)}function GU(n,e){return _(this,null,function*(){let r=(yield zU()).transaction(Av,"readwrite"),o=r.objectStore(Av).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ci.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function WU(n){return`${n.options.appId}-${n.name}`}var Vc=new zn("@firebase/app-check");function Dv(n,e){return Pc()?qU(n,e).catch(t=>{Vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rA(){return XS().enabled}function iA(){return _(this,null,function*(){let n=XS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var KU={error:"UNKNOWN_ERROR"};function QU(n){return ch.encodeString(JSON.stringify(n),!1)}function Rv(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;eA(r);let i=_n(r),o=i.token,s;if(o&&!jc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(jc(l)?o=l:yield Dv(r,void 0))}if(!e&&o&&jc(o))return{token:o.token};let a=!1;if(rA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=tA(nA(r,yield iA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Dv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Vc.warn(l.message):t&&Vc.error(l),Cv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield _n(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Vc.warn(l.message):t&&Vc.error(l),s=l}let u;return o?s?jc(o)?u={token:o.token,internalError:s}:u=Cv(s):(u={token:o.token},i.token=o,yield Dv(r,o)):u=Cv(s),a&&XU(r,u),u})}function YU(n){return _(this,null,function*(){let e=n.app;eA(e);let{provider:t}=_n(e);if(rA()){let r=yield iA(),{token:i}=yield tA(nA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function ZU(n,e,t,r){let{app:i}=n,o=_n(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&jc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),ZS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ZS(n))}function oA(n,e){let t=_n(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ZS(n){let{app:e}=n,t=_n(e),r=t.tokenRefresher;r||(r=JU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function JU(n){let{app:e}=n;return new Sv(()=>_(this,null,function*(){let t=_n(e),r;if(t.token?r=yield Rv(n,!0):r=yield Rv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=_n(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YS.RETRIAL_MIN_WAIT,YS.RETRIAL_MAX_WAIT)}function XU(n,e){let t=_n(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function jc(n){return n.expireTimeMillis-Date.now()>0}function Cv(n){return{token:QU(KU),error:n}}var Mv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=_n(this.app);for(let t of e)oA(this.app,t.next);return Promise.resolve()}};function eB(n,e){return new Mv(n,e)}function tB(n){return{getToken:e=>Rv(n,e),getLimitedUseToken:()=>YU(n),addTokenListener:e=>ZU(n,"INTERNAL",e),removeTokenListener:e=>oA(n.app,e)}}var nB="@firebase/app-check",rB="0.8.13";var iB="app-check",JS="app-check-internal";function oB(){vn(new Rt(iB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return eB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JS).initialize()})),vn(new Rt(JS,n=>{let e=n.getProvider("app-check").getImmediate();return tB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(nB,rB)}oB();var sB="app-check";var Ns=class{constructor(){return Ms(sB)}};var aB=["localhost","0.0.0.0","127.0.0.1"],rJ=typeof window<"u"&&aB.includes(window.location.hostname);function EA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var IA=EA,bA=new yn("auth","Firebase",EA());var Eh=new zn("@firebase/auth");function cB(n,...e){Eh.logLevel<=fe.WARN&&Eh.warn(`Auth (${oi}): ${n}`,...e)}function yh(n,...e){Eh.logLevel<=fe.ERROR&&Eh.error(`Auth (${oi}): ${n}`,...e)}function Wn(n,...e){throw t_(n,...e)}function oo(n,...e){return t_(n,...e)}function TA(n,e,t){let r=Object.assign(Object.assign({},IA()),{[e]:t});return new yn("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return TA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bA.create(n,...e)}function Y(n,e,...t){if(!n)throw t_(e,...t)}function Er(n){let e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function di(n,e){n||Er(e)}function kv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uB(){return sA()==="http:"||sA()==="https:"}function sA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function lB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uB()||DS()||"connection"in navigator)?navigator.onLine:!0}function dB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var so=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=bS()||CS()}get(){return lB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function n_(n,e){di(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ih=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pB=new so(3e4,6e4);function hi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function fi(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return DA(n,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=kc(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:y},l);return TS()||(m.referrerPolicy="no-referrer"),Ih.fetch()(yield CA(n,n.config.apiHost,t,p),m)}))})}function DA(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},hB),e);try{let i=new Ov(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw mh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw mh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw mh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw TA(n,h,l);Wn(n,h)}}catch(i){if(i instanceof Wt)throw i;Wn(n,"network-request-failed",{message:String(i)})}})}function Kc(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield fi(n,e,t,r,i);return"mfaPendingCredential"in l&&Wn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function CA(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?n_(n.config,i):`${n.config.apiScheme}://${i}`;return fB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function gB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ov=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),pB.get())})}};function mh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=oo(n,e,r);return i.customData._tokenResponse=t,i}function aA(n){return n!==void 0&&n.enterprise!==void 0}var Fv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function mB(n,e){return _(this,null,function*(){return fi(n,"GET","/v2/recaptchaConfig",hi(n,e))})}function yB(n,e){return _(this,null,function*(){return fi(n,"POST","/v1/accounts:delete",e)})}function bh(n,e){return _(this,null,function*(){return fi(n,"POST","/v1/accounts:lookup",e)})}function Bc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function r_(n,e=!1){return _(this,null,function*(){let t=wt(n),r=yield t.getIdToken(e),i=i_(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bc(Nv(i.auth_time)),issuedAtTime:Bc(Nv(i.iat)),expirationTime:Bc(Nv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Nv(n){return Number(n)*1e3}function i_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{let i=uh(t);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cA(n){let e=i_(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Hc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wt&&vB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function vB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Lv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Th(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Hc(n,bh(t,{idToken:r}));Y(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SA(o.providerUserInfo):[],a=_B(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function o_(n){return _(this,null,function*(){let e=wt(n);yield Th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _B(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SA(n){return n.map(e=>{var{providerId:t}=e,r=tg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wB(n,e){return _(this,null,function*(){let t=yield DA(n,{},()=>_(this,null,function*(){let r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield CA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ih.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function EB(n,e){return _(this,null,function*(){return fi(n,"POST","/v2/accounts:revokeToken",hi(n,e))})}var $c=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let t=cA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield wB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Er("not implemented")}};function ui(n,e){Y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var li=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Hc(this,this.stsTokenManager.getToken(this.auth,e));return Y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return r_(this,e)}reload(){return o_(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Th(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Vt(this.auth.app))return Promise.reject(br(this.auth));let e=yield this.getIdToken();return yield Hc(this,yB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=t.createdAt)!==null&&l!==void 0?l:void 0,oe=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:De,isAnonymous:lt,providerData:Ie,stsTokenManager:b}=t;Y(q&&b,e,"internal-error");let v=$c.fromJSON(this.name,b);Y(typeof q=="string",e,"internal-error"),ui(p,e.name),ui(y,e.name),Y(typeof De=="boolean",e,"internal-error"),Y(typeof lt=="boolean",e,"internal-error"),ui(m,e.name),ui(S,e.name),ui(x,e.name),ui(N,e.name),ui(U,e.name),ui(oe,e.name);let E=new n({uid:q,auth:e,email:y,emailVerified:De,displayName:p,isAnonymous:lt,photoURL:S,phoneNumber:m,tenantId:x,stsTokenManager:v,createdAt:U,lastLoginAt:oe});return Ie&&Array.isArray(Ie)&&(E.providerData=Ie.map(I=>Object.assign({},I))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new $c;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Th(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?SA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new $c;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var uA=new Map;function Ir(n){di(n instanceof Function,"Expected a class definition");let e=uA.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uA.set(n,e),e)}var IB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Vv=IB;function vh(n,e,t){return`firebase:${n}:${e}:${t}`}var Dh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=vh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bh(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Ir(Vv),e,r);let i=(yield Promise.all(t.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ir(Vv),s=vh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield bh(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield li._fromGetAccountInfoResponse(e,y,h)}else p=li._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function lA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PA(e))return"Blackberry";if(kA(e))return"Webos";if(RA(e))return"Safari";if((e.includes("chrome/")||MA(e))&&!e.includes("edge/"))return"Chrome";if(xA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function AA(n=at()){return/firefox\//i.test(n)}function RA(n=at()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MA(n=at()){return/crios\//i.test(n)}function NA(n=at()){return/iemobile/i.test(n)}function xA(n=at()){return/android/i.test(n)}function PA(n=at()){return/blackberry/i.test(n)}function kA(n=at()){return/webos/i.test(n)}function s_(n=at()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bB(n=at()){var e;return s_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TB(){return SS()&&document.documentMode===10}function OA(n=at()){return s_(n)||xA(n)||kA(n)||PA(n)||/windows phone/i.test(n)||NA(n)}function FA(n,e=[]){let t;switch(n){case"Browser":t=lA(at());break;case"Worker":t=`${lA(at())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oi}/${r}`}var jv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function DB(t){return _(this,arguments,function*(n,e={}){return fi(n,"GET","/v2/passwordPolicy",hi(n,e))})}var CB=6,Uv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:CB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Bv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ch(this),this.idTokenSubscription=new Ch(this),this.beforeStateQueue=new jv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Dh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield bh(this,{idToken:e}),r=yield li._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Vt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Th(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dB()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Vt(this.app))return Promise.reject(br(this));let t=e?wt(e):null;return t&&Y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Vt(this.app)?Promise.reject(br(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Vt(this.app)?Promise.reject(br(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Ir(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield DB(this),t=new Uv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield EB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ir(e)||this._popupRedirectResolver;Y(t,this,"argument-error"),this.redirectPersistenceManager=yield Dh.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&cB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function co(n){return wt(n)}var Ch=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NS(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ph={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SB(n){Ph=n}function LA(n){return Ph.loadJS(n)}function AB(){return Ph.recaptchaEnterpriseScript}function RB(){return Ph.gapiScript}function VA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var $v=class{constructor(){this.enterprise=new Hv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Hv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var MB="recaptcha-enterprise",jA="NO_RECAPTCHA",zv=class{constructor(e){this.type=MB,this.auth=co(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){mB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Fv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;aA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(jA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $v().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&aA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=AB();u.length!==0&&(u+=a),LA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Uc(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new zv(n),s;if(i)s=jA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function qv(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Uc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Uc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Uc(n,e,t);return r(n,a).catch(u=>_(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Uc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Uc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function a_(n,e){let t=As(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Hn(o,e??{}))return i;Wn(i,"already-initialized")}return t.initialize({options:e})}function NB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ir);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function c_(n,e,t){let r=co(n);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=UA(e),{host:s,port:a}=xB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Hn(l,r.config.emulator)&&Hn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||PB()}function UA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xB(n){let e=UA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:dA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:dA(s)}}}function dA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function PB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var qc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,t){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}};function kB(n,e){return _(this,null,function*(){return fi(n,"POST","/v1/accounts:signUp",e)})}function OB(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithPassword",hi(n,e))})}function FB(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithEmailLink",hi(n,e))})}function LB(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithEmailLink",hi(n,e))})}var Gc=class n extends qc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,t,"signInWithPassword",OB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return FB(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,r,"signUpPassword",kB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return LB(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function xv(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithIdp",hi(n,e))})}function VB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jB(n){let e=Cs(Ss(n)).link,t=e?Cs(Ss(e)).deep_link_id:null,r=Cs(Ss(n)).deep_link_id;return(r?Cs(Ss(r)).link:null)||r||t||e||n}var Sh=class n{constructor(e){var t,r,i,o,s,a;let u=Cs(Ss(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=VB((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=jB(e);try{return new n(t)}catch{return null}}};var BA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Gc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Sh.parseLink(r);return Y(i,"argument-error"),Gc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ah=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gv=class extends Ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function UB(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signUp",hi(n,e))})}var xs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield li._fromIdTokenResponse(e,r,i),s=hA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=hA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function hA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Wv=class n extends Wt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function $A(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wv._fromErrorAndOperation(n,o,e,r):o})}function BB(n,e,t=!1){return _(this,null,function*(){let r=yield Hc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return xs._forOperation(n,"link",r)})}function $B(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Vt(r.app))return Promise.reject(br(r));let i="reauthenticate";try{let o=yield Hc(n,$A(r,i,e,n),t);Y(o.idToken,r,"internal-error");let s=i_(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),xs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wn(r,"user-mismatch"),o}})}function HA(n,e,t=!1){return _(this,null,function*(){if(Vt(n.app))return Promise.reject(br(n));let r="signIn",i=yield $A(n,r,e),o=yield xs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function u_(n,e){return _(this,null,function*(){return HA(co(n),e)})}function zA(n){return _(this,null,function*(){let e=co(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function l_(n,e,t){return _(this,null,function*(){if(Vt(n.app))return Promise.reject(br(n));let r=co(n),s=yield qv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&zA(n),u}),a=yield xs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function d_(n,e,t){return Vt(n.app)?Promise.reject(br(n)):u_(wt(n),BA.credential(e,t)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zA(n),r}))}function kh(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function h_(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function Oh(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function f_(n){return wt(n).signOut()}var Rh="__sak";var Mh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var HB=1e3,zB=10,qB=(()=>{class n extends Mh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);TB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},HB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Fr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Fr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Fr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),qA=qB;var GB=(()=>{class n extends Mh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),p_=GB;function WB(n){return Promise.all(n.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var KB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield WB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function GA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Kv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=GA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Gn(){return window}function QB(n){Gn().location.href=n}function WA(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}function YB(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ZB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JB(){return WA()?self:null}var KA="firebaseLocalStorageDb",XB=1,Nh="firebaseLocalStorage",QA="fbase_key",ao=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Fh(n,e){return n.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function e$(){let n=indexedDB.deleteDatabase(KA);return new ao(n).toPromise()}function Qv(){let n=indexedDB.open(KA,XB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Nh,{keyPath:QA})}catch(i){t(i)}}),n.addEventListener("success",()=>_(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),yield e$(),e(yield Qv()))}))})}function fA(n,e,t){return _(this,null,function*(){let r=Fh(n,!0).put({[QA]:e,value:t});return new ao(r).toPromise()})}function t$(n,e){return _(this,null,function*(){let t=Fh(n,!1).get(e),r=yield new ao(t).toPromise();return r===void 0?null:r.value})}function pA(n,e){let t=Fh(n,!0).delete(e);return new ao(t).toPromise()}var n$=800,r$=3,i$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Qv(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>r$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return WA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=KB._getInstance(JB()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield YB(),!this.activeServiceWorker)return;this.sender=new Kv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ZB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Qv();return yield fA(t,Rh,"1"),yield pA(t,Rh),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>fA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>t$(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>pA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=Fh(o,!1).getAll();return new ao(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),YA=i$;var dJ=VA("rcb"),hJ=new so(3e4,6e4);function o$(n,e){return e?Ir(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Wc=class extends qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function s$(n){return HA(n.auth,new Wc(n),n.bypassAuthState)}function a$(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),$B(t,new Wc(n),n.bypassAuthState)}function c$(n){return _(this,null,function*(){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),BB(t,new Wc(n),n.bypassAuthState)})}var Yv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s$;case"linkViaPopup":case"linkViaRedirect":return c$;case"reauthViaPopup":case"reauthViaRedirect":return a$;default:Wn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fJ=new so(2e3,1e4);var u$="pendingRedirect",_h=new Map,Zv=class n extends Yv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=_h.get(this.auth._key());if(!e){try{let r=(yield l$(this.resolver,this.auth))?yield Fr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Fr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Fr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function l$(n,e){return _(this,null,function*(){let t=f$(e),r=h$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function d$(n,e){_h.set(n._key(),e)}function h$(n){return Ir(n._redirectPersistence)}function f$(n){return vh(u$,n.config.apiKey,n.name)}function p$(n,e,t=!1){return _(this,null,function*(){if(Vt(n.app))return Promise.reject(br(n));let r=co(n),i=o$(r,e),s=yield new Zv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var g$=10*60*1e3,Jv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ZA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(oo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g$&&this.cachedEventUids.clear(),this.cachedEventUids.has(gA(e))}saveEventToCache(e){this.cachedEventUids.add(gA(e)),this.lastProcessedEventTime=Date.now()}};function gA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function m$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZA(n);default:return!1}}function y$(t){return _(this,arguments,function*(n,e={}){return fi(n,"GET","/v1/projects",e)})}var v$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_$=/^https?/;function w$(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield y$(n);for(let t of e)try{if(E$(t))return}catch{}Wn(n,"unauthorized-domain")})}function E$(n){let e=kv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!_$.test(t))return!1;if(v$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var I$=new so(3e4,6e4);function mA(){let n=Gn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function b$(n){return new Promise((e,t)=>{var r,i,o;function s(){mA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mA(),t(oo(n,"network-request-failed"))},timeout:I$.get()})}if(!((i=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gn().gapi)===null||o===void 0)&&o.load)s();else{let a=VA("iframefcb");return Gn()[a]=()=>{gapi.load?s():t(oo(n,"network-request-failed"))},LA(`${RB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw wh=null,e})}var wh=null;function T$(n){return wh=wh||b$(n),wh}var D$=new so(5e3,15e3),C$="__/auth/iframe",S$="emulator/auth/iframe",A$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M$(n){let e=n.config;Y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?n_(e,S$):`https://${n.config.authDomain}/${C$}`,r={apiKey:e.apiKey,appName:n.name,v:oi},i=R$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${kc(r).slice(1)}`}function N$(n){return _(this,null,function*(){let e=yield T$(n),t=Gn().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:M$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A$,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=oo(n,"network-request-failed"),a=Gn().setTimeout(()=>{o(s)},D$.get());function u(){Gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var x$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P$=500,k$=600,O$="_blank",F$="http://localhost",xh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function L$(n,e,t,r=P$,i=k$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},x$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=at().toLowerCase();t&&(a=MA(l)?O$:t),AA(l)&&(e=e||F$,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,S])=>`${y}${m}=${S},`,"");if(bB(l)&&a!=="_self")return V$(e||"",a),new xh(null);let p=window.open(e||"",a,h);Y(p,n,"popup-blocked");try{p.focus()}catch{}return new xh(p)}function V$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var j$="__/auth/handler",U$="emulator/auth/handler",B$=encodeURIComponent("fac");function yA(n,e,t,r,i,o){return _(this,null,function*(){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:oi,eventId:i};if(e instanceof Ah){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",MS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Gv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${B$}=${encodeURIComponent(u)}`:"";return`${$$(n)}?${kc(a).slice(1)}${l}`})}function $$({config:n}){return n.emulator?n_(n,U$):`https://${n.authDomain}/${j$}`}var Pv="webStorageSupport",Xv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p_,this._completeRedirectFn=p$,this._overrideRedirectResult=d$}_openPopup(e,t,r,i){return _(this,null,function*(){var o;di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield yA(e,t,r,kv(),i);return L$(e,s,GA())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield yA(e,t,r,kv(),i);return QB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(di(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield N$(e),r=new Jv(e);return t.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pv,{type:Pv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Pv];s!==void 0&&t(!!s),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OA()||RA()||s_()}},JA=Xv;var vA="@firebase/auth",_A="1.10.0";var e_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function H$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z$(n){vn(new Rt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FA(n)},l=new Bv(r,i,o,u);return NB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vn(new Rt("auth-internal",e=>{let t=co(e.getProvider("auth").getImmediate());return(r=>new e_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(vA,_A,H$(n)),Ve(vA,_A,"esm2017")}var q$=5*60,G$=av("authIdTokenMaxAge")||q$,wA=null,W$=n=>e=>_(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>G$)return;let i=t?.token;wA!==i&&(wA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function g_(n=no()){let e=As(n,"auth");if(e.isInitialized())return e.getImmediate();let t=a_(n,{popupRedirectResolver:JA,persistence:[YA,qA,p_]}),r=av("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=W$(o.toString());h_(t,s,()=>s(t.currentUser)),kh(t,a=>s(a))}}let i=ov("auth");return i&&c_(t,`http://${i}`),t}function K$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=oo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",K$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z$("Browser");function eR(n){return new se(function(e){var t=Oh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var tR="auth",uo=class{constructor(e){return e}},Qc=class{constructor(){return Ms(tR)}};var m_=new j("angularfire2.auth-instances");function OH(n,e){let t=Lc(tR,n,e);return t&&new uo(t)}function FH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new uo(r)}}var LH={provide:Qc,deps:[[new Xt,m_]]},VH={provide:uo,useFactory:OH,deps:[[new Xt,m_],wr]};function nR(n,...e){return Ve("angularfire",si.full,"auth"),dn([VH,LH,{provide:m_,useFactory:FH(n),multi:!0,deps:[we,Ge,ai,io,[new Xt,Ns],...e]}])}var rR=jt(eR,!0);var iR=jt(l_,!0,2);var oR=jt(g_,!0);var sR=jt(d_,!0,2);var aR=jt(f_,!0,2);var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uR={};var Tr,y_;(function(){var n;function e(b,v){function E(){}E.prototype=v.prototype,b.D=v.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(I,T,C){for(var w=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)w[tr-2]=arguments[tr];return v.prototype[T].apply(I,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=b.g[0],E=b.g[1],T=b.g[2];var C=b.g[3],w=v+(C^E&(T^C))+I[0]+3614090360&4294967295;v=E+(w<<7&4294967295|w>>>25),w=C+(T^v&(E^T))+I[1]+3905402710&4294967295,C=v+(w<<12&4294967295|w>>>20),w=T+(E^C&(v^E))+I[2]+606105819&4294967295,T=C+(w<<17&4294967295|w>>>15),w=E+(v^T&(C^v))+I[3]+3250441966&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(C^E&(T^C))+I[4]+4118548399&4294967295,v=E+(w<<7&4294967295|w>>>25),w=C+(T^v&(E^T))+I[5]+1200080426&4294967295,C=v+(w<<12&4294967295|w>>>20),w=T+(E^C&(v^E))+I[6]+2821735955&4294967295,T=C+(w<<17&4294967295|w>>>15),w=E+(v^T&(C^v))+I[7]+4249261313&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(C^E&(T^C))+I[8]+1770035416&4294967295,v=E+(w<<7&4294967295|w>>>25),w=C+(T^v&(E^T))+I[9]+2336552879&4294967295,C=v+(w<<12&4294967295|w>>>20),w=T+(E^C&(v^E))+I[10]+4294925233&4294967295,T=C+(w<<17&4294967295|w>>>15),w=E+(v^T&(C^v))+I[11]+2304563134&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(C^E&(T^C))+I[12]+1804603682&4294967295,v=E+(w<<7&4294967295|w>>>25),w=C+(T^v&(E^T))+I[13]+4254626195&4294967295,C=v+(w<<12&4294967295|w>>>20),w=T+(E^C&(v^E))+I[14]+2792965006&4294967295,T=C+(w<<17&4294967295|w>>>15),w=E+(v^T&(C^v))+I[15]+1236535329&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(T^C&(E^T))+I[1]+4129170786&4294967295,v=E+(w<<5&4294967295|w>>>27),w=C+(E^T&(v^E))+I[6]+3225465664&4294967295,C=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(C^v))+I[11]+643717713&4294967295,T=C+(w<<14&4294967295|w>>>18),w=E+(C^v&(T^C))+I[0]+3921069994&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^C&(E^T))+I[5]+3593408605&4294967295,v=E+(w<<5&4294967295|w>>>27),w=C+(E^T&(v^E))+I[10]+38016083&4294967295,C=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(C^v))+I[15]+3634488961&4294967295,T=C+(w<<14&4294967295|w>>>18),w=E+(C^v&(T^C))+I[4]+3889429448&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^C&(E^T))+I[9]+568446438&4294967295,v=E+(w<<5&4294967295|w>>>27),w=C+(E^T&(v^E))+I[14]+3275163606&4294967295,C=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(C^v))+I[3]+4107603335&4294967295,T=C+(w<<14&4294967295|w>>>18),w=E+(C^v&(T^C))+I[8]+1163531501&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^C&(E^T))+I[13]+2850285829&4294967295,v=E+(w<<5&4294967295|w>>>27),w=C+(E^T&(v^E))+I[2]+4243563512&4294967295,C=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(C^v))+I[7]+1735328473&4294967295,T=C+(w<<14&4294967295|w>>>18),w=E+(C^v&(T^C))+I[12]+2368359562&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(E^T^C)+I[5]+4294588738&4294967295,v=E+(w<<4&4294967295|w>>>28),w=C+(v^E^T)+I[8]+2272392833&4294967295,C=v+(w<<11&4294967295|w>>>21),w=T+(C^v^E)+I[11]+1839030562&4294967295,T=C+(w<<16&4294967295|w>>>16),w=E+(T^C^v)+I[14]+4259657740&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^C)+I[1]+2763975236&4294967295,v=E+(w<<4&4294967295|w>>>28),w=C+(v^E^T)+I[4]+1272893353&4294967295,C=v+(w<<11&4294967295|w>>>21),w=T+(C^v^E)+I[7]+4139469664&4294967295,T=C+(w<<16&4294967295|w>>>16),w=E+(T^C^v)+I[10]+3200236656&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^C)+I[13]+681279174&4294967295,v=E+(w<<4&4294967295|w>>>28),w=C+(v^E^T)+I[0]+3936430074&4294967295,C=v+(w<<11&4294967295|w>>>21),w=T+(C^v^E)+I[3]+3572445317&4294967295,T=C+(w<<16&4294967295|w>>>16),w=E+(T^C^v)+I[6]+76029189&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^C)+I[9]+3654602809&4294967295,v=E+(w<<4&4294967295|w>>>28),w=C+(v^E^T)+I[12]+3873151461&4294967295,C=v+(w<<11&4294967295|w>>>21),w=T+(C^v^E)+I[15]+530742520&4294967295,T=C+(w<<16&4294967295|w>>>16),w=E+(T^C^v)+I[2]+3299628645&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(T^(E|~C))+I[0]+4096336452&4294967295,v=E+(w<<6&4294967295|w>>>26),w=C+(E^(v|~T))+I[7]+1126891415&4294967295,C=v+(w<<10&4294967295|w>>>22),w=T+(v^(C|~E))+I[14]+2878612391&4294967295,T=C+(w<<15&4294967295|w>>>17),w=E+(C^(T|~v))+I[5]+4237533241&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~C))+I[12]+1700485571&4294967295,v=E+(w<<6&4294967295|w>>>26),w=C+(E^(v|~T))+I[3]+2399980690&4294967295,C=v+(w<<10&4294967295|w>>>22),w=T+(v^(C|~E))+I[10]+4293915773&4294967295,T=C+(w<<15&4294967295|w>>>17),w=E+(C^(T|~v))+I[1]+2240044497&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~C))+I[8]+1873313359&4294967295,v=E+(w<<6&4294967295|w>>>26),w=C+(E^(v|~T))+I[15]+4264355552&4294967295,C=v+(w<<10&4294967295|w>>>22),w=T+(v^(C|~E))+I[6]+2734768916&4294967295,T=C+(w<<15&4294967295|w>>>17),w=E+(C^(T|~v))+I[13]+1309151649&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~C))+I[4]+4149444226&4294967295,v=E+(w<<6&4294967295|w>>>26),w=C+(E^(v|~T))+I[11]+3174756917&4294967295,C=v+(w<<10&4294967295|w>>>22),w=T+(v^(C|~E))+I[2]+718787259&4294967295,T=C+(w<<15&4294967295|w>>>17),w=E+(C^(T|~v))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+C&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var E=v-this.blockSize,I=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=E;)i(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<v;)if(I[T++]=b.charCodeAt(C++),T==this.blockSize){i(this,I),T=0;break}}else for(;C<v;)if(I[T++]=b[C++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var E=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=E&255,E/=256;for(this.u(b),b=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)b[E++]=this.g[v]>>>I&255;return b};function o(b,v){var E=a;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=v(b)}function s(b,v){this.h=v;for(var E=[],I=!0,T=b.length-1;0<=T;T--){var C=b[T]|0;I&&C==v||(E[T]=C,I=!1)}this.g=E}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return N(l(-b));for(var v=[],E=1,I=0;b>=E;I++)v[I]=b/E|0,E*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return N(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,T=0;T<b.length;T+=8){var C=Math.min(8,b.length-T),w=parseInt(b.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(w))):(I=I.j(E),I=I.add(l(w)))}return I}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(x(this))return-N(this).m();for(var b=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);b+=(0<=I?I:4294967296+I)*v,v*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(x(this))return"-"+N(this).toString(b);for(var v=l(Math.pow(b,6)),E=this,I="";;){var T=De(E,v).g;E=U(E,T.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=T,S(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function x(b){return b.h==-1}n.l=function(b){return b=U(this,b),x(b)?-1:S(b)?0:1};function N(b){for(var v=b.g.length,E=[],I=0;I<v;I++)E[I]=~b.g[I];return new s(E,~b.h).add(y)}n.abs=function(){return x(this)?N(this):this},n.add=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0,T=0;T<=v;T++){var C=I+(this.i(T)&65535)+(b.i(T)&65535),w=(C>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);I=w>>>16,C&=65535,w&=65535,E[T]=w<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(b,v){return b.add(N(v))}n.j=function(b){if(S(this)||S(b))return p;if(x(this))return x(b)?N(this).j(N(b)):N(N(this).j(b));if(x(b))return N(this.j(N(b)));if(0>this.l(m)&&0>b.l(m))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<b.g.length;T++){var C=this.i(I)>>>16,w=this.i(I)&65535,tr=b.i(T)>>>16,ua=b.i(T)&65535;E[2*I+2*T]+=w*ua,oe(E,2*I+2*T),E[2*I+2*T+1]+=C*ua,oe(E,2*I+2*T+1),E[2*I+2*T+1]+=w*tr,oe(E,2*I+2*T+1),E[2*I+2*T+2]+=C*tr,oe(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function oe(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function q(b,v){this.g=b,this.h=v}function De(b,v){if(S(v))throw Error("division by zero");if(S(b))return new q(p,p);if(x(b))return v=De(N(b),v),new q(N(v.g),N(v.h));if(x(v))return v=De(b,N(v)),new q(N(v.g),v.h);if(30<b.g.length){if(x(b)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,I=v;0>=I.l(b);)E=lt(E),I=lt(I);var T=Ie(E,1),C=Ie(I,1);for(I=Ie(I,2),E=Ie(E,2);!S(I);){var w=C.add(I);0>=w.l(b)&&(T=T.add(E),C=w),I=Ie(I,1),E=Ie(E,1)}return v=U(b,T.j(v)),new q(T,v)}for(T=p;0<=b.l(v);){for(E=Math.max(1,Math.floor(b.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),w=C.j(v);x(w)||0<w.l(b);)E-=I,C=l(E),w=C.j(v);S(C)&&(C=y),T=T.add(C),b=U(b,w)}return new q(T,b)}n.A=function(b){return De(this,b).h},n.and=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&b.i(I);return new s(E,this.h&b.h)},n.or=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|b.i(I);return new s(E,this.h|b.h)},n.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^b.i(I);return new s(E,this.h^b.h)};function lt(b){for(var v=b.g.length+1,E=[],I=0;I<v;I++)E[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(E,b.h)}function Ie(b,v){var E=v>>5;v%=32;for(var I=b.g.length-E,T=[],C=0;C<I;C++)T[C]=0<v?b.i(C+E)>>>v|b.i(C+E+1)<<32-v:b.i(C+E);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y_=uR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Tr=uR.Integer=s}).apply(typeof cR<"u"?cR:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var v_,jH,Ps,__,Yc,Vh,w_,E_,I_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,M){for(var V=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)V[Re-2]=arguments[Re];return d.prototype[D].apply(g,V)}}function x(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,M=g.length||0;c.length=D+M;for(let V=0;V<M;V++)c[D+V]=g[V]}else c.push(g)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function oe(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function De(c){return De[" "](c),c}De[" "]=function(){};var lt=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let M=0;M<E.length;M++)f=E[M],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function w(){var c=ep;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let g=ua.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ua=new U(()=>new ix,c=>c.reset());class ix{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let la,da=!1,ep=new tr,KE=()=>{let c=a.Promise.resolve(void 0);la=()=>{c.then(ox)}};var ox=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){C(f)}var d=ua;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}da=!1};function xr(){this.s=this.s,this.C=this.C}xr.prototype.s=!1,xr.prototype.ma=function(){this.s||(this.s=!0,this.N())},xr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var sx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ha(c,d){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(lt){e:{try{De(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ax[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ha.aa.h.call(this)}}S(ha,gt);var ax={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),cx=0;function ux(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++cx,this.da=this.fa=!1}function Mu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nu(c){this.src=c,this.g={},this.h=0}Nu.prototype.add=function(c,d,f,g,D){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var V=np(c,d,g,D);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new ux(d,this.src,M,!!g,D),d.fa=f,c.push(d)),d};function tp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),M;(M=0<=D)&&Array.prototype.splice.call(g,D,1),M&&(Mu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function np(c,d,f,g){for(var D=0;D<c.length;++D){var M=c[D];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==g)return D}return-1}var rp="closure_lm_"+(1e6*Math.random()|0),ip={};function QE(c,d,f,g,D){if(g&&g.once)return ZE(c,d,f,g,D);if(Array.isArray(d)){for(var M=0;M<d.length;M++)QE(c,d[M],f,g,D);return null}return f=cp(f),c&&c[fa]?c.K(d,f,l(g)?!!g.capture:!!g,D):YE(c,d,f,!1,g,D)}function YE(c,d,f,g,D,M){if(!d)throw Error("Invalid event type");var V=l(D)?!!D.capture:!!D,Re=sp(c);if(Re||(c[rp]=Re=new Nu(c)),f=Re.add(d,f,g,V,M),f.proxy)return f;if(g=lx(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)sx||(D=V),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(XE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lx(){function c(f){return d.call(c.src,c.listener,f)}let d=dx;return c}function ZE(c,d,f,g,D){if(Array.isArray(d)){for(var M=0;M<d.length;M++)ZE(c,d[M],f,g,D);return null}return f=cp(f),c&&c[fa]?c.L(d,f,l(g)?!!g.capture:!!g,D):YE(c,d,f,!0,g,D)}function JE(c,d,f,g,D){if(Array.isArray(d))for(var M=0;M<d.length;M++)JE(c,d[M],f,g,D);else g=l(g)?!!g.capture:!!g,f=cp(f),c&&c[fa]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=np(M,f,g,D),-1<f&&(Mu(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=sp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=np(d,f,g,D)),(f=-1<c?d[c]:null)&&op(f))}function op(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[fa])tp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(XE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=sp(d))?(tp(f,c),f.h==0&&(f.src=null,d[rp]=null)):Mu(c)}}}function XE(c){return c in ip?ip[c]:ip[c]="on"+c}function dx(c,d){if(c.da)c=!0;else{d=new ha(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&op(c),c=f.call(g,d)}return c}function sp(c){return c=c[rp],c instanceof Nu?c:null}var ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(c){return typeof c=="function"?c:(c[ap]||(c[ap]=function(d){return c.handleEvent(d)}),c[ap])}function mt(){xr.call(this),this.i=new Nu(this),this.M=this,this.F=null}S(mt,xr),mt.prototype[fa]=!0,mt.prototype.removeEventListener=function(c,d,f,g){JE(this,c,d,f,g)};function bt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new gt(d,c);else if(d instanceof gt)d.target=d.target||c;else{var D=d;d=new gt(g,c),I(d,D)}if(D=!0,f)for(var M=f.length-1;0<=M;M--){var V=d.g=f[M];D=xu(V,g,!0,d)&&D}if(V=d.g=c,D=xu(V,g,!0,d)&&D,D=xu(V,g,!1,d)&&D,f)for(M=0;M<f.length;M++)V=d.g=f[M],D=xu(V,g,!1,d)&&D}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Mu(f[g]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function xu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,M=0;M<d.length;++M){var V=d[M];if(V&&!V.da&&V.capture==f){var Re=V.listener,dt=V.ha||V.src;V.fa&&tp(c.i,V),D=Re.call(dt,g)!==!1&&D}}return D&&!g.defaultPrevented}function eI(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function tI(c){c.g=eI(()=>{c.g=null,c.i&&(c.i=!1,tI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class hx extends xr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:tI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){xr.call(this),this.h=c,this.g={}}S(pa,xr);var nI=[];function rI(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&op(d)},c),c.g={}}pa.prototype.N=function(){pa.aa.N.call(this),rI(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var up=a.JSON.stringify,fx=a.JSON.parse,px=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lp(){}lp.prototype.h=null;function iI(c){return c.h||(c.h=c.i())}function oI(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dp(){gt.call(this,"d")}S(dp,gt);function hp(){gt.call(this,"c")}S(hp,gt);var wi={},sI=null;function Pu(){return sI=sI||new mt}wi.La="serverreachability";function aI(c){gt.call(this,wi.La,c)}S(aI,gt);function ma(c){let d=Pu();bt(d,new aI(d))}wi.STAT_EVENT="statevent";function cI(c,d){gt.call(this,wi.STAT_EVENT,c),this.stat=d}S(cI,gt);function Tt(c){let d=Pu();bt(d,new cI(d,c))}wi.Ma="timingevent";function uI(c,d){gt.call(this,wi.Ma,c),this.size=d}S(uI,gt);function ya(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function gx(c,d,f,g,D,M){c.info(function(){if(c.g)if(M)for(var V="",Re=M.split("&"),dt=0;dt<Re.length;dt++){var Ee=Re[dt].split("=");if(1<Ee.length){var yt=Ee[0];Ee=Ee[1];var vt=yt.split("_");V=2<=vt.length&&vt[1]=="type"?V+(yt+"="+Ee+"&"):V+(yt+"=redacted&")}}else V=null;else V=M;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+V})}function mx(c,d,f,g,D,M,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+M+" "+V})}function bo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+vx(c,f)+(g?" "+g:"")})}function yx(c,d){c.info(function(){return"TIMEOUT: "+d})}va.prototype.info=function(){};function vx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var V=1;V<D.length;V++)D[V]=""}}}}return up(f)}catch{return d}}var ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fp;function Ou(){}S(Ou,lp),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},fp=new Ou;function Pr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dI}function dI(){this.i=null,this.g="",this.h=!1}var hI={},pp={};function gp(c,d,f){c.L=1,c.v=ju(nr(d)),c.m=f,c.P=!0,fI(c,null)}function fI(c,d){c.F=Date.now(),Fu(c),c.A=nr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),SI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new dI,c.g=qI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new hx(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(nI[0]=D.toString()),D=nI);for(var M=0;M<D.length;M++){var V=QE(f,D[M],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),gx(c.i,c.u,c.A,c.l,c.R,c.m)}Pr.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},Pr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=rr(this.g);var d=this.g.Ba();let Co=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||kI(this.g)))){this.J||vt!=4||d==7||(d==8||0>=Co?ma(3):ma(2)),mp(this);var f=this.g.Z();this.X=f;t:if(pI(this)){var g=kI(this.g);c="";var D=g.length,M=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),_a(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(M&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,mx(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,dt=this.g;if((Re=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Re)){var Ee=Re;break t}}Ee=null}if(f=Ee)bo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yp(this,f);else{this.o=!1,this.s=3,Tt(12),Ei(this),_a(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<V.length;)if(on=_x(this,V),on==pp){vt==4&&(this.s=4,Tt(14),f=!1),bo(this.i,this.l,null,"[Incomplete Response]");break}else if(on==hI){this.s=4,Tt(15),bo(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else bo(this.i,this.l,on,null),yp(this,on);if(pI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||V.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)bo(this.i,this.l,V,"[Invalid Chunked Response]"),Ei(this),_a(this);else if(0<V.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),bp(yt),yt.M=!0,Tt(11))}}else bo(this.i,this.l,V,null),yp(this,V);vt==4&&Ei(this),this.o&&!this.J&&(vt==4?BI(this.j,this):(this.o=!1,Fu(this)))}else Fx(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Ei(this),_a(this)}}}catch{}finally{}};function pI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _x(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?pp:(f=Number(d.substring(f,g)),isNaN(f)?hI:(g+=1,g+f>d.length?pp:(d=d.slice(g,g+f),c.C=g+f,d)))}Pr.prototype.cancel=function(){this.J=!0,Ei(this)};function Fu(c){c.S=Date.now()+c.I,gI(c,c.I)}function gI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(y(c.ba,c),d)}function mp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Pr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yx(this.i,this.A),this.L!=2&&(ma(),Tt(17)),Ei(this),this.s=2,_a(this)):gI(this,this.S-c)};function _a(c){c.j.G==0||c.J||BI(c.j,c)}function Ei(c){mp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,rI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function yp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||vp(f.h,c))){if(!c.K&&vp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)zu(f),$u(f);else break e;Ip(f),Tt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=ya(y(f.Za,f),6e3));if(1>=vI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else bi(f,11)}else if((c.K||f.g==c)&&zu(f),!oe(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Ee=D[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let yt=Ee[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let vt=Ee[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let Co=Ee[5];Co!=null&&typeof Co=="number"&&0<Co&&(g=1.5*Co,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let on=c.g;if(on){let Gu=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var M=g.h;M.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(_p(M,M.h),M.h=null))}if(g.D){let Tp=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Tp&&(g.ya=Tp,Ne(g.I,g.D,Tp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=zI(g,g.J?g.ia:null,g.W),V.K){_I(g.h,V);var Re=V,dt=g.L;dt&&(Re.I=dt),Re.B&&(mp(Re),Fu(Re)),g.g=V}else jI(g);0<f.i.length&&Hu(f)}else Ee[0]!="stop"&&Ee[0]!="close"||bi(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?bi(f,7):Ep(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}ma(4)}catch{}}var wx=class{constructor(c,d){this.g=c,this.map=d}};function mI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vI(c){return c.h?1:c.g?c.g.size:0}function vp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function _p(c,d){c.g?c.g.add(d):c.h=d}function _I(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}mI.prototype.cancel=function(){if(this.i=wI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return x(c.i)}function Ex(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Ix(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function EI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Ix(c),g=Ex(c),D=g.length,M=0;M<D;M++)d.call(void 0,g[M],f&&f[M],c)}var II=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var M=c[f].substring(0,g);D=c[f].substring(g+1)}else M=c[f];d(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,Lu(this,c.j),this.o=c.o,this.g=c.g,Vu(this,c.s),this.l=c.l;var d=c.i,f=new Ia;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),bI(this,f),this.m=c.m}else c&&(d=String(c).match(II))?(this.h=!1,Lu(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Vu(this,d[4]),this.l=wa(d[5]||"",!0),bI(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}Ii.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ea(d,TI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ea(d,TI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ea(f,f.charAt(0)=="/"?Cx:Dx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ea(f,Ax)),c.join("")};function nr(c){return new Ii(c)}function Lu(c,d,f){c.j=f?wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Vu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function bI(c,d,f){d instanceof Ia?(c.i=d,Rx(c.i,c.h)):(f||(d=Ea(d,Sx)),c.i=new Ia(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function ju(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ea(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Tx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var TI=/[#\/\?@]/g,Dx=/[#\?:]/g,Cx=/[#\?]/g,Sx=/[#\?@]/g,Ax=/#/g;function Ia(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&bx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ia.prototype,n.add=function(c,d){kr(this),this.i=null,c=To(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function DI(c,d){kr(c),d=To(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function CI(c,d){return kr(c),d=To(c,d),c.g.has(d)}n.forEach=function(c,d){kr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let M=0;M<D.length;M++)f.push(d[g])}return f},n.V=function(c){kr(this);let d=[];if(typeof c=="string")CI(this,c)&&(d=d.concat(this.g.get(To(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return kr(this),this.i=null,c=To(this,c),CI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function SI(c,d,f){DI(c,d),0<f.length&&(c.i=null,c.g.set(To(c,d),x(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let M=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var D=M;V[g]!==""&&(D+="="+encodeURIComponent(String(V[g]))),c.push(D)}}return this.i=c.join("&")};function To(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Rx(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(DI(this,g),SI(this,D,f))},c)),c.j=d}function Mx(c,d){let f=new va;if(a.Image){let g=new Image;g.onload=m(Or,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(Or,f,"TestLoadImage: error",!1,d,g),g.onabort=m(Or,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(Or,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Nx(c,d){let f=new va,g=new AbortController,D=setTimeout(()=>{g.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(M=>{clearTimeout(D),M.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Or(f,"TestPingServer: error",!1,d)})}function Or(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function xx(){this.g=new px}function Px(c,d,f){let g=f||"";try{EI(c,function(D,M){let V=D;l(D)&&(V=up(D)),d.push(g+M+"="+encodeURIComponent(V))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ba(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ba,lp),ba.prototype.g=function(){return new Uu(this.l,this.j)},ba.prototype.i=function(c){return function(){return c}}({});function Uu(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Uu,mt),n=Uu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Da(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function AI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ta(this):Da(this),this.readyState==3&&AI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ta(this))},n.Qa=function(c){this.g&&(this.response=c,Ta(this))},n.ga=function(){this.g&&Ta(this)};function Ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Da(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RI(c){let d="";return Ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function wp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=RI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Pe(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Pe,mt);var kx=/^https?$/i,Ox=["POST","PUT"];n=Pe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fp.g(),this.v=this.o?iI(this.o):iI(fp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){MI(this,M);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())f.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ox,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of f)this.g.setRequestHeader(M,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PI(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){MI(this,M)}};function MI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,NI(c),Bu(c)}function NI(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,bt(this,"complete"),bt(this,"abort"),Bu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),Pe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xI(this):this.bb())},n.bb=function(){xI(this)};function xI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)eI(c.Ea,0,c);else if(bt(c,"readystatechange"),rr(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var D=String(c.D).match(II)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!kx.test(D?D.toLowerCase():"")}f=g}if(f)bt(c,"complete"),bt(c,"success");else{c.m=6;try{var M=2<rr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",NI(c)}}finally{Bu(c)}}}}function Bu(c,d){if(c.g){PI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||bt(c,"ready");try{f.onreadystatechange=g}catch{}}}function PI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),fx(d)}};function kI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fx(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(oe(c[g]))continue;var f=T(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[D]||[];d[D]=M,M.push(f)}b(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function OI(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,c),this.cb=Ca("retryDelaySeedMs",1e4,c),this.Wa=Ca("forwardChannelMaxRetries",2,c),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mI(c&&c.concurrentRequestLimit),this.Da=new xx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=OI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Tt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=zI(this,null,this.W),Hu(this)};function Ep(c){if(FI(c),c.G==3){var d=c.U++,f=nr(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),Sa(c,f),d=new Pr(c,c.j,d),d.L=2,d.v=ju(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=qI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fu(d)}HI(c)}function $u(c){c.g&&(bp(c),c.g.cancel(),c.g=null)}function FI(c){$u(c),c.u&&(a.clearTimeout(c.u),c.u=null),zu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hu(c){if(!yI(c.h)&&!c.s){c.s=!0;var d=c.Ga;la||KE(),da||(la(),da=!0),ep.add(d,c),c.B=0}}function Lx(c,d){return vI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(y(c.Ga,c,d),$I(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Pr(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=VI(this,D,d),f=nr(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),Sa(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(RI(M)))+"&"+d:this.m&&wp(f,this.m,M)),_p(this.h,D),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),D.T=!0,gp(D,f,null)):gp(D,f,d),this.G=2}}else this.G==3&&(c?LI(this,c):this.i.length==0||yI(this.h)||LI(this))};function LI(c,d){var f;d?f=d.l:f=c.U++;let g=nr(c.I);Ne(g,"SID",c.K),Ne(g,"RID",f),Ne(g,"AID",c.T),Sa(c,g),c.m&&c.o&&wp(g,c.m,c.o),f=new Pr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=VI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_p(c.h,f),gp(f,g,d)}function Sa(c,d){c.H&&Ie(c.H,function(f,g){Ne(d,g,f)}),c.l&&EI({},function(f,g){Ne(d,g,f)})}function VI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var D=c.i;let M=-1;for(;;){let V=["count="+f];M==-1?0<f?(M=D[0].g,V.push("ofs="+M)):M=0:V.push("ofs="+M);let Re=!0;for(let dt=0;dt<f;dt++){let Ee=D[dt].g,yt=D[dt].map;if(Ee-=M,0>Ee)M=Math.max(0,D[dt].g-100),Re=!1;else try{Px(yt,V,"req"+Ee+"_")}catch{g&&g(yt)}}if(Re){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function jI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;la||KE(),da||(la(),da=!0),ep.add(d,c),c.v=0}}function Ip(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(y(c.Fa,c),$I(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,UI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),$u(this),UI(this))};function bp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function UI(c){c.g=new Pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),Sa(c,d),c.m&&c.o&&wp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ju(nr(d)),f.m=null,f.P=!0,fI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,$u(this),Ip(this),Tt(19))};function zu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function BI(c,d){var f=null;if(c.g==d){zu(c),bp(c),c.g=null;var g=2}else if(vp(c.h,d))f=d.D,_I(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Pu(),bt(g,new uI(g,f)),Hu(c)}else jI(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&Lx(c,d)||g==2&&Ip(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function $I(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function bi(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let D=!g;g=new Ii(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lu(g,"https"),ju(g),D?Mx(g.toString(),f):Nx(g.toString(),f)}else Tt(2);c.G=0,c.l&&c.l.sa(d),HI(c),FI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function HI(c){if(c.G=0,c.ka=[],c.l){let d=wI(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function zI(c,d,f){var g=f instanceof Ii?nr(f):new Ii(f);if(g.g!="")d&&(g.g=d+"."+g.g),Vu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var M=new Ii(null);g&&Lu(M,g),d&&(M.g=d),D&&Vu(M,D),f&&(M.l=f),g=M}return f=c.D,d=c.ya,f&&d&&Ne(g,f,d),Ne(g,"VER",c.la),Sa(c,g),g}function qI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new ba({eb:f})):new Pe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function GI(){}n=GI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qu(){}qu.prototype.g=function(c,d){return new Ut(c,d)};function Ut(c,d){mt.call(this),this.g=new OI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!oe(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!oe(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Do(this)}S(Ut,mt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Ep(this.g)},Ut.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=up(c),c=f);d.i.push(new wx(d.Ya++,c)),d.G==3&&Hu(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,Ut.aa.N.call(this)};function WI(c){dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(WI,dp);function KI(){hp.call(this),this.status=1}S(KI,hp);function Do(c){this.g=c}S(Do,GI),Do.prototype.ua=function(){bt(this.g,"a")},Do.prototype.ta=function(c){bt(this.g,new WI(c))},Do.prototype.sa=function(c){bt(this.g,new KI)},Do.prototype.ra=function(){bt(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,I_=Dr.createWebChannelTransport=function(){return new qu},E_=Dr.getStatEventTarget=function(){return Pu()},w_=Dr.Event=wi,Vh=Dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ku.NO_ERROR=0,ku.TIMEOUT=8,ku.HTTP_ERROR=6,Yc=Dr.ErrorCode=ku,lI.COMPLETE="complete",__=Dr.EventType=lI,oI.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ps=Dr.WebChannel=oI,jH=Dr.FetchXmlHttpFactory=ba,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,v_=Dr.XhrIo=Pe}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});var lR="@firebase/firestore",dR="4.7.10";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var Xs="11.5.0";var po=new zn("@firebase/firestore");function ks(){return po.logLevel}function B(n,...e){if(po.logLevel<=fe.DEBUG){let t=e.map(hE);po.debug(`Firestore (${Xs}): ${n}`,...t)}}function Cr(n,...e){if(po.logLevel<=fe.ERROR){let t=e.map(hE);po.error(`Firestore (${Xs}): ${n}`,...t)}}function Us(n,...e){if(po.logLevel<=fe.WARN){let t=e.map(hE);po.warn(`Firestore (${Xs}): ${n}`,...t)}}function hE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Z(n="Unexpected state"){let e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function Te(n,e){n||Z()}function te(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var qh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},S_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ct.UNAUTHENTICATED))}shutdown(){}},A_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},R_=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new qh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new ct(e)}},M_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},N_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new M_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},x_=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Gh(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new Gh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ZR(){return new TextEncoder}var Wh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=UH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function le(n,e){return n<e?-1:n>e?1:0}function P_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=ZR(),s=BH(o.encode(hR(n,t)),o.encode(hR(e,t)));return s!==0?s:le(r,i)}}t+=r>65535?2:1}return le(n.length,e.length)}function hR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function BH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return le(n[t],e[t]);return le(n.length,e.length)}function Bs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var fR=-62135596800,pR=1e6,pt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*pR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fR)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pR}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-fR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new pt(0,0))}static max(){return new n(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gR="__name__",Kh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(),r===void 0?r=e.length-t:r>e.length-t&&Z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return le(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):P_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}},Ze=class n extends Kh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},$H=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends Kh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return $H.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gR}static keyField(){return new n([gR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};var nu=-1,k_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};k_.UNKNOWN_ID=-1;function HH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new pt(t+1,0):new pt(t,r));return new go(i,Q.empty(),e)}function zH(n){return new go(n.readTime,n.key,nu)}var go=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),Q.empty(),nu)}static max(){return new n(re.max(),Q.empty(),nu)}};function qH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}var GH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",O_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ea(n){return _(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==GH)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function WH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}var fE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),pE=-1;function Df(n){return n==null}function ru(n){return n===0&&1/n==-1/0}function KH(n){return typeof n=="number"&&Number.isInteger(n)&&!ru(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var JR="";function QH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mR(e)),e=YH(n.get(t),e);return mR(e)}function YH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case JR:t+="";break;default:t+=o}}return t}function mR(n){return n+JR+""}var ZH="remoteDocuments",XR="owner";var eM="mutationQueues";var tM="mutations";var nM="documentMutations",JH="remoteDocumentsV14";var rM="remoteDocumentGlobal";var iM="targets";var oM="targetDocuments";var sM="targetGlobal",aM="collectionParents";var cM="clientMetadata";var uM="bundles";var lM="namedQueries";var XH="indexConfiguration";var e4="indexState";var t4="indexEntries";var dM="documentOverlays";var n4="globals";var r4=[eM,tM,nM,ZH,iM,XR,sM,oM,cM,rM,aM,uM,lM],vX=[...r4,dM],i4=[eM,tM,nM,JH,iM,XR,sM,oM,cM,rM,aM,uM,lM,dM],o4=i4,s4=[...o4,XH,e4,t4];var _X=[...s4,n4];function yR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var je=class n{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class n{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qh(this.data.getIterator())}getIteratorFrom(e){return new Qh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Qh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Kn=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ut(Kt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Yh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var a4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(Te(!!n),typeof n=="string"){let e=0,t=a4.exec(n);if(Te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(n.seconds),nanos:xe(n.nanos)}}function xe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ar(n){return typeof n=="string"?It.fromBase64String(n):It.fromUint8Array(n)}var fM="server_timestamp",pM="__type__",gM="__previous_value__",mM="__local_write_time__";function gE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pM])===null||t===void 0?void 0:t.stringValue)===fM}function Cf(n){let e=n.mapValue.fields[gM];return gE(e)?Cf(e):e}function iu(n){let e=Sr(n.mapValue.fields[mM].timestampValue);return new pt(e.seconds,e.nanos)}var F_=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zh="(default)",Jh=class n{constructor(e,t){this.projectId=e,this.database=t||Zh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var mE="__type__",yM="__max__",jh={mapValue:{fields:{__type__:{stringValue:yM}}}},yE="__vector__",$s="value";function pi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gE(n)?4:_M(n)?9007199254740991:vM(n)?10:11:Z()}function Xn(n,e){if(n===e)return!0;let t=pi(n);if(t!==pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return iu(n).isEqual(iu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Sr(i.timestampValue),a=Sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ar(i.bytesValue).isEqual(Ar(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=xe(i.doubleValue),a=xe(o.doubleValue);return s===a?ru(s)===ru(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Bs(n.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yR(s)!==yR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Xn(s[u],a[u])))return!1;return!0}(n,e);default:return Z()}}function ou(n,e){return(n.values||[]).find(t=>Xn(t,e))!==void 0}function Hs(n,e){if(n===e)return 0;let t=pi(n),r=pi(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=xe(o.integerValue||o.doubleValue),u=xe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return vR(n.timestampValue,e.timestampValue);case 4:return vR(iu(n),iu(e));case 5:return P_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ar(o),u=Ar(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=le(xe(o.latitude),xe(s.latitude));return a!==0?a:le(xe(o.longitude),xe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _R(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[$s])===null||a===void 0?void 0:a.arrayValue,S=(u=y[$s])===null||u===void 0?void 0:u.arrayValue,x=le(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:_R(m,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===jh.mapValue&&s===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(s===jh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=P_(u[p],h[p]);if(y!==0)return y;let m=Hs(a[u[p]],l[h[p]]);if(m!==0)return m}return le(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Z()}}function vR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);let t=Sr(n),r=Sr(e),i=le(t.seconds,r.seconds);return i!==0?i:le(t.nanos,r.nanos)}function _R(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Hs(t[i],r[i]);if(o)return o}return le(t.length,r.length)}function zs(n){return L_(n)}function L_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Sr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ar(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=L_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${L_(t.fields[s])}`;return i+"}"}(n.mapValue):Z()}function $h(n){switch(pi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Cf(n);return e?16+$h(e):16;case 5:return 2*n.stringValue.length;case 6:return Ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+$h(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return wo(r.fields,(o,s)=>{i+=o.length+$h(s)}),i}(n.mapValue);default:throw Z()}}function V_(n){return!!n&&"integerValue"in n}function vE(n){return!!n&&"arrayValue"in n}function wR(n){return!!n&&"nullValue"in n}function ER(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hh(n){return!!n&&"mapValue"in n}function vM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mE])===null||t===void 0?void 0:t.stringValue)===yE}function Jc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _M(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yM}var EX={mapValue:{fields:{[mE]:{stringValue:yE},[$s]:{arrayValue:{}}}}};var wn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Jc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Jc(this.value))}};function wM(n){let e=[];return wo(n.fields,(t,r)=>{let i=new Kt([t]);if(Hh(r)){let o=wM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Kn(e)}var En=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qs=class{constructor(e,t){this.position=e,this.inclusive=t}};function IR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),t.key):r=Hs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xn(n.position[t],e.position[t]))return!1;return!0}var Gs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function c4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Xh=class{},nt=class n extends Xh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new U_(e,t,r):t==="array-contains"?new H_(e,r):t==="in"?new z_(e,r):t==="not-in"?new q_(e,r):t==="array-contains-any"?new G_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new B_(e,r):new $_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Hs(t,this.value)):t!==null&&pi(this.value)===pi(t)&&this.matchesComparison(Hs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},er=class n extends Xh{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return EM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function EM(n){return n.op==="and"}function IM(n){return u4(n)&&EM(n)}function u4(n){for(let e of n.filters)if(e instanceof er)return!1;return!0}function j_(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+zs(n.value);if(IM(n))return n.filters.map(e=>j_(e)).join(",");{let e=n.filters.map(t=>j_(t)).join(",");return`${n.op}(${e})`}}function bM(n,e){return n instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Xn(r.value,i.value)}(n,e):n instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bM(s,i.filters[a]),!0):!1}(n,e):void Z()}function TM(n){return n instanceof nt?function(t){return`${t.field.canonicalString()} ${t.op} ${zs(t.value)}`}(n):n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(TM).join(" ,")+"}"}(n):"Filter"}var U_=class extends nt{constructor(e,t,r){super(e,t,r),this.key=Q.fromName(r.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},B_=class extends nt{constructor(e,t){super(e,"in",t),this.keys=DM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},$_=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=DM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function DM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Q.fromName(r.referenceValue))}var H_=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return vE(t)&&ou(t.arrayValue,this.value)}},z_=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}},q_=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ou(this.value.arrayValue,t)}},G_=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!vE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}};var W_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}};function TR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new W_(n,e,t,r,i,o,s)}function _E(n){let e=te(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>j_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zs(r)).join(",")),e.le=t}return e.le}function wE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!c4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bR(n.startAt,e.startAt)&&bR(n.endAt,e.endAt)}function K_(n){return Q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ws=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function l4(n,e,t,r,i,o,s,a){return new Ws(n,e,t,r,i,o,s,a)}function EE(n){return new Ws(n)}function DR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d4(n){return n.collectionGroup!==null}function Xc(n){let e=te(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ut(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Gs(o,r))}),t.has(Kt.keyField().canonicalString())||e.he.push(new Gs(Kt.keyField(),r))}return e.he}function Zn(n){let e=te(n);return e.Pe||(e.Pe=h4(e,Xc(n))),e.Pe}function h4(n,e){if(n.limitType==="F")return TR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Gs(i.field,o)});let t=n.endAt?new qs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qs(n.startAt.position,n.startAt.inclusive):null;return TR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Q_(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sf(n,e){return wE(Zn(n),Zn(e))&&n.limitType===e.limitType}function CM(n){return`${_E(Zn(n))}|lt:${n.limitType}`}function Os(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TM(i)).join(", ")}]`),Df(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(Zn(n))}; limitType=${n.limitType})`}function Af(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Xc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=IR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Xc(r),i)||r.endAt&&!function(s,a,u){let l=IR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Xc(r),i))}(n,e)}function f4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SM(n){return(e,t)=>{let r=!1;for(let i of Xc(n)){let o=p4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function p4(n,e,t){let r=n.field.isKeyField()?Q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Hs(u,l):Z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var Rr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hM(this.inner)}size(){return this.innerSize}};var g4=new je(Q.comparator);function Mr(){return g4}var AM=new je(Q.comparator);function Zc(...n){let e=AM;for(let t of n)e=e.insert(t.key,t);return e}function RM(n){let e=AM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function lo(){return eu()}function MM(){return eu()}function eu(){return new Rr(n=>n.toString(),(n,e)=>n.isEqual(e))}var m4=new je(Q.comparator),y4=new ut(Q.comparator);function ye(...n){let e=y4;for(let t of n)e=e.add(t);return e}var v4=new ut(le);function _4(){return v4}function IE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function NM(n){return{integerValue:""+n}}function w4(n,e){return KH(e)?NM(e):IE(n,e)}var Ks=class{constructor(){this._=void 0}};function E4(n,e,t){return n instanceof Qs?function(i,o){let s={fields:{[pM]:{stringValue:fM},[mM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gE(o)&&(o=Cf(o)),o&&(s.fields[gM]=o),{mapValue:s}}(t,e):n instanceof mo?PM(n,e):n instanceof yo?kM(n,e):function(i,o){let s=xM(i,o),a=CR(s)+CR(i.Ie);return V_(s)&&V_(i.Ie)?NM(a):IE(i.serializer,a)}(n,e)}function I4(n,e,t){return n instanceof mo?PM(n,e):n instanceof yo?kM(n,e):t}function xM(n,e){return n instanceof Ys?function(r){return V_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Qs=class extends Ks{},mo=class extends Ks{constructor(e){super(),this.elements=e}};function PM(n,e){let t=OM(e);for(let r of n.elements)t.some(i=>Xn(i,r))||t.push(r);return{arrayValue:{values:t}}}var yo=class extends Ks{constructor(e){super(),this.elements=e}};function kM(n,e){let t=OM(e);for(let r of n.elements)t=t.filter(i=>!Xn(i,r));return{arrayValue:{values:t}}}var Ys=class extends Ks{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function CR(n){return xe(n.integerValue||n.doubleValue)}function OM(n){return vE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function b4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof mo&&i instanceof mo||r instanceof yo&&i instanceof yo?Bs(r.elements,i.elements,Xn):r instanceof Ys&&i instanceof Ys?Xn(r.Ie,i.Ie):r instanceof Qs&&i instanceof Qs}(n.transform,e.transform)}var Y_=class{constructor(e,t){this.version=e,this.transformResults=t}},fo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Zs=class{};function FM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ef(n.key,fo.none()):new vo(n.key,n.data,fo.none());{let t=n.data,r=wn.empty(),i=new ut(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nr(n.key,r,new Kn(i.toArray()),fo.none())}}function T4(n,e,t){n instanceof vo?function(i,o,s){let a=i.value.clone(),u=AR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Nr?function(i,o,s){if(!zh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=AR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tu(n,e,t,r){return n instanceof vo?function(o,s,a,u){if(!zh(o.precondition,s))return a;let l=o.value.clone(),h=RR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Nr?function(o,s,a,u){if(!zh(o.precondition,s))return a;let l=RR(o.fieldTransforms,u,s),h=s.data;return h.setAll(LM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return zh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function D4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=xM(r.transform,i||null);o!=null&&(t===null&&(t=wn.empty()),t.set(r.field,o))}return t||null}function SR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(o,s)=>b4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var vo=class extends Zs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nr=class extends Zs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function AR(n,e,t){let r=new Map;Te(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,I4(s,a,t[i]))}return r}function RR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,E4(o,s,e))}return r}var ef=class extends Zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Z_=class extends Zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var J_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&T4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=MM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=FM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(t,r)=>SR(t,r))&&Bs(this.baseMutations,e.baseMutations,(t,r)=>SR(t,r))}},X_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Te(e.mutations.length===r.length);let i=function(){return m4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ew=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,_e;function C4(n){switch(n){case F.OK:return Z();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Z()}}function VM(n){if(n===void 0)return Cr("GRPC error has no .code"),F.UNKNOWN;switch(n){case Qe.OK:return F.OK;case Qe.CANCELLED:return F.CANCELLED;case Qe.UNKNOWN:return F.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return F.INTERNAL;case Qe.UNAVAILABLE:return F.UNAVAILABLE;case Qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Qe.NOT_FOUND:return F.NOT_FOUND;case Qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Qe.ABORTED:return F.ABORTED;case Qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Qe.DATA_LOSS:return F.DATA_LOSS;default:return Z()}}(_e=Qe||(Qe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var MR=null;var S4=new Tr([4294967295,4294967295],0);function NR(n){let e=ZR().encode(n),t=new y_;return t.update(e),new Uint8Array(t.digest())}function xR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Tr([t,r],0),new Tr([i,o],0)]}var nw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ho(`Invalid padding: ${t}`);if(r<0)throw new ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ho(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Tr.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Tr.fromNumber(r)));return i.compare(S4)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=NR(e),[r,i]=xR(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;let t=NR(e),[r,i]=xR(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ho=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var tf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new je(le),Mr(),ye())}},su=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var js=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},nf=class{constructor(e,t){this.targetId=e,this.ge=t}},rf=class{constructor(e,t,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},of=class{constructor(){this.pe=0,this.ye=PR(),this.we=It.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ye(),t=ye(),r=ye();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new su(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=PR()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},rw=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mr(),this.$e=Uh(),this.Ue=Uh(),this.Ke=new je(le)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(K_(o))if(r===0){let s=new Q(o.path);this.ze(t,s,En.newNoDocument(s,re.min()))}else Te(r===1);else{let s=this.et(t);if(s!==r){let a=this.tt(e),u=a?this.nt(a,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}MR?.rt(function(h,p,y,m,S){var x,N,U,oe,q,De;let lt={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Ie=p.unchangedNames;return Ie&&(lt.bloomFilter={applied:S===0,hashCount:(x=Ie?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(oe=(U=(N=Ie?.bits)===null||N===void 0?void 0:N.bitmap)===null||U===void 0?void 0:U.length)!==null&&oe!==void 0?oe:0,padding:(De=(q=Ie?.bits)===null||q===void 0?void 0:q.padding)!==null&&De!==void 0?De:0,mightContain:b=>{var v;return(v=m?.mightContain(b))!==null&&v!==void 0&&v}}),lt}(s,e.ge,this.ke.it(),a,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ar(r).toUint8Array()}catch(u){if(u instanceof Yh)return Us("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new nw(s,i,o)}catch(u){return Us(u instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let a=this.Xe(s);if(a){if(o.current&&K_(a.target)){let u=new Q(a.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,En.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=ye();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new tf(e,t,this.Ke,this.Qe,r);return this.Qe=Mr(),this.$e=Uh(),this.Ue=Uh(),this.Ke=new je(le),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new of,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ut(le),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ut(le),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new of),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function Uh(){return new je(Q.comparator)}function PR(){return new je(Q.comparator)}var A4={asc:"ASCENDING",desc:"DESCENDING"},R4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"},iw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ow(n,e){return n.useProto3Json||Df(e)?e:{value:e}}function sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function N4(n,e){return sf(n,e.toTimestamp())}function Jn(n){return Te(!!n),re.fromTimestamp(function(t){let r=Sr(t);return new pt(r.seconds,r.nanos)}(n))}function bE(n,e){return sw(n,e).canonicalString()}function sw(n,e){let t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UM(n){let e=Ze.fromString(n);return Te(qM(e)),e}function aw(n,e){return bE(n.databaseId,e.path)}function b_(n,e){let t=UM(e);if(t.get(1)!==n.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Q($M(t))}function BM(n,e){return bE(n.databaseId,e)}function x4(n){let e=UM(n);return e.length===4?Ze.emptyPath():$M(e)}function cw(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $M(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function kR(n,e,t){return{name:aw(n,e),fields:t.value.mapValue.fields}}function P4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),It.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),It.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?F.UNKNOWN:VM(l.code);return new W(h,l.message||"")}(s);t=new rf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=b_(n,r.document.name),o=Jn(r.document.updateTime),s=r.document.createTime?Jn(r.document.createTime):re.min(),a=new wn({mapValue:{fields:r.document.fields}}),u=En.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new js(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=b_(n,r.document),o=r.readTime?Jn(r.readTime):re.min(),s=En.newNoDocument(i,o),a=r.removedTargetIds||[];t=new js([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=b_(n,r.document),o=r.removedTargetIds||[];t=new js([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tw(i,o),a=r.targetId;t=new nf(a,s)}}return t}function k4(n,e){let t;if(e instanceof vo)t={update:kR(n,e.key,e.value)};else if(e instanceof ef)t={delete:aw(n,e.key)};else if(e instanceof Nr)t={update:kR(n,e.key,e.data),updateMask:H4(e.fieldMask)};else{if(!(e instanceof Z_))return Z();t={verify:aw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:N4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(n,e.precondition)),t}function O4(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Jn(i.updateTime):Jn(o);return s.isEqual(re.min())&&(s=Jn(o)),new Y_(s,i.transformResults||[])}(t,e))):[]}function F4(n,e){return{documents:[BM(n,e.path)]}}function L4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BM(n,i);let o=function(l){if(l.length!==0)return zM(er.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Fs(y.field),direction:U4(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ow(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function V4(n){let e=x4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=HM(p);return y instanceof er&&IM(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(S){return new Gs(Ls(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Df(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new qs(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new qs(m,y)}(t.endAt)),l4(e,i,s,o,a,"F",u,l)}function j4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ls(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ls(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ls(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(t){return nt.create(Ls(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(r=>HM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(t.compositeFilter.op))}(n):Z()}function U4(n){return A4[n]}function B4(n){return R4[n]}function $4(n){return M4[n]}function Fs(n){return{fieldPath:n.canonicalString()}}function Ls(n){return Kt.fromServerFormat(n.fieldPath)}function zM(n){return n instanceof nt?function(t){if(t.op==="=="){if(ER(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NAN"}};if(wR(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ER(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NAN"}};if(wR(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(t.field),op:B4(t.op),value:t.value}}}(n):n instanceof er?function(t){let r=t.getFilters().map(i=>zM(i));return r.length===1?r[0]:{compositeFilter:{op:$4(t.op),filters:r}}}(n):Z()}function H4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var au=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uw=class{constructor(e){this.Tt=e}};function z4(n){let e=V4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Q_(e,e.limit,"L"):e}var af=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),ru(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Sr(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ar(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?_M(e)?this.ft(t,Number.MAX_SAFE_INTEGER):vM(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Z()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=$s,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(xe(a)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),Q.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};af.xt=new af;var lw=class{constructor(){this.Tn=new dw}addToCollectionParentIndex(e,t){return this.Tn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(go.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(go.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},dw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ze.comparator)).toArray()}};var IX=new Uint8Array(0);var OR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GM=41943040,nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(GM,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var cu=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var FR="LruGarbageCollector",q4=1048576;function LR([n,e],[t,r]){let i=le(n,t);return i===0?le(e,r):i}var hw=class{constructor(e){this.Hn=e,this.buffer=new ut(LR),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();LR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},fw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){B(FR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?B(FR,"Ignoring IndexedDB error during garbage collection: ",t):yield ea(t)}yield this.er(3e5)}))}},pw=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(fE.ae);let r=new hw(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(OR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ks()<=fe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function G4(n,e){return new pw(n,e)}var gw=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var yw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tu(r.mutation,i,Kn.empty(),pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=lo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Zc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=lo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Mr(),s=eu(),a=function(){return eu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Nr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),tu(h.mutation,l,h.mutation.getFieldMask(),pt.now())):s.set(l.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new mw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=eu(),i=new je((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Kn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=MM();h.forEach(y=>{if(!o.has(y)){let m=FM(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):d4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(lo()),a=nu,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:a,changes:RM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(r=>{let i=Zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Zc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,y){return new Ws(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,En.newInvalidDocument(h)))});let a=Zc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&tu(h.mutation,l,Kn.empty(),pt.now()),Af(t,l)&&(a=a.insert(u,l))}),a})}};var vw=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return O.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:z4(i.bundledQuery),readTime:Jn(i.readTime)}}(t)),O.resolve()}};var _w=class{constructor(){this.overlays=new je(Q.comparator),this.Rr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=lo();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=lo(),o=t.length+1,s=new Q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=lo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=lo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ew(t,r));let o=this.Rr.get(t);o===void 0&&(o=ye(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var ww=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var uu=class{constructor(){this.Vr=new ut(Ye.mr),this.gr=new ut(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Ye(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ye(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new Q(new Ze([])),r=new Ye(t,e),i=new Ye(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new Q(new Ze([])),r=new Ye(t,e),i=new Ye(t,e+1),o=ye();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Q.comparator(e.key,t.key)||le(e.Cr,t.Cr)}static pr(e,t){return le(e.Cr,t.Cr)||Q.comparator(e.key,t.key)}};var Ew=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ut(Ye.mr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new J_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Mr=this.Mr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?pE:this.Fr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ye(t,0),i=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let a=this.Or(s.Cr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(le);return t.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),O.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new Q(o),0),a=new ut(le);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Cr)),!0)},s),O.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Te(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return O.forEach(t.mutations,i=>{let o=new Ye(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Ye(t,0),i=this.Mr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Iw=class{constructor(e){this.kr=e,this.docs=function(){return new je(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let r=Mr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():En.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mr(),s=t.path,a=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||qH(zH(h),r)<=0||(i.has(h.key)||Af(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z()}qr(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bw(this)}getSize(e){return O.resolve(this.size)}},bw=class extends gw{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var Tw=class{constructor(e){this.persistence=e,this.Qr=new Rr(t=>_E(t),wE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new uu,this.targetCount=0,this.Kr=cu.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),O.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new cu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.zn(t),O.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.Ur.containsKey(t))}};var cf=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new fE(0),this.zr=!1,this.zr=!0,this.jr=new ww,this.referenceDelegate=e(this),this.Hr=new Tw(this),this.indexManager=new lw,this.remoteDocumentCache=function(i){return new Iw(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new uw(t),this.Yr=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _w,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Ew(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Dw(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return O.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},Dw=class extends O_{constructor(e){super(),this.currentSequenceNumber=e}},Cw=class n{constructor(e){this.persistence=e,this.ti=new uu,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),O.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.ii,r=>{let i=Q.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return O.or([()=>O.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},uf=class n{constructor(e,t){this.persistence=e,this.oi=new Rr(r=>QH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=G4(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return O.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),O.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$h(e.data.value)),t}ar(e,t,r){return O.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Sw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=ye(),i=ye();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Aw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rw=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AS()?8:WH(at())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Aw;return this._s(e,t,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,t,s,a.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ks()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Os(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),O.resolve()):(ks()<=fe.DEBUG&&B("QueryEngine","Query:",Os(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ks()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Os(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):O.resolve())}rs(e,t){if(DR(t))return O.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Q_(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,a);return this.ls(t,l,s,u.readTime)?this.rs(e,Q_(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return DR(t)||i.isEqual(re.min())?O.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?O.resolve(null):(ks()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Os(t)),this.hs(e,s,t,HH(i,nu)).next(a=>a))})}cs(e,t){let r=new ut(SM(e));return t.forEach((i,o)=>{Af(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return ks()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Os(t)),this.ns.getDocumentsMatchingQuery(e,t,go.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var TE="LocalStore",W4=3e8,Mw=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new je(le),this.Is=new Rr(o=>_E(o),wE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function K4(n,e,t,r){return new Mw(n,e,t,r)}function WM(n,e){return _(this,null,function*(){let t=te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Q4(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=O.resolve();return y.forEach(S=>{m=m.next(()=>h.getEntry(u,S)).next(x=>{let N=l.docVersions.get(S);Te(N!==null),x.version.compareTo(N)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function KM(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Y4(n,e){let t=te(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Hr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Hr.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(It.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(x,N,U){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=W4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(y,m,h)&&a.push(t.Hr.updateTargetData(o,m))});let u=Mr(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Z4(o,s,e.documentUpdates).next(h=>{u=h.Vs,l=h.fs})),!r.isEqual(re.min())){let h=t.Hr.getLastRemoteSnapshotVersion(o).next(p=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function Z4(n,e,t){let r=ye(),i=ye();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(TE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function J4(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X4(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new au(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function Nw(n,e,t){return _(this,null,function*(){let r=te(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ta(s))throw s;B(TE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function VR(n,e,t){let r=te(n),i=re.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),y=p.Is.get(h);return y!==void 0?O.resolve(p.Ts.get(y)):p.Hr.getTargetData(l,h)}(r,s,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:ye())).next(a=>(ez(r,f4(e),a),{documents:a,gs:o})))}function ez(n,e,t){let r=n.Es.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var lf=class{constructor(){this.activeTargetIds=_4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xw=class{constructor(){this.ho=new lf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pw=class{To(e){}shutdown(){}};var jR="ConnectivityMonitor",df=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){B(jR,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){B(jR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bh=null;function kw(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}var T_="RestConnection",tz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ow=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Zh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=kw(),a=this.bo(e,t.toUriEncodedString());B(T_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,a,u,r).then(l=>(B(T_,`Received RPC '${e}' ${s}: `,l),l),l=>{throw Us(T_,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=tz[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var Fw=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var Et="WebChannelConnection",Lw=class extends Ow{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=kw();return new Promise((s,a)=>{let u=new v_;u.setWithCredentials(!0),u.listenOnce(__.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yc.NO_ERROR:let h=u.getResponseJson();B(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Yc.TIMEOUT:B(Et,`RPC '${e}' ${o} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:let p=u.getStatus();if(B(Et,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let S=function(N){let U=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(U)>=0?U:F.UNKNOWN}(m.status);a(new W(S,m.message))}else a(new W(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{B(Et,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(Et,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=kw(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=I_(),a=E_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(Et,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,S=new Fw({Fo:N=>{m?B(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(B(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),B(Et,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Mo:()=>p.close()}),x=(N,U,oe)=>{N.listen(U,q=>{try{oe(q)}catch(De){setTimeout(()=>{throw De},0)}})};return x(p,Ps.EventType.OPEN,()=>{m||(B(Et,`RPC '${e}' stream ${i} transport opened.`),S.Qo())}),x(p,Ps.EventType.CLOSE,()=>{m||(m=!0,B(Et,`RPC '${e}' stream ${i} transport closed`),S.Uo())}),x(p,Ps.EventType.ERROR,N=>{m||(m=!0,Us(Et,`RPC '${e}' stream ${i} transport errored:`,N),S.Uo(new W(F.UNAVAILABLE,"The operation could not be completed")))}),x(p,Ps.EventType.MESSAGE,N=>{var U;if(!m){let oe=N.data[0];Te(!!oe);let q=oe,De=q?.error||((U=q[0])===null||U===void 0?void 0:U.error);if(De){B(Et,`RPC '${e}' stream ${i} received error:`,De);let lt=De.status,Ie=function(E){let I=Qe[E];if(I!==void 0)return VM(I)}(lt),b=De.message;Ie===void 0&&(Ie=F.INTERNAL,b="Unknown error status: "+lt+" with message "+De.message),m=!0,S.Uo(new W(Ie,b)),p.close()}else B(Et,`RPC '${e}' stream ${i} received:`,oe),S.Ko(oe)}}),x(a,w_.STAT_EVENT,N=>{N.stat===Vh.PROXY?B(Et,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Vh.NOPROXY&&B(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}};function D_(){return typeof document<"u"?document:null}function Rf(n){return new iw(n,!0)}var hf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var UR="PersistentStream",ff=class{constructor(e,t,r,i,o,s,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hf(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return _(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return _(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return _(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>_(this,null,function*(){this.state=0,this.start()}))}m_(e){return B(UR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(B(UR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vw=class extends ff{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=P4(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Jn(s.readTime):re.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=cw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=K_(u)?{documents:F4(o,u)}:{query:L4(o,u).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jM(o,s.resumeToken);let l=ow(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=sf(o,s.snapshotVersion.toTimestamp());let l=ow(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=j4(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=cw(this.serializer),t.removeTarget=e,this.I_(t)}},jw=class extends ff{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=O4(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=cw(this.serializer),this.I_(e)}b_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>k4(this.serializer,r))};this.I_(t)}};var Uw=class{},Bw=class extends Uw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,sw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,sw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},$w=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Cr(t),this.N_=!1):B("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var _o="RemoteStore",Hw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Eo(this)&&(B(_o,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=te(u);l.W_.add(4),yield vu(l),l.j_.set("Unknown"),l.W_.delete(4),yield Mf(l)})}(this))}))}),this.j_=new $w(r,i)}};function Mf(n){return _(this,null,function*(){if(Eo(n))for(let e of n.G_)yield e(!0)})}function vu(n){return _(this,null,function*(){for(let e of n.G_)yield e(!1)})}function QM(n,e){let t=te(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),AE(t)?SE(t):na(t).c_()&&CE(t,e))}function DE(n,e){let t=te(n),r=na(t);t.K_.delete(e),r.c_()&&YM(t,e),t.K_.size===0&&(r.c_()?r.P_():Eo(t)&&t.j_.set("Unknown"))}function CE(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).y_(e)}function YM(n,e){n.H_.Ne(e),na(n).w_(e)}function SE(n){n.H_=new rw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),na(n).start(),n.j_.B_()}function AE(n){return Eo(n)&&!na(n).u_()&&n.K_.size>0}function Eo(n){return te(n).W_.size===0}function ZM(n){n.H_=void 0}function nz(n){return _(this,null,function*(){n.j_.set("Online")})}function rz(n){return _(this,null,function*(){n.K_.forEach((e,t)=>{CE(n,e)})})}function iz(n,e){return _(this,null,function*(){ZM(n),AE(n)?(n.j_.q_(e),SE(n)):n.j_.set("Unknown")})}function oz(n,e,t){return _(this,null,function*(){if(n.j_.set("Online"),e instanceof rf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.K_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){B(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pf(n,r)}else if(e instanceof js?n.H_.We(e):e instanceof nf?n.H_.Ze(e):n.H_.je(e),!t.isEqual(re.min()))try{let r=yield KM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.H_.ot(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.K_.get(l);h&&o.K_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.K_.get(u);if(!h)return;o.K_.set(u,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),YM(o,u);let p=new au(h.target,u,l,h.sequenceNumber);CE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B(_o,"Failed to raise snapshot:",r),yield pf(n,r)}})}function pf(n,e,t){return _(this,null,function*(){if(!ta(e))throw e;n.W_.add(1),yield vu(n),n.j_.set("Offline"),t||(t=()=>KM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){B(_o,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield Mf(n)}))})}function JM(n,e){return e().catch(t=>pf(n,t,e))}function Nf(n){return _(this,null,function*(){let e=te(n),t=gi(e),r=e.U_.length>0?e.U_[e.U_.length-1].batchId:pE;for(;sz(e);)try{let i=yield J4(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,az(e,i)}catch(i){yield pf(e,i)}XM(e)&&eN(e)})}function sz(n){return Eo(n)&&n.U_.length<10}function az(n,e){n.U_.push(e);let t=gi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function XM(n){return Eo(n)&&!gi(n).u_()&&n.U_.length>0}function eN(n){gi(n).start()}function cz(n){return _(this,null,function*(){gi(n).C_()})}function uz(n){return _(this,null,function*(){let e=gi(n);for(let t of n.U_)e.b_(t.mutations)})}function lz(n,e,t){return _(this,null,function*(){let r=n.U_.shift(),i=X_.from(r,e,t);yield JM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nf(n)})}function dz(n,e){return _(this,null,function*(){e&&gi(n).S_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return C4(s)&&s!==F.ABORTED}(i.code)){let o=r.U_.shift();gi(r).h_(),yield JM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Nf(r)}})}(n,e)),XM(n)&&eN(n)})}function BR(n,e){return _(this,null,function*(){let t=te(n);t.asyncQueue.verifyOperationInProgress(),B(_o,"RemoteStore received new credentials");let r=Eo(t);t.W_.add(3),yield vu(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield Mf(t)})}function hz(n,e){return _(this,null,function*(){let t=te(n);e?(t.W_.delete(2),yield Mf(t)):e||(t.W_.add(2),yield vu(t),t.j_.set("Unknown"))})}function na(n){return n.J_||(n.J_=function(t,r,i){let o=te(t);return o.M_(),new Vw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:nz.bind(null,n),No:rz.bind(null,n),Lo:iz.bind(null,n),p_:oz.bind(null,n)}),n.G_.push(e=>_(this,null,function*(){e?(n.J_.h_(),AE(n)?SE(n):n.j_.set("Unknown")):(yield n.J_.stop(),ZM(n))}))),n.J_}function gi(n){return n.Y_||(n.Y_=function(t,r,i){let o=te(t);return o.M_(),new jw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:cz.bind(null,n),Lo:dz.bind(null,n),D_:uz.bind(null,n),v_:lz.bind(null,n)}),n.G_.push(e=>_(this,null,function*(){e?(n.Y_.h_(),yield Nf(n)):(yield n.Y_.stop(),n.U_.length>0&&(B(_o,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))}))),n.Y_}var zw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RE(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),ta(n))return new W(F.UNAVAILABLE,`${e}: ${n}`);throw n}var gf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Q.comparator(t.key,r.key):(t,r)=>Q.comparator(t.key,r.key),this.keyedMap=Zc(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var mf=class{constructor(){this.Z_=new je(Q.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Z():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Js=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,gf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var qw=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Gw=class{constructor(){this.queries=$R(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=$R(),o.forEach((s,a)=>{for(let u of a.ta)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}};function $R(){return new Rr(n=>CM(n),Sf)}function fz(n,e){return _(this,null,function*(){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new qw,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=RE(s,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&ME(t)})}function pz(n,e){return _(this,null,function*(){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function gz(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&ME(t)}function mz(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function ME(n){n.ia.forEach(e=>{e.next()})}var Ww,HR;(HR=Ww||(Ww={}))._a="default",HR.Cache="cache";var Kw=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ww.Cache}};var yf=class{constructor(e){this.key=e}},vf=class{constructor(e){this.key=e}},Qw=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ye(),this.mutatedKeys=ye(),this.ya=SM(e),this.wa=new gf(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new mf,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Af(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),N=!1;y&&m?y.data.isEqual(m.data)?S!==x&&(r.track({type:3,doc:m}),N=!0):this.va(y,m)||(r.track({type:2,doc:m}),N=!0,(u&&this.ya(m,u)>0||l&&this.ya(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),N=!0):y&&!m&&(r.track({type:1,doc:y}),N=!0,(u||l)&&(a=!0)),N&&(m?(s=s.add(m),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((h,p)=>function(m,S){let x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return x(m)-x(S)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new Js(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ye(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new vf(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new yf(r))}),t}Oa(e){this.fa=e.gs,this.pa=ye();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Js.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},NE="SyncEngine",Yw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Zw=class{constructor(e){this.key=e,this.Ba=!1}},Jw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Rr(a=>CM(a),Sf),this.qa=new Map,this.Qa=new Set,this.$a=new je(Q.comparator),this.Ua=new Map,this.Ka=new uu,this.Wa={},this.Ga=new Map,this.za=cu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function yz(n,e,t=!0){return _(this,null,function*(){let r=sN(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield tN(r,e,t,!0),i})}function vz(n,e){return _(this,null,function*(){let t=sN(n);yield tN(t,e,!0,!1)})}function tN(n,e,t,r){return _(this,null,function*(){let i=yield X4(n.localStore,Zn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield _z(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&QM(n.remoteStore,i),a})}function _z(n,e,t,r,i){return _(this,null,function*(){n.Ha=(p,y,m)=>function(x,N,U,oe){return _(this,null,function*(){let q=N.view.ba(U);q.ls&&(q=yield VR(x.localStore,N.query,!1).then(({documents:b})=>N.view.ba(b,q)));let De=oe&&oe.targetChanges.get(N.targetId),lt=oe&&oe.targetMismatches.get(N.targetId)!=null,Ie=N.view.applyChanges(q,x.isPrimaryClient,De,lt);return qR(x,N.targetId,Ie.Ma),Ie.snapshot})}(n,p,y,m);let o=yield VR(n.localStore,e,!0),s=new Qw(e,o.gs),a=s.ba(o.documents),u=su.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);qR(n,t,l.Ma);let h=new Yw(e,t,s);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function wz(n,e,t){return _(this,null,function*(){let r=te(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Sf(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&DE(r.remoteStore,i.targetId),Xw(r,i.targetId)}).catch(ea))):(Xw(r,i.targetId),yield Nw(r.localStore,i.targetId,!0))})}function Ez(n,e){return _(this,null,function*(){let t=te(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),DE(t.remoteStore,r.targetId))})}function Iz(n,e,t){return _(this,null,function*(){let r=Rz(n);try{let i=yield function(s,a){let u=te(s),l=pt.now(),h=a.reduce((m,S)=>m.add(S.key),ye()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Mr(),x=ye();return u.ds.getEntries(m,h).next(N=>{S=N,S.forEach((U,oe)=>{oe.isValidDocument()||(x=x.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,S)).next(N=>{p=N;let U=[];for(let oe of a){let q=D4(oe,p.get(oe.key).overlayedDocument);q!=null&&U.push(new Nr(oe.key,q,wM(q.value.mapValue),fo.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,U,a)}).next(N=>{y=N;let U=N.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(m,N.batchId,U)})}).then(()=>({batchId:y.batchId,changes:RM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Wa[s.currentUser.toKey()];l||(l=new je(le)),l=l.insert(a,u),s.Wa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield _u(r,i.changes),yield Nf(r.remoteStore)}catch(i){let o=RE(i,"Failed to persist write");t.reject(o)}})}function nN(n,e){return _(this,null,function*(){let t=te(n);try{let r=yield Y4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Te(s.Ba):i.removedDocuments.size>0&&(Te(s.Ba),s.Ba=!1))}),yield _u(t,r,e)}catch(r){yield ea(r)}})}function zR(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.ta)y.sa(a)&&(l=!0)}),l&&ME(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bz(n,e,t){return _(this,null,function*(){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new je(Q.comparator);s=s.insert(o,En.newNoDocument(o,re.min()));let a=ye().add(o),u=new tf(re.min(),new Map,new je(le),s,a);yield nN(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),xE(r)}else yield Nw(r.localStore,e,!1).then(()=>Xw(r,e,t)).catch(ea)})}function Tz(n,e){return _(this,null,function*(){let t=te(n),r=e.batch.batchId;try{let i=yield Q4(t.localStore,e);iN(t,r,null),rN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _u(t,i)}catch(i){yield ea(i)}})}function Dz(n,e,t){return _(this,null,function*(){let r=te(n);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);iN(r,e,t),rN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _u(r,i)}catch(i){yield ea(i)}})}function rN(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function iN(n,e,t){let r=te(n),i=r.Wa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Xw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||oN(n,r)})}function oN(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(DE(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),xE(n))}function qR(n,e,t){for(let r of t)r instanceof yf?(n.Ka.addReference(r.key,e),Cz(n,r)):r instanceof vf?(B(NE,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||oN(n,r.key)):Z()}function Cz(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(B(NE,"New document in limbo: "+t),n.Qa.add(r),xE(n))}function xE(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new Q(Ze.fromString(e)),r=n.za.next();n.Ua.set(r,new Zw(t)),n.$a=n.$a.insert(t,r),QM(n.remoteStore,new au(Zn(EE(t.path)),r,"TargetPurposeLimboResolution",fE.ae))}}function _u(n,e,t){return _(this,null,function*(){let r=te(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{s.push(r.Ha(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Sw.Yi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return _(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,y=>O.forEach(y.Hi,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>O.forEach(y.Ji,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!ta(p))throw p;B(TE,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ts.get(y),S=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(S);h.Ts=h.Ts.insert(y,x)}}})}(r.localStore,o))})}function Sz(n,e){return _(this,null,function*(){let t=te(n);if(!t.currentUser.isEqual(e)){B(NE,"User change. New user:",e.toKey());let r=yield WM(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(u=>{u.reject(new W(F.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _u(t,r.Rs)}})}function Az(n,e){let t=te(n),r=t.Ua.get(e);if(r&&r.Ba)return ye().add(r.key);{let i=ye(),o=t.qa.get(e);if(!o)return i;for(let s of o){let a=t.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function sN(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Az.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bz.bind(null,e),e.La.p_=gz.bind(null,e.eventManager),e.La.Ja=mz.bind(null,e.eventManager),e}function Rz(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dz.bind(null,e),e}var aN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Rf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return K4(this.persistence,new Rw,t.initialUser,this.serializer)}Xa(t){return new cf(Cw.ri,this.serializer)}Za(t){return new xw}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),eE=class extends aN{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Te(this.persistence.referenceDelegate instanceof uf);let r=this.persistence.referenceDelegate.garbageCollector;return new fw(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new cf(r=>uf.ri(r,t),this.serializer)}};var Mz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sz.bind(null,this.syncEngine),yield hz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Gw}()}createDatastore(t){let r=Rf(t.databaseInfo.databaseId),i=function(s){return new Lw(s)}(t.databaseInfo);return function(s,a,u,l){return new Bw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Hw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>zR(this.syncEngine,r,0),function(){return df.D()?new df:new Pw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new Jw(o,s,a,u,l,h);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=te(o);B(_o,"RemoteStore shutting down."),s.W_.add(5),yield vu(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var tE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mi="FirestoreClient",nE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=Wh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){B(mi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(mi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=RE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function C_(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(mi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield WM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function GR(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Nz(n);B(mi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>BR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>BR(e.remoteStore,i)),n._onlineComponents=e})}function Nz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(mi,"Using user provided OfflineComponentProvider");try{yield C_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Us("Error using user provided cache. Falling back to memory cache: "+t),yield C_(n,new aN)}}else B(mi,"Using default OfflineComponentProvider"),yield C_(n,new eE(void 0));return n._offlineComponents})}function cN(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(mi,"Using user provided OnlineComponentProvider"),yield GR(n,n._uninitializedComponentsProvider._online)):(B(mi,"Using default OnlineComponentProvider"),yield GR(n,new Mz))),n._onlineComponents})}function xz(n){return cN(n).then(e=>e.syncEngine)}function Pz(n){return _(this,null,function*(){let e=yield cN(n),t=e.eventManager;return t.onListen=yz.bind(null,e.syncEngine),t.onUnlisten=wz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ez.bind(null,e.syncEngine),t})}function kz(n,e,t={}){let r=new Qn;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new tE({next:y=>{h.su(),s.enqueueAndForget(()=>pz(o,p));let m=y.docs.has(a);!m&&y.fromCache?l.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&y.fromCache&&u&&u.source==="server"?l.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Kw(EE(a.path),h,{includeMetadataChanges:!0,Ta:!0});return fz(o,p)}(yield Pz(n),n.asyncQueue,e,t,r)})),r.promise}function uN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var WR=new Map;function Oz(n,e,t){if(!t)throw new W(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fz(n,e,t,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KR(n){if(!Q.isDocumentKey(n))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function lu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=PE(n);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var lN="firestore.googleapis.com",QR=!0,_f=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lN,this.ssl=QR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:QR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q4)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},du=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _f({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _f(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S_;switch(r.type){case"firstParty":return new N_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=WR.get(t);r&&(B("ComponentProvider","Removing Datastore"),WR.delete(t),r.terminate())}(this),Promise.resolve()}};function dN(n,e,t,r={}){var i;let o=(n=lu(n,du))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==lN&&o.host!==a&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Hn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=ct.MOCK_USER;else{l=IS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ct(p)}n._authCredentials=new A_(new qh(l,h))}}var rE=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},rn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},hu=class n extends rE{constructor(e,t,r){super(e,t,EE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function hN(n,e,...t){if(n=wt(n),arguments.length===1&&(e=Wh.newId()),Oz("doc","path",e),n instanceof du){let r=Ze.fromString(e,...t);return KR(r),new rn(n,null,new Q(r))}{if(!(n instanceof rn||n instanceof hu))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return KR(r),new rn(n.firestore,n instanceof hu?n.converter:null,new Q(r))}}var YR="AsyncQueue",wf=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hf(this,"async_queue_retry"),this.Su=()=>{let r=D_();r&&B(YR,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=D_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=D_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Qn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return _(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ta(e))throw e;B(YR,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=zw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Z()}verifyOperationInProgress(){}Mu(){return _(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};var fu=class extends du{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wf(e),this._firestoreClient=void 0,yield e}})}};function fN(n,e){let t=typeof n=="object"?n:no(),r=typeof n=="string"?n:e||Zh,i=As(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ES("firestore");o&&dN(i,...o)}return i}function pN(n){if(n._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lz(n),n._firestoreClient}function Lz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new F_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uN(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new nE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var pu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(It.fromBase64String(e))}catch(t){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ef=class{constructor(e){this._methodName=e}};var mu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}};var yu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Vz=/^__.*__$/,iE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new vo(e,this.data,t,this.fieldTransforms)}};function gN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var oE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return If(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gN(this.Lu)&&Vz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},sE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rf(e)}ju(e,t,r,i=!1){return new oE({Lu:e,methodName:t,zu:r,path:Kt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function jz(n){let e=n._freezeSettings(),t=Rf(n._databaseId);return new sE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Uz(n,e,t,r,i,o={}){let s=n.ju(o.merge||o.mergeFields?2:0,e,t,i);_N("Data must be an object, but it was:",s,r);let a=yN(r,s),u,l;if(o.merge)u=new Kn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=Bz(e,p,t);if(!s.contains(y))throw new W(F.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Hz(h,y)||h.push(y)}u=new Kn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new iE(new wn(a),u,l)}function mN(n,e){if(vN(n=wt(n)))return _N("Unsupported field value:",e,n),yN(n,e);if(n instanceof Ef)return function(r,i){if(!gN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=mN(a,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:sf(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(i.serializer,o)}}if(r instanceof mu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:jM(i.serializer,r._byteString)};if(r instanceof rn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yu)return function(s,a){return{mapValue:{fields:{[mE]:{stringValue:yE},[$s]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return IE(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${PE(r)}`)}(n,e)}function yN(n,e){let t={};return hM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,(r,i)=>{let o=mN(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof mu||n instanceof pu||n instanceof rn||n instanceof Ef||n instanceof yu)}function _N(n,e,t){if(!vN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=PE(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Bz(n,e,t){if((e=wt(e))instanceof gu)return e._internalPath;if(typeof e=="string")return wN(n,e);throw If("Field path arguments must be of type string or ",n,!1,void 0,t)}var $z=new RegExp("[~\\*/\\[\\]]");function wN(n,e,t){if(e.search($z)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gu(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function If(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(F.INVALID_ARGUMENT,a+n+u)}function Hz(n,e){return n.some(t=>t.isEqual(e))}var bf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new aE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(EN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},aE=class extends bf{data(){return super.data()}};function EN(n,e){return typeof e=="string"?wN(n,e):e instanceof gu?e._internalPath:e._delegate._internalPath}var cE=class{convertValue(e,t="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>xe(s.doubleValue));return new yu(o)}convertGeoPoint(e){return new mu(xe(e.latitude),xe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Cf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){let t=Sr(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);Te(qM(r));let i=new Jh(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(t)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function zz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uE=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tf=class extends bf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new lE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(EN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},lE=class extends Tf{data(e={}){return super.data(e)}};function IN(n){n=lu(n,rn);let e=lu(n.firestore,fu);return kz(pN(e),n._key).then(t=>Gz(e,n,t))}var dE=class extends cE{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,t)}};function bN(n,e,t){n=lu(n,rn);let r=lu(n.firestore,fu),i=zz(n.converter,e,t);return qz(r,[Uz(jz(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,fo.none())])}function qz(n,e){return function(r,i){let o=new Qn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return Iz(yield xz(r),i,o)})),o.promise}(pN(n),e)}function Gz(n,e,t){let r=t.docs.get(e._key),i=new dE(n);return new Tf(n,i,e._key,r,new uE(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Xs=i})(oi),vn(new Rt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new fu(new R_(r.getProvider("auth-internal")),new x_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(lR,dR,e),Ve(lR,dR,"esm2017")})();var Io=class{constructor(e){return e}},TN="firestore",kE=class{constructor(){return Ms(TN)}};var OE=new j("angularfire2.firestore-instances");function Wz(n,e){let t=Lc(TN,n,e);return t&&new Io(t)}function Kz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Io(r)}}var Qz={provide:kE,deps:[[new Xt,OE]]},Yz={provide:Io,useFactory:Wz,deps:[[new Xt,OE],wr]};function DN(n,...e){return Ve("angularfire",si.full,"fst"),dn([Yz,Qz,{provide:OE,useFactory:Kz(n),multi:!0,deps:[we,Ge,ai,io,[new Xt,Qc],[new Xt,Ns],...e]}])}var FE=jt(hN,!0,2);var CN=jt(IN,!0);var SN=jt(fN,!0);var AN=jt(bN,!0,2);var yi=class n{constructor(e){this.platformId=e;this.isBrowser=uy(this.platformId)}isBrowser;login(e){this.isBrowser&&localStorage.setItem("token",e)}logout(){this.isBrowser&&(localStorage.removeItem("token"),localStorage.removeItem("user"))}isLoggedIn(){return this.isBrowser?!!localStorage.getItem("token"):!1}static \u0275fac=function(t){return new(t||n)(z(Ot))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var vi=class n{constructor(e){this.platformId=e}auth=P(uo);firestore=P(Io);router=P(He);ngZone=P(we);signup(e,t,r,i,o){return _(this,null,function*(){try{let s=yield iR(this.auth,t,r),a=s.user;if(a){let u=FE(this.firestore,`users/${a.uid}`);return yield AN(u,{name:e,email:t,phone:i,age:o,uid:a.uid}),s}else throw new Error("User creation failed")}catch(s){throw s}})}login(e,t){return _(this,null,function*(){try{let r=yield sR(this.auth,e,t),i=r.user;if(i){let o=yield this.getUserData(i.uid);if(o.exists()){let s=o.data();localStorage.setItem("user",JSON.stringify(s))}}return r}catch(r){throw console.error("Login error:",r),new Error(r.message||"Login failed")}})}getLoggedInUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}logout(){return aR(this.auth).then(()=>this.router.navigate(["/login"]))}isLoggedIn(){return rR(this.auth)}getUserData(e){return _(this,null,function*(){let t=FE(this.firestore,`users/${e}`);return yield CN(t)})}static \u0275fac=function(t){return new(t||n)(z(Ot))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var xf=class n{constructor(e,t,r){this.router=e;this.loginService=t;this.authService=r}userName="";isSidebarOpen=!1;ngOnInit(){let e=this.authService.getLoggedInUser();e&&(this.userName=e.name)}logout(){alert("Logout successfully...!"),this.loginService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(J(He),J(yi),J(vi))};static \u0275cmp=We({type:n,selectors:[["app-sidebar"]],inputs:{isSidebarOpen:"isSidebarOpen"},decls:18,vars:3,consts:[[1,"sidebar"],["id","logo","src","/assets/logo.png","alt","Logo"],[3,"click"],["routerLink","/about","routerLinkActive","active-link"],["routerLink","/demo","routerLinkActive","active-link"],["routerLink","/article","routerLinkActive","active-link"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"nav"),X(2,"img",1),A(3,"span")(4,"p"),k(5),R(),A(6,"button",2),Le("click",function(){return r.logout()}),k(7,"Logout"),R()(),A(8,"ul")(9,"li")(10,"a",3),k(11,"About"),R()(),A(12,"li")(13,"a",4),k(14,"Demo"),R()(),A(15,"li")(16,"a",5),k(17,"Articles"),R()()()()()),t&2&&(Wr("open",r.isSidebarOpen),K(5),ls("Hi, ",r.userName,""))},dependencies:[$n,Jy],styles:["#logo[_ngcontent-%COMP%]{width:65%;margin:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:#960c0c;padding:5px 30px 5px 20px;display:block;font-size:1rem;font-weight:700;color:#584d4e}a.active-link[_ngcontent-%COMP%]{color:#000;font-weight:700;background-color:#f4d5a9;border-radius:4px}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 25px 5px 10px;border-radius:10px;list-style-type:none}a[_ngcontent-%COMP%]:hover{background-color:#faddb1}span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f66;color:#fff;border:none;padding:8px 16px;border-radius:5px;font-size:14px;cursor:pointer;transition:all .3s}span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c00}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-250px;width:250px;height:100vh;background-color:#f7e8d2;transition:left .3s ease;z-index:1000;overflow-y:auto;padding:20px}.sidebar.open[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{position:fixed;height:100%}}"]})};var Pf=class n{isSidebarOpen=!1;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}onDocumentClick(e){let t=document.querySelector(".sidebar"),r=document.querySelector(".hamburger");!t?.contains(e.target)&&!r?.contains(e.target)&&(this.isSidebarOpen=!1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-main-layout"]],hostBindings:function(t,r){t&1&&Le("click",function(o){return r.onDocumentClick(o)},!1,$T)},decls:7,vars:3,consts:[[1,"main-container"],[1,"hamburger",3,"click"],[1,"main"],[3,"isSidebarOpen"],[1,"content"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"button",1),Le("click",function(){return r.toggleSidebar()}),k(2,"\u2630"),R(),A(3,"div",2),X(4,"app-sidebar",3),A(5,"div",4),X(6,"router-outlet"),R()()()),t&2&&(K(3),Wr("shifted",r.isSidebarOpen),K(),me("isSidebarOpen",r.isSidebarOpen))},dependencies:[vr,xf],styles:[".main-container[_ngcontent-%COMP%]{height:100vh}.main[_ngcontent-%COMP%]{display:flex;transition:margin-left .3s ease}.main.shifted[_ngcontent-%COMP%]{margin-left:250px}.content[_ngcontent-%COMP%]{width:100vw;padding:20px;overflow:hidden}.hamburger[_ngcontent-%COMP%]{position:fixed;top:15px;font-size:28px;background:none;border:none;cursor:pointer;z-index:1001;background-color:#f7e8d2;padding:0 .5em;border-top-right-radius:10px;border-bottom-right-radius:10px}@media (max-width: 480px){.main[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{width:100%;padding:2rem 1rem}}"]})};var kf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-auth-layout"]],decls:19,vars:0,consts:[[1,"auth-wrapper"],[1,"auth-left"],[1,"info"],["src","https://lottie.host/1e6191a5-e7db-4462-a5a9-f6b0dda50303/5DJqrVyCMi.lottie","background","transparent","speed","1","loop","","autoplay","",1,"img"],[1,"auth-right"],[1,"content"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Skin Scan AI"),R(),A(4,"div",2)(5,"div")(6,"p"),k(7,"Your AI-powered tool to detect skin cancer early and accurately."),R(),A(8,"ul")(9,"li"),k(10,"\u2714 Upload dermatoscopic images securely"),R(),A(11,"li"),k(12,"\u2714 Get instant predictions with confidence score"),R(),A(13,"li"),k(14,"\u2714 Learn about early skin cancer signs"),R()()(),X(15,"dotlottie-player",3),R()(),A(16,"div",4)(17,"div",5),X(18,"router-outlet"),R()()())},dependencies:[vr],styles:[".auth-wrapper[_ngcontent-%COMP%]{display:flex;height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.auth-left[_ngcontent-%COMP%]{width:50%;background-color:#f7e8d2;color:#5c0909;padding:60px;display:flex;flex-direction:column;justify-content:center}.auth-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:20px}.auth-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:30px;line-height:1.5}.auth-left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.auth-left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1rem}.auth-right[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]{display:flex}.img[_ngcontent-%COMP%]{margin-top:-12%;height:25rem;width:25rem}.content[_ngcontent-%COMP%]{width:80%;padding:auto;display:flex;justify-content:center}@media (max-width: 480px){.auth-wrapper[_ngcontent-%COMP%]{width:100vw;flex-direction:column;align-items:center}.info[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.img[_ngcontent-%COMP%]{height:20rem;width:20rem;margin-top:10%}.auth-left[_ngcontent-%COMP%]{width:100%}.auth-right[_ngcontent-%COMP%]{width:100%;padding:20px 0}.content[_ngcontent-%COMP%]{padding:10px 0}}@media (min-width: 481px) and (max-width:1024px){.auth-wrapper[_ngcontent-%COMP%]{flex-direction:column}.auth-left[_ngcontent-%COMP%]{width:100%}.auth-right[_ngcontent-%COMP%]{width:100%;padding:20px 0}.content[_ngcontent-%COMP%]{padding:20px 0}}"]})};var Of=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-about"]],decls:43,vars:0,consts:[[1,"container"],[1,"welcome"],["id","welcome-img","src","https://lottie.host/3dedc5fb-f0a0-4201-a72c-56f8a422b69c/4Q0rqf8D3u.lottie","background","transparent","speed","1","loop","","autoplay",""],[1,"health-screening"],[1,"info"],[1,"image"],["id","health","src","https://lottie.host/673acb3f-03d5-4455-9b6e-0138c7b6d020/48Kax6wRb4.lottie","background","transparent","speed","1","loop","","autoplay",""],[1,"work"],["id","healthcare","src","https://lottie.host/1e6191a5-e7db-4462-a5a9-f6b0dda50303/5DJqrVyCMi.lottie","background","transparent","speed","1","loop","","autoplay","",2,"width","300px","height","300px"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Welcome To Our Skin Cancer Detection Web-App"),R(),X(4,"dotlottie-player",2),R(),A(5,"div",3)(6,"div",4)(7,"p"),k(8," Skin cancer, particularly melanoma, poses significant health risks when not identified promptly. Early detection is crucial as melanoma alone contributes to a substantial portion of skin cancer-related fatalities. Our AI-powered solution assists medical professionals by analyzing skin images, potentially streamlining the diagnostic process and reducing manual screening efforts. "),R(),X(9,"br"),A(10,"p"),k(11," The system is trained to identify various skin conditions including: "),R(),X(12,"br"),A(13,"ul")(14,"li"),k(15,"Actinic keratosis (solar keratosis)"),R(),A(16,"li"),k(17,"Basal cell carcinoma (BCC)"),R(),A(18,"li"),k(19,"Dermatofibroma (benign fibrous histiocytoma)"),R(),A(20,"li"),k(21,"Malignant melanoma"),R(),A(22,"li"),k(23,"Melanocytic nevus (mole)"),R(),A(24,"li"),k(25,"Pigmented actinic keratosis"),R(),A(26,"li"),k(27,"Seborrheic keratosis (senile wart)"),R(),A(28,"li"),k(29,"Squamous cell carcinoma (SCC)"),R(),A(30,"li"),k(31,"Vascular skin lesions"),R()()(),A(32,"div",5),X(33,"dotlottie-player",6),R()(),A(34,"div",7)(35,"div",4)(36,"h1"),k(37,"How it works?"),R(),X(38,"br"),A(39,"p"),k(40," Using Model we have trained, our system uses it and analyzes skin images to identify potential abnormalities.This is not a accurate result but will give you a slight idea. "),R()(),A(41,"div",5),X(42,"dotlottie-player",8),R()()())},styles:[".container[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px}.col[_ngcontent-%COMP%]{flex:1;padding:10px}p[_ngcontent-%COMP%]{line-height:1.5rem}.welcome[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:min-content;border-bottom:1px solid #30273033}#welcome-img[_ngcontent-%COMP%]{height:500px;width:500px;margin-top:-5%}.health-screening[_ngcontent-%COMP%]{padding:2em 0 2em 5em;display:flex;justify-content:center;border-bottom:1px solid #30273033}.health-screening[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:2em;line-height:2.5em}#health[_ngcontent-%COMP%]{margin-top:-10%;margin-bottom:-15%;margin-left:-20%;height:450px;width:450px}.info[_ngcontent-%COMP%]{padding:20px;width:55%}.image[_ngcontent-%COMP%]{width:45%;padding-left:5rem;height:fit-content}.work[_ngcontent-%COMP%]{display:flex;width:100%;padding:2em 4em}@media (max-width: 480px){.container[_ngcontent-%COMP%]{width:100%;margin-top:10%;overflow:hidden}.welcome[_ngcontent-%COMP%]{width:inherit;flex-direction:column}#welcome-img[_ngcontent-%COMP%]{width:22rem;height:22rem;margin-top:0%}.health-screening[_ngcontent-%COMP%]{padding:1em;flex-direction:column}.info[_ngcontent-%COMP%]{width:100%;padding:5px}#health[_ngcontent-%COMP%]{margin-left:-7rem;width:400px;height:400px}.work[_ngcontent-%COMP%]{flex-direction:column;padding:1em}#healthcare[_ngcontent-%COMP%]{margin-left:-4rem}}"]})};var MN={production:!0,apiUrl:"http://localhost:5000"};function Zz(n,e){if(n&1&&(A(0,"div",16),X(1,"div",17),R()),n&2){let t=Ft(2);K(),ry("width",t.uploadProgress,"%")}}function Jz(n,e){if(n&1){let t=Hi();A(0,"div",11)(1,"div"),Dm(),A(2,"svg",12),X(3,"path",13),R(),Cm(),A(4,"span"),k(5),R()(),Fe(6,Zz,2,2,"div",14),A(7,"button",15),Le("click",function(){ot(t);let i=Ft();return st(i.reset())}),k(8,"\xD7"),R()()}if(n&2){let t=Ft();K(5),us(t.fileName),K(),me("ngIf",t.uploadProgress>0&&t.uploadProgress<100)}}function Xz(n,e){n&1&&(A(0,"div",18),k(1," Please upload image "),R())}function eq(n,e){n&1&&(A(0,"div",18),k(1," Internal Server Error...! Please try again later. "),R())}function tq(n,e){if(n&1&&(A(0,"div",19)(1,"h2"),k(2,"Results"),R(),A(3,"div",20),X(4,"img",21),A(5,"div")(6,"span")(7,"h5")(8,"strong"),k(9,"Prediction:"),R()(),A(10,"h2"),k(11),R()(),A(12,"span")(13,"h5")(14,"strong"),k(15,"Confidence:"),R()(),A(16,"h2"),k(17),R()()()()()),n&2){let t=Ft();K(4),me("src",t.imageURL,jm),K(7),us(t.prediction.class),K(6),ls("",t.prediction.confidence,"%")}}function nq(n,e){n&1&&(A(0,"div",18),k(1," \u26A0\uFE0F This is not a medical diagnosis. Please consult a doctor for a professional diagnosis. "),R())}var Ff=class n{constructor(e){this.http=e}selectedFile=null;imageURL=null;uploadProgress=0;fileName="";prediction=null;error=!1;serverError=!1;onFileSelected(e){if(this.error=!1,this.selectedFile=e.target.files[0],this.selectedFile){this.fileName=this.selectedFile.name;let t=new FileReader;t.onload=()=>this.imageURL=t.result,t.readAsDataURL(this.selectedFile)}}onDragOver(e){e.preventDefault()}onFileDrop(e){if(e.preventDefault(),e.dataTransfer?.files.length){this.selectedFile=e.dataTransfer.files[0],this.fileName=this.selectedFile.name;let t=new FileReader;t.onload=()=>this.imageURL=t.result,t.readAsDataURL(this.selectedFile)}}onPredict(){if(!this.selectedFile){this.error=!0,console.log(this.error);return}this.error=!1,console.log(this.error);let e=new FormData;e.append("image",this.selectedFile),this.http.post(`${MN.apiUrl}/predict`,e,{}).subscribe(t=>{console.log(t),this.prediction={class:t.class,confidence:t.confidence}},t=>{this.serverError=!0})}reset(){this.selectedFile=null,this.imageURL=null,this.prediction=null,this.fileName="",this.uploadProgress=0,this.error=!1,this.serverError=!1}static \u0275fac=function(t){return new(t||n)(J(xd))};static \u0275cmp=We({type:n,selectors:[["app-demo"]],decls:23,vars:5,consts:[["fileInput",""],[1,"container"],[1,"upload-box",3,"drop","dragover"],[1,"upload-info"],["xmlns","http://www.w3.org/2000/svg","height","32","width","40","viewBox","0 0 640 512"],["fill","#e9a84e","d","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39L296 392c0 13.3 10.7 24 24 24s24-10.7 24-24l0-134.1 39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"],["type","file","hidden","",3,"change"],[1,"btn",3,"click"],["class","file-info",4,"ngIf"],["class","disclaimer",4,"ngIf"],["class","results",4,"ngIf"],[1,"file-info"],["xmlns","http://www.w3.org/2000/svg","height","32","width","24","viewBox","0 0 384 512"],["fill","#e9a84e","d","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"],["class","progress-bar",4,"ngIf"],[1,"close-btn",3,"click"],[1,"progress-bar"],[1,"progress-inner"],[1,"disclaimer"],[1,"results"],[1,"card"],["alt","preview",1,"preview-img",3,"src"]],template:function(t,r){if(t&1){let i=Hi();A(0,"div",1)(1,"h1"),k(2,"Skin-Cancer-Prediction"),R(),A(3,"div",2),Le("drop",function(s){return ot(i),st(r.onFileDrop(s))})("dragover",function(s){return ot(i),st(r.onDragOver(s))}),A(4,"div",3),Dm(),A(5,"svg",4),X(6,"path",5),R(),Cm(),A(7,"span")(8,"h3"),k(9,"Drag and drop file here"),R(),A(10,"h5"),k(11,"Limit 50MB per file \u2022 PNG, JPG, JPEG"),R()()(),A(12,"input",6,0),Le("change",function(s){return ot(i),st(r.onFileSelected(s))}),R(),A(14,"button",7),Le("click",function(){ot(i);let s=et(13);return st(s.click())}),k(15,"Browse files"),R()(),Fe(16,Jz,9,2,"div",8),A(17,"button",7),Le("click",function(){return ot(i),st(r.onPredict())}),k(18," Predict "),R(),Fe(19,Xz,2,0,"div",9)(20,eq,2,0,"div",9)(21,tq,18,3,"div",10)(22,nq,2,0,"div",9),R()}t&2&&(K(16),me("ngIf",r.fileName),K(3),me("ngIf",r.error),K(),me("ngIf",r.serverError),K(),me("ngIf",r.prediction),K(),me("ngIf",r.prediction))},dependencies:[Zr,zi,Ty],styles:[".container[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;gap:.7rem;margin:auto;padding:20px;font-family:Arial,sans-serif}h5[_ngcontent-%COMP%]{font-weight:100}.upload-box[_ngcontent-%COMP%]{background:#fff4e9;padding:10px 15px;border-radius:10px;position:relative;display:flex;justify-content:space-between}.upload-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:1rem;align-items:center}.upload-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.progress[_ngcontent-%COMP%]{height:5px;background:red;margin-top:10px;transition:width .3s ease}.btn[_ngcontent-%COMP%]{width:fit-content;padding:10px 20px;background:#fff;border:1px solid #ff6680;color:#ff6680;border-radius:5px;cursor:pointer;margin-top:10px}.file-info[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center;gap:10px}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px;cursor:pointer;color:red}.results[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]{display:flex;background:#fff;padding:15px;border-radius:10px;align-items:center;gap:20px}.card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.preview-img[_ngcontent-%COMP%]{height:120px;width:120px;border-radius:5px;object-fit:cover}.disclaimer[_ngcontent-%COMP%]{margin-top:10px;background:#fff4e9;padding:10px;border-radius:5px;color:#926c05}.file-info[_ngcontent-%COMP%]{margin-top:15px;padding:0 20px;font-size:16px;display:flex;justify-content:space-between;align-items:center;gap:10px}.file-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#ffe3e3;border-radius:2px;overflow:hidden;margin-top:4px}.progress-inner[_ngcontent-%COMP%]{height:100%;background:red;transition:width .4s ease}.close-btn[_ngcontent-%COMP%]{border:none;background:transparent;font-size:18px;cursor:pointer;color:#777}@media (max-width: 480px){.container[_ngcontent-%COMP%]{width:100%;margin-top:2em;padding:.5em}.upload-box[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (min-width: 481px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{width:100%;margin-top:2em;padding:.5em}.upload-box[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};var Lf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-article"]],decls:97,vars:0,consts:[[1,"article"],[1,"image"],["src","https://lottie.host/6720c90b-84d5-4ec0-a401-d7d8b566b98f/vFwjAwruUb.lottie","background","transparent","speed","1","loop","","autoplay","",2,"width","300px","height","300px"],[1,"box"],[1,"info"],["src","/assets/disease/Actinic_Keratosis.jpg","alt",""],["src","/assets/disease/basal-cell-carcinoma.jpg","alt",""],["src","/assets/disease/Dermatofibroma.jpg","alt",""],["src","/assets/disease/Melanoma.jpg","alt",""]],template:function(t,r){t&1&&(A(0,"div",0)(1,"h1"),k(2,"Learn More"),R(),A(3,"div",1),X(4,"dotlottie-player",2),R(),A(5,"h1"),k(6," Read articles about some common skin diseases that are usually found in people. "),R(),A(7,"div",3)(8,"div",4)(9,"h2"),k(10,"Actinic keratosis"),R(),X(11,"br"),A(12,"p"),k(13," Actinic keratoses (also called solar keratoses) are dry scaly patches of skin that have been damaged by the sun. The patches are not usually serious. But there's a small chance they could become skin cancer, so it's important to avoid further damage to your skin. Treatments for actinic keratoses include: "),R(),X(14,"br"),A(15,"ul")(16,"li"),k(17,"prescription creams and gels"),R(),A(18,"li"),k(19," freezing the patches (cryotherapy), this makes the patches turn into blisters and fall off after a few weeks "),R(),A(20,"li"),k(21," surgery to cut out or scrape away the patches - you will be given a local anaesthetic first, so it does not hurt "),R(),A(22,"li"),k(23," photodynamic therapy (PDT), where special cream is applied to the patches and a light is shone onto them to kill abnormal skin cells "),R()()(),X(24,"img",5),R(),A(25,"div",3),X(26,"img",6),A(27,"div",4)(28,"h2"),k(29,"Basal cell carcinoma"),R(),X(30,"br"),A(31,"p"),k(32," Basal cell carcinoma is a type of skin cancer. Basal cell carcinoma begins in the basal cells \u2014 a type of cell within the skin that produces new skin cells as old ones die off. Basal cell carcinoma often appears as a slightly transparent bump on the skin, though it can take other forms. Basal cell carcinoma occurs most often on areas of the skin that are exposed to the sun, such as your head and neck. Most basal cell carcinomas are thought to be caused by long-term exposure to ultraviolet (UV) radiation from sunlight. Avoiding the sun and using sunscreen may help protect against basal cell carcinoma. Basal cell carcinoma appears as a change in the skin, such as a growth or a sore that won't heal. These changes in the skin (lesions) usually have one of the following characteristics: "),R(),X(33,"br"),A(34,"ul")(35,"li"),k(36," A shiny, skin-colored bump that's translucent, meaning you can see a bit through the surface. The bump can look pearly white or pink on white skin. On brown and Black skin, the bump often looks brown or glossy black. Tiny blood vessels might be visible, though they may be difficult to see on brown and Black skin. The bump may bleed and scab over. "),R(),A(37,"li"),k(38," A brown, black or blue lesion \u2014 or a lesion with dark spots \u2014 with a slightly raised, translucent border. "),R(),A(39,"li"),k(40," A flat, scaly patch with a raised edge. Over time, these patches can grow quite large. "),R(),A(41,"li"),k(42," A white, waxy, scar-like lesion without a clearly defined border. To reduce your risk of basal cell carcinoma you can: "),R(),A(43,"li"),k(44,"Avoid the sun during the middle of the day"),R(),A(45,"li"),k(46,"Wear sunscreen year-round"),R(),A(47,"li"),k(48,"Wear protective clothing"),R(),A(49,"li"),k(50,"Avoid tanning beds"),R(),A(51,"li"),k(52,"Check your skin regularly and report changes to your doctor"),R()()()(),A(53,"div",3)(54,"div",4)(55,"h2"),k(56,"Dermatofibroma"),R(),X(57,"br"),A(58,"p"),k(59," Dermatofibromas are harmless growths within the skin that usually have a small diameter. They can vary in color but are typically pink to light brown in light skin and dark brown or black in dark skin. They may appear more pink or darker if a person accidentally irritates them \u2014 for example, when shaving. As they are dense and firm to the touch, many people say that they feel like a small stone underneath or raised above the skin. Most dermatofibromas are painless, but some people experience itching, irritation, or tenderness at the site of the growth. Some doctors or medical researchers may referTrusted Source to dermatofibromas as benign fibrous histiocytomas. Key markers of a dermatofibroma are: "),R(),X(60,"br"),A(61,"ul")(62,"li"),k(63,"Appearance: A dermatofibroma presents as a round bump that is mostly under the skin."),R(),A(64,"li"),k(65," Size: The normal range is about 0.5-1.5 centimeters (cm), with most lesions being 0.7-1.0 cm in diameter. The size will usually remain stable. "),R(),A(66,"li"),k(67," Color: The growths vary in color among individuals but will generally be pink, red, gray, brown, or black. "),R(),A(68,"li"),k(69," Location: Dermatofibromas are most common on the legs, but they sometimes appear on the arms, trunk, and, less commonly, elsewhere on the body. "),R(),A(70,"li"),k(71,"Additional symptoms: Although they are usually harmless and painless, these growths may occasionally be itchy, tender, painful, or inflamed."),R()()(),X(72,"img",7),R(),A(73,"div",3),X(74,"img",8),A(75,"div",4)(76,"h2"),k(77,"Melanoma"),R(),X(78,"br"),A(79,"p"),k(80," Melanoma, the most serious type of skin cancer, develops in the cells (melanocytes) that produce melanin \u2014 the pigment that gives your skin its color. Melanoma can also form in your eyes and, rarely, inside your body, such as in your nose or throat. The exact cause of all melanomas isn't clear, but exposure to ultraviolet (UV) radiation from sunlight or tanning lamps and beds increases your risk of developing melanoma. Limiting your exposure to UV radiation can help reduce your risk of melanoma. The risk of melanoma seems to be increasing in people under 40, especially women. Knowing the warning signs of skin cancer can help ensure that cancerous changes are detected and treated before the cancer has spread. Melanoma can be treated successfully if it is detected early. The first melanoma signs and symptoms often are: "),R(),X(81,"br"),A(82,"ul")(83,"li"),k(84," A change in an existing mole "),R(),A(85,"li"),k(86," The development of a new pigmented or unusual-looking growth on your skin "),R(),A(87,"p"),k(88," Melanoma doesn't always begin as a mole. It can also occur on otherwise normal-appearing skin. Hidden melanomas include: "),R(),A(89,"li"),k(90," Melanoma under a nail "),R(),A(91,"li"),k(92,"Melanoma in the mouth, digestive tract, urinary tract or vagina"),R(),A(93,"li"),k(94,"Melanoma in the eye"),R(),A(95,"p"),k(96,"Make an appointment with your doctor if you notice any skin changes that seem unusual."),R()()()()())},styles:[".article[_ngcontent-%COMP%]{padding-top:1.5em}h1[_ngcontent-%COMP%]{font-weight:bolder}.image[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.box[_ngcontent-%COMP%]{padding:1em;border:1px solid #30273033;border-radius:.5rem;display:flex;margin:1em 0;gap:1em}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:25%;height:80%;object-fit:cover}.info[_ngcontent-%COMP%]{width:75%}.info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:1em;line-height:1.5em}@media (max-width: 480px){.box[_ngcontent-%COMP%]{flex-direction:column}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{width:100%}}"]})};var VN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(J(qr),J(en))};static \u0275dir=Oe({type:n})}return n})(),jN=(()=>{class n extends VN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275dir=Oe({type:n,features:[Ht]})}return n})(),UE=new j("");var rq={provide:UE,useExisting:un(()=>aa),multi:!0};function iq(){let n=tn()?tn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var oq=new j(""),aa=(()=>{class n extends VN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!iq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(J(qr),J(en),J(oq,8))};static \u0275dir=Oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mr([rq]),Ht]})}return n})();function UN(n){return n==null||BN(n)===0}function BN(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ca=new j(""),$N=new j("");function sq(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function aq(n){return UN(n.value)?{required:!0}:null}function cq(n){return e=>{let t=e.value?.length??BN(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function uq(n){if(!n)return VE;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(UN(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function VE(n){return null}function HN(n){return n!=null}function zN(n){return $i(n)?Ce(n):n}function qN(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function GN(n,e){return e.map(t=>t(n))}function lq(n){return!n.validate}function WN(n){return n.map(e=>lq(e)?e:t=>e.validate(t))}function dq(n){if(!n)return null;let e=n.filter(HN);return e.length==0?null:function(t){return qN(GN(t,e))}}function BE(n){return n!=null?dq(WN(n)):null}function hq(n){if(!n)return null;let e=n.filter(HN);return e.length==0?null:function(t){let r=GN(t,e).map(zN);return rg(r).pipe(ae(qN))}}function $E(n){return n!=null?hq(WN(n)):null}function NN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fq(n){return n._rawValidators}function pq(n){return n._rawAsyncValidators}function jE(n){return n?Array.isArray(n)?n:[n]:[]}function jf(n,e){return Array.isArray(n)?n.includes(e):n===e}function xN(n,e){let t=jE(e);return jE(n).forEach(i=>{jf(t,i)||t.push(i)}),t}function PN(n,e){return jE(e).filter(t=>!jf(n,t))}var Uf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$E(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},oa=class extends Uf{name;get formDirective(){return null}get path(){return null}},Du=class extends Uf{_parent=null;name=null;valueAccessor=null},Bf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Dte=de(L({},gq),{"[class.ng-submitted]":"isSubmitted"}),qf=(()=>{class n extends Bf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(Du,2))};static \u0275dir=Oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Wr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ht]})}return n})(),Gf=(()=>{class n extends Bf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(oa,10))};static \u0275dir=Oe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Wr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ht]})}return n})();var wu="VALID",Vf="INVALID",ra="PENDING",Eu="DISABLED",sa=class{},$f=class extends sa{value;source;constructor(e,t){super(),this.value=e,this.source=t}},bu=class extends sa{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Tu=class extends sa{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ia=class extends sa{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function KN(n){return(Wf(n)?n.validators:n)||null}function mq(n){return Array.isArray(n)?BE(n):n||null}function QN(n,e){return(Wf(e)?e.asyncValidators:n)||null}function yq(n){return Array.isArray(n)?$E(n):n||null}function Wf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function vq(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function _q(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Hf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fn(this.statusReactive)}set status(e){Fn(()=>this.statusReactive.set(e))}_status=ds(()=>this.statusReactive());statusReactive=ss(void 0);get valid(){return this.status===wu}get invalid(){return this.status===Vf}get pending(){return this.status==ra}get disabled(){return this.status===Eu}get enabled(){return this.status!==Eu}errors;get pristine(){return Fn(this.pristineReactive)}set pristine(e){Fn(()=>this.pristineReactive.set(e))}_pristine=ds(()=>this.pristineReactive());pristineReactive=ss(!0);get dirty(){return!this.pristine}get touched(){return Fn(this.touchedReactive)}set touched(e){Fn(()=>this.touchedReactive.set(e))}_touched=ds(()=>this.touchedReactive());touchedReactive=ss(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PN(e,this._rawAsyncValidators))}hasValidator(e){return jf(this._rawValidators,e)}hasAsyncValidator(e){return jf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Tu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Tu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new bu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new bu(!0,r))}markAsPending(e={}){this.status=ra;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ia(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Eu,this.errors=null,this._forEachChild(i=>{i.disable(de(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $f(this.value,r)),this._events.next(new ia(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wu,this._forEachChild(r=>{r.enable(de(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wu||this.status===ra)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $f(this.value,t)),this._events.next(new ia(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eu:wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ra,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=zN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ia(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Eu:this.errors?Vf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ra)?ra:this._anyControlsHaveStatus(Vf)?Vf:wu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new bu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Tu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=mq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yq(this._rawAsyncValidators)}},zf=class extends Hf{constructor(e,t,r){super(KN(t),QN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_q(this,!0,e),Object.keys(e).forEach(r=>{vq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var HE=new j("",{providedIn:"root",factory:()=>zE}),zE="always";function wq(n,e){return[...e.path,n]}function YN(n,e,t=zE){ZN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Iq(n,e),Tq(n,e),bq(n,e),Eq(n,e)}function kN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Eq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ZN(n,e){let t=fq(n);e.validator!==null?n.setValidators(NN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=pq(n);e.asyncValidator!==null?n.setAsyncValidators(NN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();kN(e._rawValidators,i),kN(e._rawAsyncValidators,i)}function Iq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&JN(n,e)})}function bq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&JN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function JN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Tq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Dq(n,e){n==null,ZN(n,e)}function Cq(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Sq(n){return Object.getPrototypeOf(n.constructor)===jN}function Aq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Rq(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===aa?t=o:Sq(o)?r=o:i=o}),i||r||t||null}var Mq={provide:oa,useExisting:un(()=>Cu)},Iu=Promise.resolve(),Cu=(()=>{class n extends oa{callSetDisabledState;get submitted(){return Fn(this.submittedReactive)}_submitted=ds(()=>this.submittedReactive());submittedReactive=ss(!1);_directives=new Set;form;ngSubmit=new qe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new zf({},BE(t),$E(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Iu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),YN(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Iu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Iu.then(()=>{let r=this._findContainer(t.path),i=new zf({});Dq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Iu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Iu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Aq(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(J(ca,10),J($N,10),J(HE,8))};static \u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mr([Mq]),Ht]})}return n})();function ON(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Nq=class extends Hf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(KN(t),QN(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ON(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ON(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xq={provide:Du,useExisting:un(()=>Su)},LN=Promise.resolve(),Su=(()=>{class n extends Du{_changeDetectorRef;callSetDisabledState;control=new Nq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new qe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Rq(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Cq(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){YN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){LN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Qr(r);LN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?wq(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(J(oa,9),J(ca,10),J($N,10),J(UE,10),J(Kr,8),J(HE,8))};static \u0275dir=Oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mr([xq]),Ht,pr]})}return n})();var Kf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Pq={provide:UE,useExisting:un(()=>qE),multi:!0},qE=(()=>{class n extends jN{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[mr([Pq]),Ht]})}return n})();function kq(n){return typeof n=="number"?n:parseInt(n,10)}function Oq(n){return typeof n=="number"?n:parseFloat(n)}var Qf=(()=>{class n{_validator=VE;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):VE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Oe({type:n,features:[pr]})}return n})();var Fq={provide:ca,useExisting:un(()=>GE),multi:!0},GE=(()=>{class n extends Qf{min;inputName="min";normalizeInput=t=>Oq(t);createValidator=t=>sq(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[mr([Fq]),Ht]})}return n})(),Lq={provide:ca,useExisting:un(()=>Au),multi:!0};var Au=(()=>{class n extends Qf{required;inputName="required";normalizeInput=Qr;createValidator=t=>aq;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[mr([Lq]),Ht]})}return n})();var Vq={provide:ca,useExisting:un(()=>Ru),multi:!0},Ru=(()=>{class n extends Qf{minlength;inputName="minlength";normalizeInput=t=>kq(t);createValidator=t=>cq(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[mr([Vq]),Ht]})}return n})();var jq={provide:ca,useExisting:un(()=>WE),multi:!0},WE=(()=>{class n extends Qf{pattern;inputName="pattern";normalizeInput=t=>t;createValidator=t=>uq(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=xn(n)))(i||n)}})();static \u0275dir=Oe({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[mr([jq]),Ht]})}return n})();var Uq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fn({type:n});static \u0275inj=ln({})}return n})();var Yf=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:HE,useValue:t.callSetDisabledState??zE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fn({type:n});static \u0275inj=ln({imports:[Uq]})}return n})();function Bq(n,e){n&1&&(A(0,"span"),k(1,"Email is required."),R())}function $q(n,e){n&1&&(A(0,"span"),k(1,"Enter a valid email."),R())}function Hq(n,e){if(n&1&&(A(0,"span",14),Fe(1,Bq,2,0,"span",15)(2,$q,2,0,"span",15),R()),n&2){Ft();let t=et(8);K(),me("ngIf",t.errors==null?null:t.errors.required),K(),me("ngIf",t.errors==null?null:t.errors.email)}}function zq(n,e){n&1&&(A(0,"span"),k(1,"Password is required."),R())}function qq(n,e){n&1&&(A(0,"span"),k(1," Min 6 characters required. "),R())}function Gq(n,e){if(n&1&&(A(0,"span",14),Fe(1,zq,2,0,"span",15)(2,qq,2,0,"span",15),R()),n&2){Ft();let t=et(14);K(),me("ngIf",t.errors==null?null:t.errors.required),K(),me("ngIf",t.errors==null?null:t.errors.minlength)}}function Wq(n,e){n&1&&(A(0,"p",16),k(1,"Invalid Credentials or Password"),R())}var Zf=class n{constructor(e,t,r){this.auth=e;this.router=t;this.loginService=r}email="";password="";error="";onLogin(){this.auth.login(this.email,this.password).then(()=>{alert("Login successfully"),this.loginService.login("dummy-token"),this.router.navigate(["/about"])}).catch(e=>this.error=e.message)}static \u0275fac=function(t){return new(t||n)(J(vi),J(He),J(yi))};static \u0275cmp=We({type:n,selectors:[["app-login"]],decls:23,vars:6,consts:[["loginForm","ngForm"],["emailRef","ngModel"],["passRef","ngModel"],[1,"container"],[3,"ngSubmit"],["for","email"],["name","email","type","email","placeholder","Email","required","",1,"input",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["name","password","type","password","placeholder","Password","minlength","6","required","",1,"input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","w-full",3,"disabled"],["class","error center",4,"ngIf"],[1,"switch-link"],["routerLink","/signup"],[1,"error"],[4,"ngIf"],[1,"error","center"]],template:function(t,r){if(t&1){let i=Hi();A(0,"div",3)(1,"form",4,0),Le("ngSubmit",function(){return ot(i),st(r.onLogin())}),A(3,"h2"),k(4,"Login to Your Account"),R(),A(5,"label",5),k(6,"Email:"),R(),A(7,"input",6,1),On("ngModelChange",function(s){return ot(i),gr(r.email,s)||(r.email=s),st(s)}),R(),Fe(9,Hq,3,2,"span",7),X(10,"br"),A(11,"label",8),k(12,"Password:"),R(),A(13,"input",9,2),On("ngModelChange",function(s){return ot(i),gr(r.password,s)||(r.password=s),st(s)}),R(),Fe(15,Gq,3,2,"span",7),A(16,"button",10),k(17," Login "),R(),Fe(18,Wq,2,0,"p",11),A(19,"p",12),k(20," Don't have an account? "),A(21,"a",13),k(22,"Sign up here"),R()()()()}if(t&2){let i=et(2),o=et(8),s=et(14);K(7),kn("ngModel",r.email),K(2),me("ngIf",o.invalid&&(o.touched||o.dirty)),K(4),kn("ngModel",r.password),K(2),me("ngIf",s.invalid&&(s.touched||s.dirty)),K(),me("disabled",!i.valid),K(2),me("ngIf",r.error)}},dependencies:[Zr,zi,Yf,Kf,aa,qf,Gf,Au,Ru,Su,Cu,Nc,$n],styles:["h2[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]{width:400px;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 10px #0000001a}label[_ngcontent-%COMP%]{padding-left:5px;margin-top:5px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px;box-sizing:border-box;margin-top:5px;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{background-color:#fff}input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none;box-shadow:0 0 5px #00800080}button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;margin-top:10px;margin-bottom:10px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}input[_ngcontent-%COMP%]::placeholder{color:#888}.center[_ngcontent-%COMP%]{text-align:center}.error[_ngcontent-%COMP%]{min-height:5px;color:red;font-size:13px;margin-bottom:2px}.switch-link[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:14px}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){form[_ngcontent-%COMP%]{width:100%;padding:15px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:14px}}"]})};function Kq(n,e){n&1&&(A(0,"span",22),k(1," Full Name is required. "),R())}function Qq(n,e){n&1&&(A(0,"span"),k(1,"Email is required."),R())}function Yq(n,e){n&1&&(A(0,"span"),k(1,"Enter a valid email."),R())}function Zq(n,e){if(n&1&&(A(0,"span",22),Fe(1,Qq,2,0,"span",23)(2,Yq,2,0,"span",23),R()),n&2){Ft();let t=et(14);K(),me("ngIf",t.errors==null?null:t.errors.required),K(),me("ngIf",t.errors==null?null:t.errors.email)}}function Jq(n,e){n&1&&(A(0,"span"),k(1,"Password is required."),R())}function Xq(n,e){n&1&&(A(0,"span"),k(1,"Min 6 characters required."),R())}function e3(n,e){if(n&1&&(A(0,"span",22),Fe(1,Jq,2,0,"span",23)(2,Xq,2,0,"span",23),R()),n&2){Ft();let t=et(20);K(),me("ngIf",t.errors==null?null:t.errors.required),K(),me("ngIf",t.errors==null?null:t.errors.minlength)}}function t3(n,e){n&1&&(A(0,"span"),k(1,"Phone number is required."),R())}function n3(n,e){n&1&&(A(0,"span"),k(1,"Phone number must be 10 digits."),R())}function r3(n,e){if(n&1&&(A(0,"span",22),Fe(1,t3,2,0,"span",23)(2,n3,2,0,"span",23),R()),n&2){Ft();let t=et(26);K(),me("ngIf",t.errors==null?null:t.errors.required),K(),me("ngIf",t.errors==null?null:t.errors.pattern)}}function i3(n,e){n&1&&(A(0,"span"),k(1,"Age is required."),R())}function o3(n,e){n&1&&(A(0,"span"),k(1,"Age must be greater than 0."),R())}function s3(n,e){if(n&1&&(A(0,"span",22),Fe(1,i3,2,0,"span",23)(2,o3,2,0,"span",23),R()),n&2){Ft();let t=et(32);K(),me("ngIf",t.errors==null?null:t.errors.required),K(),me("ngIf",t.errors==null?null:t.errors.min)}}function a3(n,e){if(n&1&&(A(0,"p",24),k(1),R()),n&2){let t=Ft();K(),us(t.error)}}var Jf=class n{constructor(e,t){this.authService=e;this.router=t}name;email;password;phone;age;error;onSignup(){return _(this,null,function*(){try{let e=yield this.authService.signup(this.name,this.email,this.password,this.phone,this.age);console.log("User signed up successfully:",e),this.router.navigate(["/login"])}catch(e){this.error=e.message,console.log("Signup failed:",e)}})}static \u0275fac=function(t){return new(t||n)(J(vi),J(He))};static \u0275cmp=We({type:n,selectors:[["app-signup"]],decls:42,vars:12,consts:[["signupForm","ngForm"],["nameRef","ngModel"],["emailRef","ngModel"],["passRef","ngModel"],["phoneRef","ngModel"],["ageRef","ngModel"],[1,"signup-form",3,"ngSubmit"],["for","name"],["name","name","type","text","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","email"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["for","password"],["name","password","type","password","placeholder","Password","minlength","6","required","",3,"ngModelChange","ngModel"],["for","phone"],["name","phone","type","tel","placeholder","Phone Number","pattern","[0-9]{10}","required","",3,"ngModelChange","ngModel"],["for","age"],["name","age","type","number","placeholder","Age","min","1","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","error center",4,"ngIf"],[1,"switch-link"],["routerLink","/login"],[1,"error"],[4,"ngIf"],[1,"error","center"]],template:function(t,r){if(t&1){let i=Hi();A(0,"div")(1,"form",6,0),Le("ngSubmit",function(){return ot(i),st(r.onSignup())}),A(3,"h2"),k(4,"Create an Account"),R(),A(5,"label",7),k(6,"Name:"),R(),A(7,"input",8,1),On("ngModelChange",function(s){return ot(i),gr(r.name,s)||(r.name=s),st(s)}),R(),Fe(9,Kq,2,0,"span",9),X(10,"br"),A(11,"label",10),k(12,"Email:"),R(),A(13,"input",11,2),On("ngModelChange",function(s){return ot(i),gr(r.email,s)||(r.email=s),st(s)}),R(),Fe(15,Zq,3,2,"span",9),X(16,"br"),A(17,"label",12),k(18,"Password:"),R(),A(19,"input",13,3),On("ngModelChange",function(s){return ot(i),gr(r.password,s)||(r.password=s),st(s)}),R(),Fe(21,e3,3,2,"span",9),X(22,"br"),A(23,"label",14),k(24,"Phone:"),R(),A(25,"input",15,4),On("ngModelChange",function(s){return ot(i),gr(r.phone,s)||(r.phone=s),st(s)}),R(),Fe(27,r3,3,2,"span",9),X(28,"br"),A(29,"label",16),k(30,"Age:"),R(),A(31,"input",17,5),On("ngModelChange",function(s){return ot(i),gr(r.age,s)||(r.age=s),st(s)}),R(),Fe(33,s3,3,2,"span",9),X(34,"br"),A(35,"button",18),k(36,"Sign Up"),R(),Fe(37,a3,2,1,"p",19),A(38,"p",20),k(39," Already have an account? "),A(40,"a",21),k(41,"Login here"),R()()()()}if(t&2){let i=et(2),o=et(8),s=et(14),a=et(20),u=et(26),l=et(32);K(7),kn("ngModel",r.name),K(2),me("ngIf",o.invalid&&(o.touched||o.dirty)),K(4),kn("ngModel",r.email),K(2),me("ngIf",s.invalid&&(s.touched||s.dirty)),K(4),kn("ngModel",r.password),K(2),me("ngIf",a.invalid&&(a.touched||a.dirty)),K(4),kn("ngModel",r.phone),K(2),me("ngIf",u.invalid&&(u.touched||u.dirty)),K(4),kn("ngModel",r.age),K(2),me("ngIf",l.invalid&&(l.touched||l.dirty)),K(2),me("disabled",!i.valid),K(2),me("ngIf",r.error)}},dependencies:[Zr,zi,Yf,Kf,aa,qE,qf,Gf,Au,Ru,WE,GE,Su,Cu,Nc,$n],styles:["h2[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]{width:400px;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 10px #0000001a}label[_ngcontent-%COMP%]{padding-left:5px;margin-top:5px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px;box-sizing:border-box;margin-top:5px}.signup-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.signup-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;font-size:17px;border:none;border-radius:6px;cursor:pointer;margin-top:10px;transition:background-color .3s}.signup-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error[_ngcontent-%COMP%]{min-height:5px;color:red;font-size:13px;margin-bottom:2px}.center[_ngcontent-%COMP%]{text-align:center}.switch-link[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:14px}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){form[_ngcontent-%COMP%]{width:100%;padding:10px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:14px}}"]})};var ex=(n,e)=>{let t=P(yi),r=P(He);return t.isLoggedIn()?!0:r.parseUrl("/login")};var tx=[{path:"",component:Pf,canActivate:[ex],children:[{path:"about",component:Of},{path:"demo",component:Ff},{path:"article",component:Lf},{path:"",redirectTo:"about",pathMatch:"full"}]},{path:"",component:kf,children:[{path:"login",component:Zf},{path:"signup",component:Jf},{path:"",redirectTo:"login",pathMatch:"full"}]},{path:"**",redirectTo:""}];var nx={apiKey:"AIzaSyCJittA63gQ0Yt6hStRNqqC-jLpiMiUsxQ",authDomain:"skin-cancer-d8268.firebaseapp.com",projectId:"skin-cancer-d8268",storageBucket:"skin-cancer-d8268.firebasestorage.app",messagingSenderId:"1060795463527",appId:"1:1060795463527:web:c49f1220ec6e3d53e361c2",measurementId:"G-41ZPVECLTK"};var rx={providers:[Xy(tx),KS(()=>QS(nx)),nR(()=>oR()),DN(()=>SN())]};var Xf=class n{title="Skin Scan";isSidebarOpen=!1;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&X(0,"router-outlet")},dependencies:[vr],encapsulation:2})};vy(Xf,rx).catch(n=>console.error(n));
