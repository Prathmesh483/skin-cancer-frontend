"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[792],{822:()=>{function wl(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){wl(o,r,i,s,a,"next",u)}function a(u){wl(o,r,i,s,a,"throw",u)}s(void 0)})}}function dp(t,e){return Object.is(t,e)}let Rt=null,Tl=!1,kv=1;const on=Symbol("SIGNAL");function ye(t){const e=Rt;return Rt=t,e}const Wa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cl(t){if(Tl)throw new Error("");if(null===Rt)return;Rt.consumerOnSignalRead(t);const e=Rt.nextProducerIndex++;mp(Rt),e<Rt.producerNode.length&&Rt.producerNode[e]!==t&&Al(Rt)&&gp(Rt.producerNode[e],Rt.producerIndexOfThis[e]),Rt.producerNode[e]!==t&&(Rt.producerNode[e]=t,Rt.producerIndexOfThis[e]=Al(Rt)?BM(t,Rt,e):0),Rt.producerLastReadVersion[e]=t.version}function bl(t){if((!Al(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==kv)){if(!t.producerMustRecompute(t)&&!fp(t))return void hp(t);t.producerRecomputeValue(t),hp(t)}}function LM(t){if(void 0===t.liveConsumerNode)return;const e=Tl;Tl=!0;try{for(const n of t.liveConsumerNode)n.dirty||mq(n)}finally{Tl=e}}function UM(){return!1!==Rt?.consumerAllowSignalWrites}function mq(t){t.dirty=!0,LM(t),t.consumerMarkedDirty?.(t)}function hp(t){t.dirty=!1,t.lastCleanEpoch=kv}function Ka(t){return t&&(t.nextProducerIndex=0),ye(t)}function Dl(t,e){if(ye(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Al(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fp(t){mp(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bl(n),r!==n.version))return!0}return!1}function pp(t){if(mp(t),Al(t))for(let e=0;e<t.producerNode.length;e++)gp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function BM(t,e,n){if(jM(t),0===t.liveConsumerNode.length&&$M(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=BM(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function gp(t,e){if(jM(t),1===t.liveConsumerNode.length&&$M(t))for(let r=0;r<t.producerNode.length;r++)gp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];mp(i),i.producerIndexOfThis[r]=e}}function Al(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function jM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $M(t){return void 0!==t.producerNode}const Cs=Symbol("UNSET"),Qa=Symbol("COMPUTING"),Eo=Symbol("ERRORED"),yq={...Wa,value:Cs,dirty:!0,error:null,equal:dp,kind:"computed",producerMustRecompute:t=>t.value===Cs||t.value===Qa,producerRecomputeValue(t){if(t.value===Qa)throw new Error("Detected cycle in computations.");const e=t.value;t.value=Qa;const n=Ka(t);let r,i=!1;try{r=t.computation(),ye(null),i=e!==Cs&&e!==Eo&&r!==Eo&&t.equal(e,r)}catch(o){r=Eo,t.error=o}finally{Dl(t,n)}i?t.value=e:(t.value=r,t.version++)}};let HM=function vq(){throw new Error};function zM(t){HM(t)}function yp(t,e){UM()||zM(t),t.equal(t.value,e)||(t.value=e,function wq(t){t.version++,function gq(){kv++}(),LM(t)}(t))}const Ov={...Wa,equal:dp,value:void 0,kind:"signal"};let Vv;function vp(){return Vv}function wo(t){const e=Vv;return Vv=t,e}const Fv=Symbol("NotFound");function nt(t){return"function"==typeof t}function Lv(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Error;const Uv=Lv(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ip(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(nt(r))try{r()}catch(o){e=o instanceof Uv?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{QM(o)}catch(s){e=e??[],s instanceof Uv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uv(e)}}add(e){var n;if(e&&e!==this)if(this.closed)QM(e);else{if(e instanceof gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ip(n,e)}remove(e){const{_finalizers:n}=this;n&&Ip(n,e),e instanceof gn&&e._removeParent(this)}}gn.EMPTY=(()=>{const t=new gn;return t.closed=!0,t})();const WM=gn.EMPTY;function KM(t){return t instanceof gn||t&&"closed"in t&&nt(t.remove)&&nt(t.add)&&nt(t.unsubscribe)}function QM(t){nt(t)?t():t.unsubscribe()}const bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ep={setTimeout(t,e,...n){const{delegate:r}=Ep;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ep;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function YM(t){Ep.setTimeout(()=>{const{onUnhandledError:e}=bs;if(!e)throw t;e(t)})}function Bv(){}const Sq=jv("C",void 0,void 0);function jv(t,e,n){return{kind:t,value:e,error:n}}let Ds=null;function wp(t){if(bs.useDeprecatedSynchronousErrorHandling){const e=!Ds;if(e&&(Ds={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ds;if(Ds=null,n)throw r}}else t()}class $v extends gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,KM(e)&&e.add(this)):this.destination=Oq}static create(e,n,r){return new zv(e,n,r)}next(e){this.isStopped?Gv(function Mq(t){return jv("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gv(function Rq(t){return jv("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gv(Sq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Nq=Function.prototype.bind;function Hv(t,e){return Nq.call(t,e)}class kq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tp(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tp(r)}else Tp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tp(n)}}}class zv extends $v{constructor(e,n,r){let i;if(super(),nt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hv(e.next,o),error:e.error&&Hv(e.error,o),complete:e.complete&&Hv(e.complete,o)}):i=e}this.destination=new kq(i)}}function Tp(t){bs.useDeprecatedSynchronousErrorHandling?function Pq(t){bs.useDeprecatedSynchronousErrorHandling&&Ds&&(Ds.errorThrown=!0,Ds.error=t)}(t):YM(t)}function Gv(t,e){const{onStoppedNotification:n}=bs;n&&Ep.setTimeout(()=>n(t,e))}const Oq={closed:!0,next:Bv,error:function xq(t){throw t},complete:Bv},qv="function"==typeof Symbol&&Symbol.observable||"@@observable";function As(t){return t}function ZM(t){return 0===t.length?As:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let at=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Lq(t){return t&&t instanceof $v||function Fq(t){return t&&nt(t.next)&&nt(t.error)&&nt(t.complete)}(t)&&KM(t)}(n)?n:new zv(n,r,i);return wp(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=JM(r))((i,o)=>{const s=new zv({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[qv](){return this}pipe(...n){return ZM(n)(this)}toPromise(n){return new(n=JM(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function JM(t){var e;return null!==(e=t??bs.Promise)&&void 0!==e?e:Promise}const Uq=Lv(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let zn=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new XM(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Uq}next(n){wp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){wp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?WM:(this.currentObservers=null,o.push(n),new gn(()=>{this.currentObservers=null,Ip(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new at;return n.source=this,n}}return t.create=(e,n)=>new XM(e,n),t})();class XM extends zn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:WM}}class Ir extends zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function eP(t){return nt(t?.lift)}function sn(t){return e=>{if(eP(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ht(t,e,n,r,i){return new Bq(t,e,n,r,i)}class Bq extends $v{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ke(t,e){return sn((n,r)=>{let i=0;n.subscribe(Ht(r,o=>{r.next(t.call(e,o,i++))}))})}const tP="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class B extends Error{code;constructor(e,n){super(function Mi(t,e){return`${function jq(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const Cp=Symbol("InputSignalNode#UNSET"),nP={...Ov,transformFn:void 0,applyValueToInputSignal(t,e){yp(t,e)}};function rP(t,e){const n=Object.create(nP);function r(){if(Cl(n),n.value===Cp)throw new B(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[on]=n,r}function Pi(t){return{toString:t}.toString()}const Za="__parameters__";function Xa(t,e,n){return Pi(()=>{const r=function Wv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(Za)?u[Za]:Object.defineProperty(u,Za,{value:[]})[Za];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const vt=globalThis;function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function $q(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zt(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(zt).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Kv(t,e){return t?e?`${t} ${e}`:t:e||""}const Hq=Be({__forward_ref__:Be});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return zt(this())},t}function he(t){return bp(t)?t():t}function bp(t){return"function"==typeof t&&t.hasOwnProperty(Hq)&&t.__forward_ref__===Je}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function To(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dp(t){return oP(t,Sp)||oP(t,sP)}function oP(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ap(t){return t&&(t.hasOwnProperty(Qv)||t.hasOwnProperty(Qq))?t[Qv]:null}const Sp=Be({\u0275prov:Be}),Qv=Be({\u0275inj:Be}),sP=Be({ngInjectableDef:Be}),Qq=Be({ngInjectorDef:Be});class q{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jv(t){return t&&!!t.\u0275providers}const eu=Be({\u0275cmp:Be}),Xv=Be({\u0275dir:Be}),eI=Be({\u0275pipe:Be}),uP=Be({\u0275mod:Be}),Ni=Be({\u0275fac:Be}),Sl=Be({__NG_ELEMENT_ID__:Be}),cP=Be({__NG_ENV_ID__:Be});function me(t){return"string"==typeof t?t:null==t?"":String(t)}function lP(t,e){throw new B(-200,t)}function tI(t,e){throw new B(-201,!1)}var Te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Te||{});let nI;function dP(){return nI}function qn(t){const e=nI;return nI=t,e}function hP(t,e,n){const r=Dp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Te.Optional?null:void 0!==e?e:void tI()}const Rs={},rI="__NG_DI_FLAG__";class fP{injector;constructor(e){this.injector=e}retrieve(e,n){return this.injector.get(e,n.optional?Fv:Rs,n)}}const Pp="ngTempTokenPath",eW=/\n/gm,pP="__source";function nW(t,e=Te.Default){if(void 0===vp())throw new B(-203,!1);if(null===vp())return hP(t,void 0,e);{const n=vp();let r;return r=n instanceof fP?n.injector:n,r.get(t,e&Te.Optional?null:void 0,e)}}function oe(t,e=Te.Default){return(dP()||nW)(he(t),e)}function V(t,e=Te.Default){return oe(t,Np(e))}function Np(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function iI(t){const e=[];for(let n=0;n<t.length;n++){const r=he(t[n]);if(Array.isArray(r)){if(0===r.length)throw new B(900,!1);let i,o=Te.Default;for(let s=0;s<r.length;s++){const a=r[s],u=rW(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Rl(t,e){return t[rI]=e,t.prototype[rI]=e,t}function rW(t){return t[rI]}const Wn=Rl(Xa("Optional"),8);function Ms(t,e){return t.hasOwnProperty(Ni)?t[Ni]:null}function tu(t,e){t.forEach(n=>Array.isArray(n)?tu(n,e):e(n))}function mP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sr(t,e,n){let r=Ml(t,e);return r>=0?t[1|r]=n:(r=~r,function yP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sI(t,e){const n=Ml(t,e);if(n>=0)return t[1|n]}function Ml(t,e){return function lW(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Or={},Oe=[],Er=new q(""),vP=new q("",-1),aI=new q("");class Op{get(e,n=Rs){if(n===Rs){const r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return n}}function ar(t,e){const n=t[uP]||null;if(!n&&!0===e)throw new Error(`Type ${zt(t)} does not have '\u0275mod' property.`);return n}function Ce(t){return t[eu]||null}function ur(t){return t[eI]||null}function wr(t){return{\u0275providers:t}}function dW(...t){return{\u0275providers:uI(0,t),\u0275fromNgModule:!0}}function uI(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return tu(e,s=>{const a=s;Vp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&IP(i,o),n}function IP(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];cI(i,o=>{e(o,r)})}}function Vp(t,e,n,r){if(!(t=he(t)))return!1;let i=null,o=Ap(t);const s=!o&&Ce(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Ap(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Vp(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{tu(o.imports,d=>{Vp(d,e,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&IP(c,e)}if(!a){const c=Ms(i)||(()=>new i);e({provide:i,useFactory:c,deps:Oe},i),e({provide:aI,useValue:i,multi:!0},i),e({provide:Er,useValue:()=>oe(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;cI(u,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function cI(t,e){for(let n of t)Jv(n)&&(n=n.\u0275providers),Array.isArray(n)?cI(n,e):e(n)}const hW=Be({provide:String,useValue:Be});function lI(t){return null!==t&&"object"==typeof t&&hW in t}function Ns(t){return"function"==typeof t}const dI=new q(""),Fp={},TP={};let hI;function Lp(){return void 0===hI&&(hI=new Op),hI}class mn{}class ks extends mn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pI(e,s=>this.processProvider(s)),this.records.set(vP,nu(void 0,this)),i.has("environment")&&this.records.set(mn,nu(void 0,this));const o=this.records.get(dI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(aI,Oe,Te.Self))}retrieve(e,n){return this.get(e,n.optional?Fv:Rs,n)}destroy(){Pl(this),this._destroyed=!0;const e=ye(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return Pl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pl(this);const n=wo(this),r=qn(void 0);try{return e()}finally{wo(n),qn(r)}}get(e,n=Rs,r=Te.Default){if(Pl(this),e.hasOwnProperty(cP))return e[cP](this);r=Np(r);const o=wo(this),s=qn(void 0);try{if(!(r&Te.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function yW(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&Dp(e);u=c&&this.injectableDefInScope(c)?nu(fI(e),Fp):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Te.Self?Lp():this.parent).get(e,n=r&Te.Optional&&n===Rs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Pp]=a[Pp]||[]).unshift(zt(e)),o)throw a;return function iW(t,e,n,r){const i=t[Pp];throw e[pP]&&i.unshift(e[pP]),t.message=function oW(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):zt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eW,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Pp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{qn(s),wo(o)}}resolveInjectorInitializers(){const e=ye(null),n=wo(this),r=qn(void 0);try{const o=this.get(Er,Oe,Te.Self);for(const s of o)s()}finally{wo(n),qn(r),ye(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=Ns(e=he(e))?e:he(e&&e.provide);const r=function gW(t){return lI(t)?nu(void 0,t.useValue):nu(CP(t),Fp)}(e);if(!Ns(e)&&!0===e.multi){let i=this.records.get(n);i||(i=nu(void 0,Fp,!0),i.factory=()=>iI(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=ye(null);try{return n.value===TP?lP(zt(e)):n.value===Fp&&(n.value=TP,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _W(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=he(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function fI(t){const e=Dp(t),n=null!==e?e.factory:Ms(t);if(null!==n)return n;if(t instanceof q)throw new B(204,!1);if(t instanceof Function)return function pW(t){if(t.length>0)throw new B(204,!1);const n=function Kq(t){return t&&(t[Sp]||t[sP])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new B(204,!1)}function CP(t,e,n){let r;if(Ns(t)){const i=he(t);return Ms(i)||fI(i)}if(lI(t))r=()=>he(t.useValue);else if(function wP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...iI(t.deps||[]));else if(function EP(t){return!(!t||!t.useExisting)}(t))r=()=>oe(he(t.useExisting));else{const i=he(t&&(t.useClass||t.provide));if(!function mW(t){return!!t.deps}(t))return Ms(i)||fI(i);r=()=>new i(...iI(t.deps))}return r}function Pl(t){if(t.destroyed)throw new B(205,!1)}function nu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pI(t,e){for(const n of t)Array.isArray(n)?pI(n,e):n&&Jv(n)?pI(n.\u0275providers,e):e(n)}function Mn(t,e){let n;t instanceof ks?(Pl(t),n=t):n=new fP(t);const i=wo(n),o=qn(void 0);try{return e()}finally{wo(i),qn(o)}}function bP(){return void 0!==dP()||null!=vp()}function xs(t){if(!bP())throw new B(-203,!1)}function Et(t){return Array.isArray(t)&&"object"==typeof t[1]}function qt(t){return Array.isArray(t)&&!0===t[1]}function _I(t){return!!(4&t.flags)}function Fr(t){return t.componentOffset>-1}function Hp(t){return!(1&~t.flags)}function lr(t){return!!t.template}function xi(t){return!!(512&t[2])}function bo(t){return!(256&~t[2])}class MW{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function kP(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}const Lr=(()=>{const t=()=>xP;return t.ngInherit=!0,t})();function xP(t){return t.type.prototype.ngOnChanges&&(t.setInput=NW),PW}function PW(){const t=VP(this),e=t?.current;if(e){const n=t.previous;if(n===Or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function NW(t,e,n,r,i){const o=this.declaredInputs[r],s=VP(t)||function kW(t,e){return t[OP]=e}(t,{previous:Or,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new MW(c&&c.currentValue,n,u===Or),kP(t,e,i,n)}const OP="__ngSimpleChanges__";function VP(t){return t[OP]||null}function Pe(t){for(;Array.isArray(t);)t=t[0];return t}function cu(t,e){return Pe(e[t])}function Nn(t,e){return Pe(e[t.index])}function Ls(t,e){return t.data[e]}function kn(t,e){const n=e[t];return Et(n)?n:n[0]}function II(t){return!(128&~t[2])}function Tr(t,e){return null==e?null:t[e]}function UP(t){t[17]=0}function EI(t){1024&t[2]||(t[2]|=1024,II(t)&&lu(t))}function xl(t){return!!(9216&t[2]||t[24]?.dirty)}function wI(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),xl(t)&&lu(t)}function lu(t){t[10].changeDetectionScheduler?.notify(0);let e=Oi(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,II(e));)e=Oi(e)}function Gp(t,e){if(bo(t))throw new B(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function Oi(t){const e=t[3];return qt(e)?e[3]:e}function CI(t){return t[7]??=[]}function bI(t){return t.cleanup??=[]}const fe={lFrame:QP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let AI=!1;function SI(){return fe.bindingsEnabled}function x(){return fe.lFrame.lView}function le(){return fe.lFrame.tView}function yn(t){return fe.lFrame.contextLView=t,t[8]}function vn(t){return fe.lFrame.contextLView=null,t}function Ee(){let t=jP();for(;null!==t&&64===t.type;)t=t.parent;return t}function jP(){return fe.lFrame.currentTNode}function Ur(t,e){const n=fe.lFrame;n.currentTNode=t,n.isParent=e}function RI(){return fe.lFrame.isParent}function zP(){return AI}function Wp(t){const e=AI;return AI=t,e}function Cr(){return fe.lFrame.bindingIndex++}function KW(t,e){const n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,PI(e)}function PI(t){fe.lFrame.currentDirectiveIndex=t}function kI(){return fe.lFrame.currentQueryIndex}function Kp(t){fe.lFrame.currentQueryIndex=t}function YW(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function WP(t,e,n){if(n&Te.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Te.Host||(i=YW(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,t=o}const r=fe.lFrame=KP();return r.currentTNode=e,r.lView=t,!0}function xI(t){const e=KP(),n=t[1];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function KP(){const t=fe.lFrame,e=null===t?null:t.child;return null===e?QP(t):e}function QP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function YP(){const t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ZP=YP;function OI(){const t=YP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return fe.lFrame.selectedIndex}function js(t){fe.lFrame.selectedIndex=t}function Ge(){const t=fe.lFrame;return Ls(t.tView,t.selectedIndex)}function VI(){fe.lFrame.currentNamespace="svg"}function FI(){!function XW(){fe.lFrame.currentNamespace=null}()}let XP=!0;function Vl(){return XP}function ii(t){XP=t}function LI(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=d&&(t.destroyHooks??=[]).push(n,d)}}function Qp(t,e,n){eN(t,e,3,n)}function Yp(t,e,n,r){(3&t[2])===n&&eN(t,e,n,r)}function UI(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function eN(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[17]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[17]+=65536),(a<o||-1==o)&&(t6(t,n,e,u),t[17]=(4294901760&t[17])+u+2),u++}function tN(t,e){const n=ye(null);try{e.call(t)}finally{ye(n)}}function t6(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,tN(a,o)):tN(a,o)}class Fl{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}}function nN(t){return 3===t||4===t||6===t}function rN(t){return 64===t.charCodeAt(0)}function hu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||iN(t,n,i,0,-1===n||2===n?e[++r]:null)}}return t}function iN(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(t[o+1]=i));o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}function $I(t){return-1!==t}function Ll(t){return 32767&t}function Ul(t,e){let n=function s6(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let HI=!0;function Zp(t){const e=HI;return HI=t,e}let a6=0;const oi={};function Jp(t,e){const n=aN(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,zI(r.data,t),zI(e,null),zI(r.blueprint,null));const i=Xp(t,e),o=t.injectorIndex;if($I(i)){const s=Ll(i),a=Ul(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function zI(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aN(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=pN(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function GI(t,e,n){!function u6(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sl)&&(r=n[Sl]),null==r&&(r=n[Sl]=a6++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function uN(t,e,n){if(n&Te.Optional||void 0!==t)return t;tI()}function cN(t,e,n,r){if(n&Te.Optional&&void 0===r&&(r=null),!(n&(Te.Self|Te.Host))){const i=t[9],o=qn(void 0);try{return i?i.get(e,r,n&Te.Optional):hP(e,r,n&Te.Optional)}finally{qn(o)}}return uN(r,0,n)}function lN(t,e,n,r=Te.Default,i){if(null!==t){if(2048&e[2]&&!(r&Te.Self)){const s=function f6(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!xi(s);){const a=dN(o,s,n,r|Te.Self,oi);if(a!==oi)return a;let u=o.parent;if(!u){const c=s[20];if(c){const d=c.get(n,oi,r);if(d!==oi)return d}u=pN(s),s=s[14]}o=u}return i}(t,e,n,r,oi);if(s!==oi)return s}const o=dN(t,e,n,r,oi);if(o!==oi)return o}return cN(e,n,r,i)}function dN(t,e,n,r,i){const o=function d6(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sl)?t[Sl]:void 0;return"number"==typeof e?e>=0?255&e:h6:e}(n);if("function"==typeof o){if(!WP(e,t,r))return r&Te.Host?uN(i,0,r):cN(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Te.Optional)return s;tI()}finally{ZP()}}else if("number"==typeof o){let s=null,a=aN(t,e),u=-1,c=r&Te.Host?e[15][5]:null;for((-1===a||r&Te.SkipSelf)&&(u=-1===a?Xp(t,e):e[a+8],-1!==u&&fN(r,!1)?(s=e[1],a=Ll(u),e=Ul(u,e)):a=-1);-1!==a;){const d=e[1];if(hN(o,a,d.data)){const h=l6(a,e,n,s,r,c);if(h!==oi)return h}u=e[a+8],-1!==u&&fN(r,e[1].data[a+8]===c)&&hN(o,a,e)?(s=d,a=Ll(u),e=Ul(u,e)):a=-1}}return i}function l6(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],d=eg(a,s,n,null==r?Fr(a)&&HI:r!=s&&!!(3&a.type),i&Te.Host&&o===a);return null!==d?Bl(e,s,d,a):oi}function eg(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,d=o>>20,f=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<f;g++){const _=s[g];if(g<u&&n===_||g>=u&&_.type===n)return g}if(i){const g=s[u];if(g&&lr(g)&&g.type===n)return u}return null}function Bl(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Fl){const s=i;s.resolving&&lP(function Fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}(o[n]));const a=Zp(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?qn(s.injectImpl):null;WP(t,r,Te.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function e6(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=xP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&qn(c),Zp(a),s.resolving=!1,ZP()}}return i}function hN(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function fN(t,e){return!(t&Te.Self||t&Te.Host&&e)}class wt{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lN(this._tNode,this._lView,e,Np(r),n)}}function h6(){return new wt(Ee(),x())}function Jt(t){return Pi(()=>{const e=t.prototype.constructor,n=e[Ni]||qI(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ni]||qI(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qI(t){return bp(t)?()=>{const e=qI(he(t));return e&&e()}:Ms(t)}function pN(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function vN(t,e=null,n=null,r){const i=IN(t,e,n,r);return i.resolveInjectorInitializers(),i}function IN(t,e=null,n=null,r,i=new Set){const o=[n||Oe,dW(t)];return r=r||("object"==typeof t?void 0:zt(t)),new ks(o,e||Lp(),r||null,i)}class mt{static THROW_IF_NOT_FOUND=Rs;static NULL=new Op;static create(e,n){if(Array.isArray(e))return vN({name:""},n,e,"");{const r=e.name??"";return vN({name:r},e.parent,e.providers,r)}}static \u0275prov=ee({token:mt,providedIn:"any",factory:()=>oe(vP)});static __NG_ELEMENT_ID__=-1}new q("").__NG_ELEMENT_ID__=t=>{const e=Ee();if(null===e)throw new B(204,!1);if(2&e.type)return e.value;if(t&Te.Optional)return null;throw new B(204,!1)};const EN=!1;let Li=(()=>class t{static __NG_ELEMENT_ID__=w6;static __NG_ENV_ID__=n=>n})();class wN extends Li{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Gp(this._lView,e),()=>function TI(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(this._lView,e)}}function w6(){return new wN(x())}class Ui{}const $l=new q("",{providedIn:"root",factory:()=>!1}),TN=new q(""),KI=new q("");let si=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ir(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})(),QI=(()=>{class t{internalPendingTasks=V(si);scheduler=V(Ui);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){var r=this;return E(function*(){const i=r.add();try{return yield n()}finally{i()}})()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();const Vt=class T6 extends zn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,bP()&&(this.destroyRef=V(Li,{optional:!0})??void 0,this.pendingTasks=V(si,{optional:!0})??void 0)}emit(e){const n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof gn&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function Hl(...t){}function CN(t){let e,n;function r(){t=Hl;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function bN(t){return queueMicrotask(()=>t()),()=>{t=Hl}}const YI="isAngularZone",ng=YI+"_ID";let C6=0;class we{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Vt(!1);onMicrotaskEmpty=new Vt(!1);onStable=new Vt(!1);onError=new Vt(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=EN}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function A6(t){const e=()=>{!function D6(t){function e(){CN(()=>{t.callbackScheduled=!1,JI(t),t.isCheckStableRunning=!0,ZI(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),JI(t))}(t)},n=C6++;t._inner=t._inner.fork({name:"angular",properties:{[YI]:!0,[ng]:n,[ng+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(function S6(t){return SN(t,"__ignore_ng_zone__")}(u))return r.invokeTask(o,s,a,u);try{return DN(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),AN(t)}},onInvoke:(r,i,o,s,a,u,c)=>{try{return DN(t),r.invoke(o,s,a,u,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function R6(t){return SN(t,"__scheduler_tick__")}(u)&&e(),AN(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,JI(t),ZI(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(YI)}static assertInAngularZone(){if(!we.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(we.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,b6,Hl,Hl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const b6={};function ZI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function DN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AN(t){t._nesting--,ZI(t)}class XI{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Vt;onMicrotaskEmpty=new Vt;onStable=new Vt;onError=new Vt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function SN(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class Br{_console=console;handleError(e){this._console.error("ERROR",e)}}const P6=new q("",{providedIn:"root",factory:()=>{const t=V(we),e=V(Br);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function MN(t,e){return rP(t,e)}const k6=(MN.required=function N6(t){return rP(Cp,t)},MN);function x6(){return fu(Ee(),x())}function fu(t,e){return new dr(Nn(t,e))}let dr=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=x6})();function PN(t){return t instanceof dr?t.nativeElement:t}function ai(t,e){const n=function Eq(t,e){const n=Object.create(Ov);n.value=t,void 0!==e&&(n.equal=e);const r=()=>(Cl(n),n.value);return r[on]=n,r}(t,e?.equal),r=n[on];return n.set=i=>yp(r,i),n.update=i=>function GM(t,e){UM()||zM(t),yp(t,e(t.value))}(r,i),n.asReadonly=rg.bind(n),n}function rg(){const t=this[on];if(void 0===t.readonlyFn){const e=()=>this();e[on]=t,t.readonlyFn=e}return t.readonlyFn}function kN(t){return function NN(t){return"function"==typeof t&&void 0!==t[on]}(t)&&"function"==typeof t.set}function O6(){return this._results[Symbol.iterator]()}class V6{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new zn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Kn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function cW(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=O6}function Gl(t){return!(128&~t.flags)}var ig=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ig||{});const og=new Map;let L6=0;function tE(t){og.delete(t[19])}const rE="__ngContext__";function Yn(t,e){Et(e)?(t[rE]=e[19],function B6(t){og.set(t[19],t)}(e)):t[rE]=e}function $N(t){return zN(t[12])}function HN(t){return zN(t[4])}function zN(t){for(;null!==t&&!qt(t);)t=t[4];return t}let oE;const Hs=new q("",{providedIn:"root",factory:()=>o9}),o9="ng",sE=new q(""),Ao=new q("",{providedIn:"platform",factory:()=>"unknown"}),ZN=new q("",{providedIn:"root",factory:()=>function ui(){if(void 0!==oE)return oE;if(typeof document<"u")return document;throw new B(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),tk=new q("",{providedIn:"root",factory:()=>!1});var _E=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(_E||{});const gu=new q(""),ok=new Set;function Zn(t){ok.has(t)||(ok.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let dg=(()=>class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=l9})();function l9(){return new dg(x(),Ee())}var mu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mu||{});let yE=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();const sk=[mu.EarlyRead,mu.Write,mu.MixedReadWrite,mu.Read];let ak=(()=>{class t{ngZone=V(we);scheduler=V(Ui);errorHandler=V(Br,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){V(gu,{optional:!0})}execute(){this.executing=!0;for(const r of sk)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),lu(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(_E.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();class uk{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(n=>n!==this))}}function vE(t,e){!e?.injector&&xs();const n=e?.injector??V(mt);return Zn("NgAfterNextRender"),function lk(t,e,n,r){const i=e.get(yE);i.impl??=e.get(ak);const o=e.get(gu,null,{optional:!0}),s=n?.phase??mu.MixedReadWrite,a=!0!==n?.manualCleanup?e.get(Li):null,u=e.get(dg,null,{optional:!0}),c=new uk(i.impl,function d9(t,e){if(t instanceof Function){const n=[void 0,void 0,void 0,void 0];return n[e]=t,n}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}(t,n,e,!0)}function xk(t,e){const n=t.contentQueries;if(null!==n){const r=ye(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Kp(n[i]),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function NE(t,e,n){Kp(0);const r=ye(null);try{e(t,n)}finally{ye(r)}}function kE(t,e,n){if(_I(e)){const r=ye(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ye(r)}}}var br=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(br||{});let Eg;function Lk(t){return function xE(){if(void 0===Eg&&(Eg=null,vt.trustedTypes))try{Eg=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eg}()?.createScriptURL(t)||t}class Uk{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tP})`}}function Ro(t){return t instanceof Uk?t.changingThisBreaksApplicationSecurity:t}function id(t,e){const n=function J9(t){return t instanceof Uk&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tP})`)}return n===e}const n5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var bu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bu||{});function UE(t){const e=sd();return e?e.sanitize(bu.URL,t)||"":id(t,"URL")?Ro(t):function OE(t){return(t=String(t)).match(n5)?t:"unsafe:"+t}(me(t))}function Kk(t){const e=sd();if(e)return Lk(e.sanitize(bu.RESOURCE_URL,t)||"");if(id(t,"ResourceURL"))return Lk(Ro(t));throw new B(904,!1)}function sd(){const t=x();return t&&t[10].sanitizer}function ex(t){return t.ownerDocument}function ci(t){return t instanceof Function?t():t}function M5(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const ox="ng-template";function P5(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==M5(e[i+1].toLowerCase(),n,0))return!0}else if($E(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function $E(t){return 4===t.type&&t.value!==ox}function N5(t,e,n){return e===(4!==t.type||n?t.value:ox)}function k5(t,e,n){let r=4;const i=t.attrs,o=null!==i?function V5(t){for(let e=0;e<t.length;e++)if(nN(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!N5(t,u,n)||""===u&&1===e.length){if(jr(r))return!1;s=!0}}else if(8&r){if(null===i||!P5(t,i,u,n)){if(jr(r))return!1;s=!0}}else{const c=e[++a],d=x5(u,i,$E(t),n);if(-1===d){if(jr(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&c!==h){if(jr(r))return!1;s=!0}}}}else{if(!s&&!jr(r)&&!jr(u))return!1;if(s&&jr(u))continue;s=!1,r=u|1&r}}return jr(r)||s}function jr(t){return!(1&t)}function x5(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function F5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function sx(t,e,n=!1){for(let r=0;r<e.length;r++)if(k5(t,e[r],n))return!0;return!1}function ax(t,e){return t?":not("+e.trim()+")":e}function U5(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!jr(s)&&(e+=ax(o,i),i=""),r=s,o=o||!jr(r);n++}return""!==i&&(e+=ax(o,i)),e}const _e={};function bg(t,e,n){return t.createElement(e,n)}function qs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function cx(t,e,n){t.appendChild(e,n)}function lx(t,e,n,r,i){null!==r?qs(t,e,n,r,i):cx(t,e,n)}function hx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function o6(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];rN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}}(t,e,r),null!==i&&function H5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,i),null!==o&&function $5(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function GE(t,e,n,r,i,o,s,a,u,c,d){const h=26+r,f=h+i,g=function z5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(h,f),_="function"==typeof c?c():c;return g[1]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1,ssrId:d}}function Dg(t,e,n,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[0]=i,h[2]=1228|r,(null!==c||t&&2048&t[2])&&(h[2]|=2048),UP(h),h[3]=h[14]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[9]=u||t&&t[9]||null,h[5]=o,h[19]=function U6(){return L6++}(),h[6]=d,h[20]=c,h[15]=2==e.type?t[15]:h,h}function qE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ud(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WE(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function ge(t=1){px(le(),x(),un()+t,!1)}function px(t,e,n,r){if(!r)if(3&~e[2]){const o=t.preOrderHooks;null!==o&&Yp(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Qp(e,o,n)}js(n)}var Ag=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ag||{});function KE(t,e,n,r){const i=ye(null);try{const[o,s,a]=t.inputs[n];let u=null;!!(s&Ag.SignalBased)&&(u=e[o][on]),null!==u&&void 0!==u.transformFn?r=u.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,u,r,n,o):kP(e,u,o,r)}finally{ye(i)}}function gx(t,e,n,r,i){const o=un(),s=2&r;try{js(-1),s&&e.length>26&&px(t,e,26,!1),n(r,i)}finally{js(o)}}function Sg(t,e,n){(function J5(t,e,n){const r=n.directiveStart,i=n.directiveEnd;Fr(n)&&function G5(t,e,n){const r=Nn(e,t),i=function fx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=GE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),o=t[10].rendererFactory,s=WE(t,Dg(t,i,null,qE(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Jp(n,e);const o=n.initialInputs;for(let s=r;s<i;s++){const a=t.data[s],u=Bl(e,t,s,n);Yn(u,e),null!==o&&t8(0,s-r,u,a,0,o),lr(a)&&(kn(n.index,e)[8]=Bl(e,t,s,n))}})(t,e,n),!(64&~n.flags)&&function X5(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function QW(){return fe.lFrame.currentDirectiveIndex}();try{js(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];PI(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&e8(u,c)}}finally{js(-1),PI(s)}}(t,e,n)}function QE(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}let mx=()=>null;function Jn(t,e,n,r,i,o,s,a){if(a||!XE(e,t,n,r,i)){if(3&e.type){const u=Nn(e,n);r=function Y5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i)}}else Fr(e)&&function Z5(t,e){const n=kn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)}function e8(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function YE(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];sx(e,o.selectors,!1)&&(r??=[],lr(o)?r.unshift(o):r.push(o))}return r}function li(t,e,n,r,i,o){const s=Nn(t,e);!function ZE(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?me(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],s,o,t.value,n,r,i)}function t8(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)KE(r,n,s[a],s[a+1])}function XE(t,e,n,r,i){const o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r];let a=!1;if(s)for(let u=0;u<s.length;u+=2){const c=s[u];KE(e.data[c],n[c],s[u+1],i),a=!0}if(o)for(const u of o)KE(e.data[u],n[u],r,i),a=!0;return a}function n8(t,e){const n=kn(e,t),r=n[1];!function r8(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),Rg(r,n,n[8])}function Rg(t,e,n){xI(e);try{const r=t.viewQuery;null!==r&&NE(1,r,n);const i=t.template;null!==i&&gx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&xk(t,e),t.staticViewQueries&&NE(2,t.viewQuery,n);const o=t.components;null!==o&&function i8(t,e){for(let n=0;n<e.length;n++)n8(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,OI()}}function Ws(t,e){return!e||null===e.firstChild||Gl(t)}function tw(t,e){return undefined(t,e)}var Mo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mo||{});function Po(t){return!(32&~t.flags)}function Su(t,e,n,r,i){if(null!=r){let o,s=!1;qt(r)?o=r:Et(r)&&(s=!0,r=r[0]);const a=Pe(r);0===t&&null!==n?null==i?cx(e,n,a):qs(e,n,a,i||null,!0):1===t&&null!==n?qs(e,n,a,i||null,!0):2===t?function ad(t,e,n){t.removeChild(null,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function d8(t,e,n,r,i){const o=n[7];o!==Pe(n)&&Su(e,t,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];Pg(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function Ix(t,e){e[10].changeDetectionScheduler?.notify(9),Pg(t,e,e[11],2,null,null)}function nw(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function cd(t,e){if(bo(e))return;const n=e[11];n.destroyNode&&Pg(t,e,n,3,null,null),function a8(t){let e=t[12];if(!e)return rw(t[1],t);for(;e;){let n=null;if(Et(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Et(e)&&rw(e[1],e),e=e[3];null===e&&(e=t),Et(e)&&rw(e[1],e),n=e&&e[4]}e=n}}(e)}function rw(t,e){if(bo(e))return;const n=ye(null);try{e[2]&=-129,e[2]|=256,e[24]&&pp(e[24]),function c8(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Fl)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function u8(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&qt(e[3])){r!==e[3]&&nw(r,e);const i=e[18];null!==i&&i.detachView(t)}tE(e)}finally{ye(n)}}function iw(t,e,n){return function Ex(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(Fr(r)){const{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===br.None||i===br.Emulated)return null}return Nn(r,n)}(t,e.parent,n)}let Cx=function Tx(t,e,n){return 40&t.type?Nn(t,n):null};function Mg(t,e,n,r){const i=iw(t,r,e),o=e[11],a=function wx(t,e,n){return Cx(t,e,n)}(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)lx(o,i,n[u],a,!1);else lx(o,i,n,a,!1)}function Ks(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return sw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ks(t,r);{const i=t[e.index];return qt(i)?sw(-1,i):Pe(i)}}if(128&n)return Ks(t,e.next);if(32&n)return tw(e,t)()||Pe(t[e.index]);{const r=Dx(t,e);return null!==r?Array.isArray(r)?r[0]:Ks(Oi(t[15]),r):Ks(t,e.next)}}return null}function Dx(t,e){return null!==e?t[15][5].projection[e.projection]:null}function sw(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ks(r,i)}return e[7]}function aw(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Yn(Pe(a),r),n.flags|=2),!Po(n))if(8&u)aw(t,e,n.child,r,i,o,!1),Su(e,t,i,a,o);else if(32&u){const c=tw(n,r);let d;for(;d=c();)Su(e,t,i,d,o);Su(e,t,i,a,o)}else 16&u?Ax(t,e,r,n,i,o):Su(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Pg(t,e,n,r,i,o){aw(n,r,t.firstChild,e,i,o,!1)}function Ax(t,e,n,r,i,o){const s=n[15],u=s[5].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Su(e,t,i,u[c],o);else{let c=u;const d=s[3];Gl(r)&&(c.flags|=128),aw(t,e,c,d,i,o,!0)}}function Ru(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(Pe(o)),qt(o)&&uw(o,r);const s=n.type;if(8&s)Ru(t,e,n.child,r);else if(32&s){const a=tw(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Dx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Oi(e[15]);Ru(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uw(t,e){for(let n=10;n<t.length;n++){const r=t[n],i=r[1].firstChild;null!==i&&Ru(r[1],r,i,e)}t[7]!==t[0]&&e.push(t[7])}function Sx(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let Rx=[];const m8={...Wa,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{lu(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},y8={...Wa,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Oi(t.lView);for(;e&&!Mx(e[1]);)e=Oi(e);e&&EI(e)},consumerOnSignalRead(){this.lView[24]=this}};function Mx(t){return 2!==t.type}function Px(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function Ng(t,e=!0,n=0){const i=t[10].rendererFactory;i.begin?.();try{!function I8(t,e){const n=zP();try{Wp(!0),cw(t,e);let r=0;for(;xl(t);){if(100===r)throw new B(103,!1);r++,cw(t,1)}}finally{Wp(n)}}(t,n)}catch(s){throw e&&function JE(t,e){const n=t[9],r=n?n.get(Br,null):null;r&&r.handleError(e)}(t,s),s}finally{i.end?.()}}function kx(t,e,n,r){if(bo(e))return;const i=e[2];xI(e);let a=!0,u=null,c=null;Mx(t)?(c=function f8(t){return t[24]??function p8(t){const e=Rx.pop()??Object.create(m8);return e.lView=t,e}(t)}(e),u=Ka(c)):null===function xv(){return Rt}()?(a=!1,c=function _8(t){const e=t[24]??Object.create(y8);return e.lView=t,e}(e),u=Ka(c)):e[24]&&(pp(e[24]),e[24]=null);try{UP(e),function GP(t){return fe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gx(t,e,n,2,r);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&Qp(e,g,null)}else{const g=t.preOrderHooks;null!==g&&Yp(e,g,0,null),UI(e,0)}if(function E8(t){for(let e=$N(t);null!==e;e=HN(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)EI(n[r])}}(e),Px(e),xx(e,0),null!==t.contentQueries&&xk(t,e),d){const g=t.contentCheckHooks;null!==g&&Qp(e,g)}else{const g=t.contentHooks;null!==g&&Yp(e,g,1),UI(e,1)}!function T8(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)js(~i);else{const o=i,s=n[++r],a=n[++r];KW(s,o);const u=e[o];a(2,u)}}}finally{js(-1)}}(t,e);const h=t.components;null!==h&&Vx(e,h,0);const f=t.viewQuery;if(null!==f&&NE(2,f,r),d){const g=t.viewCheckHooks;null!==g&&Qp(e,g)}else{const g=t.viewHooks;null!==g&&Yp(e,g,2),UI(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const g of e[22])g();e[22]=null}Sx(e),e[2]&=-73}catch(d){throw lu(e),d}finally{null!==c&&(Dl(c,u),a&&function g8(t){t.lView[24]!==t&&(t.lView=null,Rx.push(t))}(c)),OI()}}function xx(t,e){for(let n=$N(t);null!==n;n=HN(n))for(let r=10;r<n.length;r++)Ox(n[r],e)}function w8(t,e,n){const r=kn(e,t);Ox(r,n)}function Ox(t,e){II(t)&&cw(t,e)}function cw(t,e){const r=t[1],i=t[2],o=t[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!fp(o)),s||=!1,o&&(o.dirty=!1),t[2]&=-9217,s)kx(r,t,r.template,t[8]);else if(8192&i){Px(t),xx(t,1);const a=r.components;null!==a&&Vx(t,a,1),Sx(t)}}function Vx(t,e,n){for(let r=0;r<e.length;r++)w8(t,e[r],n)}function ld(t,e){const n=zP()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=Oi(t);if(xi(t)&&!r)return t;t=r}return null}function Fx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dd(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[16];null!==i&&i!==t&&nw(i,r),e>0&&(t[n-1][4]=r[4]);const o=kp(t,10+e);!function vx(t,e){Ix(t,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ux(t,e){const n=t[9],r=e[3];(Et(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}let hd=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const e=this._lView,n=e[1];return Ru(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(qt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(dd(e,r),kp(n,r))}this._attachedToViewContainer=!1}cd(this._lView[1],this._lView)}onDestroy(e){Gp(this._lView,e)}markForCheck(){ld(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){wI(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Ng(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=xi(this._lView),n=this._lView[16];null!==n&&!e&&nw(n,this._lView),Ix(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;const n=xi(this._lView),r=this._lView[16];null!==r&&!n&&Ux(r,this._lView),wI(this._lView)}},Hi=(()=>class t{static __NG_ELEMENT_ID__=A8})();const b8=Hi,D8=class extends b8{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Au(t,e,n,r){const i=ye(null);try{const o=e.tView,u=Dg(t,o,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[16]=t[e.index];const d=t[18];return null!==d&&(u[18]=d.createEmbeddedView(o)),Rg(o,u,n),u}finally{ye(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new hd(i)}};function A8(){return kg(Ee(),x())}function kg(t,e){return 4&t.type?new D8(e,t,fu(t,e)):null}function Pu(t,e,n,r,i){let o=t.data[e];if(null===o)o=function pw(t,e,n,r,i){const o=jP(),s=RI(),u=t.data[e]=function F8(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Bs(){return null!==fe.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return function V8(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,u,o,s),u}(t,e,n,r,i),function WW(){return fe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ol(){const t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ur(o,!0),o}let T7=class{},uO=class{};class C7{resolveComponentFactory(e){throw Error(`No component factory found for ${zt(e)}.`)}}let Bg=class{static NULL=new C7};class ww{}let zi=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function b7(){const t=x(),n=kn(Ee().index,t);return(Et(n)?n:t)[11]}()})(),D7=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>null})}return t})();const Cw={};class xu{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Np(r);const i=this.injector.get(e,Cw,r);return i!==Cw||n===Cw?i:this.parentInjector.get(e,n,r)}}function bw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Kv(i,a):2==o&&(r=Kv(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function z(t,e=Te.Default){const n=x();return null===n?oe(t,e):lN(Ee(),n,he(t),e)}function Dw(t,e,n,r,i){const o=null===r?null:{"":-1},s=i(t,n);if(null!==s){let a,u=null,c=null;const d=function P7(t){let e=null,n=!1;for(let s=0;s<t.length;s++){const a=t[s];if(0===s&&lr(a)&&(e=a),null!==a.findHostDirectiveDefs){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(const s of t)null!==s.findHostDirectiveDefs&&(r??=[],i??=new Map,o??=new Map,N7(s,r,o,i)),s===e&&(r??=[],r.push(s));return null!==r?(r.push(...null===e?t:t.slice(1)),[r,i,o]):null}(s);null===d?a=s:[a,u,c]=d,function x7(t,e,n,r,i,o,s){const a=r.length;let u=!1;for(let f=0;f<a;f++){const g=r[f];!u&&lr(g)&&(u=!0,k7(t,n,f)),GI(Jp(n,e),t,g.type)}!function B7(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,a);for(let f=0;f<a;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,h=ud(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){const g=r[f];if(n.mergedAttrs=hu(n.mergedAttrs,g.hostAttrs),V7(t,n,e,h,g),U7(h,g,i),null!==s&&s.has(g)){const[v,I]=s.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,I+n.directiveStart])}else(null===o||!o.has(g))&&n.directiveToIndex.set(g.type,h);null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const _=g.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function O7(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=t.data[r];if(null!==n&&n.has(i)){const o=n.get(i);hO(0,e,o,r),hO(1,e,o,r),pO(e,r,!0)}else dO(0,e,i,r),dO(1,e,i,r),pO(e,r,!1)}}(t,n,o)}(t,e,n,a,o,u,c)}null!==o&&null!==r&&function M7(t,e,n){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new B(-301,!1);r.push(e[i],o)}}(n,r,o)}function N7(t,e,n,r){const i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function k7(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dO(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===t?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),fO(e,o)}}function hO(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),fO(e,s)}}function fO(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function pO(t,e,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(null===r||!n&&null===i||n&&null===o||$E(t))return t.initialInputs??=[],void t.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!n&&i.hasOwnProperty(u)){const c=i[u];for(const d of c)if(d===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){const c=o[u];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(s)}function V7(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ms(i.type)),s=new Fl(o,lr(i),z);t.blueprint[r]=s,n[r]=s,function F7(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function L7(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ud(t,n,i.hostVars,_e),i)}function U7(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function gO(t,e,n,r,i,o,s,a){const u=e.consts,d=Pu(e,t,2,r,Tr(u,s));return o&&Dw(e,n,d,Tr(u,a),i),d.mergedAttrs=hu(d.mergedAttrs,d.attrs),null!==d.attrs&&bw(d,d.attrs,!1),null!==d.mergedAttrs&&bw(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}function mO(t,e){LI(t,e),_I(e)&&t.queries.elementEnd(e)}class _O extends Bg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new wd(n,this.ngModule)}}class wd extends uO{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function j7(t){return Object.keys(t).map(e=>{const[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:!!(r&Ag.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function $7(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function B5(t){return t.map(U5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){const o=ye(null);try{const s=this.componentDef,a=r?["ng-version","19.2.7"]:function j5(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!jr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}(this.componentDef.selectors[0]),u=GE(0,null,null,1,0,null,null,null,null,[a],null),c=function H7(t,e,n){let r=e instanceof mn?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new xu(n,r):n}(s,i||this.ngModule,e),d=function z7(t){const e=t.get(ww,null);if(null===e)throw new B(407,!1);return{rendererFactory:e,sanitizer:t.get(D7,null),changeDetectionScheduler:t.get(Ui,null)}}(c),h=d.rendererFactory.createRenderer(null,s),f=r?function q5(t,e,n,r){const o=r.get(tk,!1)||n===br.ShadowDom,s=t.selectRootElement(e,o);return function W5(t){mx(t)}(s),s}(h,r,s.encapsulation,c):function G7(t,e){const n=(t.selectors[0][0]||"div").toLowerCase();return bg(e,n,"svg"===n?"svg":"math"===n?"math":null)}(s,h),g=Dg(null,u,null,512|qE(s),null,null,d,h,c,null,null);g[26]=f,xI(g);let _=null;try{const v=gO(26,u,g,"#host",()=>[this.componentDef],!0,0);f&&(hx(h,f,v),Yn(f,g)),Sg(u,g,v),kE(u,v,g),mO(u,v),void 0!==n&&function W7(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(v,this.ngContentSelectors,n),_=kn(v.index,g),g[8]=_[8],Rg(u,g,null)}catch(v){throw null!==_&&tE(_),tE(g),v}finally{OI()}return new q7(this.componentType,g)}finally{ye(o)}}}class q7 extends T7{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Ls(n[1],26),this.location=fu(this._tNode,n),this.instance=kn(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new hd(n,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;XE(r,i[1],i,e,n),this.previousInputValues.set(e,n),ld(kn(r.index,i),1)}get injector(){return new wt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let $r=(()=>class t{static __NG_ELEMENT_ID__=K7})();function K7(){return IO(Ee(),x())}const Q7=$r,yO=class extends Q7{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new wt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xp(this._hostTNode,this._hostLView);if($I(e)){const n=Ul(e,this._hostLView),r=Ll(e);return new wt(n[1].data[r+8],n)}return new wt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=vO(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,Ws(this._hostTNode,null)),a}createComponent(e,n,r,i,o){const s=e&&!function Nl(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const u=s?e:new wd(Ce(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const v=(s?c:this.parentInjector).get(mn,null);v&&(o=v)}Ce(u.componentType??{});const g=u.create(c,i,null,o);return this.insertImpl(g.hostView,a,Ws(this._hostTNode,null)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function FW(t){return qt(t[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[3],c=new yO(u,u[5],u[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return function Mu(t,e,n,r=!0){const i=e[1];if(function C8(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],mP(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[16];null!==s&&n!==s&&Ux(s,e);const a=e[18];null!==a&&a.insertView(t),wI(e),e[2]|=128}(i,e,t,n),r){const s=sw(n,t),a=e[11],u=a.parentNode(t[7]);null!==u&&function s8(t,e,n,r,i,o){r[0]=i,r[5]=e,Pg(t,r,n,1,i,o)}(i,t[5],a,e,u,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,i,o,r),e.attachToViewContainerRef(),mP(Aw(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=vO(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=dd(this._lContainer,n);r&&(kp(Aw(this._lContainer),n),cd(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=dd(this._lContainer,n);return r&&null!=kp(Aw(this._lContainer),n)?new hd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vO(t){return t[8]}function Aw(t){return t[8]||(t[8]=[])}function IO(t,e){let n;const r=e[t.index];return qt(r)?n=r:(n=Fx(r,e,null,t),e[t.index]=n,WE(e,n)),EO(n,e,t,r),new yO(n,t,e)}let EO=function TO(t,e,n,r){if(t[7])return;let i;i=8&n.type?Pe(r):function Y7(t,e){const n=t[11],r=n.createComment(""),i=Nn(e,t),o=n.parentNode(i);return qs(n,o,r,n.nextSibling(i),!1),r}(e,n),t[7]=i};class Rw{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new Rw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mw{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Mw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==Ow(e,n).matches&&this.queries[n].setDirty()}}class CO{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function iK(t){return t.split(",").map(e=>e.trim())}(e):e}}class Pw{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Pw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Nw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Nw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,eK(n,o)),this.matchTNodeWithReadOption(e,n,eg(n,e,o,!1,!1))}else r===Hi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,eg(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===dr||i===$r||i===Hi&&4&n.type)this.addMatch(n.index,-2);else{const o=eg(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function eK(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function nK(t,e,n,r){return-1===n?function tK(t,e){return 11&t.type?fu(t,e):4&t.type?kg(t,e):null}(e,t):-2===n?function rK(t,e,n){return n===dr?fu(e,t):n===Hi?kg(e,t):n===$r?IO(e,t):void 0}(t,e,r):Bl(t,t[1],n,e)}function bO(t,e,n,r){const i=e[18].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;null!==s&&u<s.length;u+=2){const c=s[u];a.push(c<0?null:nK(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function kw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=bO(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],d=e[-u];for(let h=10;h<d.length;h++){const f=d[h];f[16]===f[3]&&kw(f[1],f,c,r)}if(null!==d[9]){const h=d[9];for(let f=0;f<h.length;f++){const g=h[f];kw(g[1],g,c,r)}}}}}return r}function SO(t,e,n,r){const i=le();if(i.firstCreatePass){const o=Ee();(function RO(t,e,n){null===t.queries&&(t.queries=new Pw),t.queries.track(new Nw(e,n))})(i,new CO(e,n,r),o.index),function oK(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),!(2&~n)&&(i.staticContentQueries=!0)}return function DO(t,e,n){const r=new V6(!(4&~n));return function LW(t,e,n,r){const i=CI(e);i.push(n),t.firstCreatePass&&bI(t).push(r,i.length-1)}(t,e,r,r.destroy),(e[18]??=new Mw).queries.push(new Rw(r))-1}(i,x(),n)}function Ow(t,e){return t.queries.getByIndex(e)}function MO(t,e){const n=t[1],r=Ow(n,e);return r.crossesNgTemplate?kw(n,t,e,[]):bO(n,t,r,e)}let Zs=class{},jO=class{};class Lw extends Zs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _O(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;const o=ar(e);this._bootstrapComponents=ci(o.bootstrap),this._r3Injector=IN(e,n,[{provide:Zs,useValue:this},{provide:Bg,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Uw extends jO{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Lw(this.moduleType,e,[])}}class $O extends Zs{injector;componentFactoryResolver=new _O(this);instance=null;constructor(e){super();const n=new ks([...e.providers,{provide:Zs,useValue:this},{provide:Bg,useValue:this.componentFactoryResolver}],e.parent||Lp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function $g(t,e,n=null){return new $O({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _K=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=uI(0,n.type),i=r.length>0?$g([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(oe(mn))})}return t})();function Hr(t){return Pi(()=>{const e=HO(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ig.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(_K).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||br.Emulated,styles:t.styles||Oe,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&Zn("NgStandalone"),zO(n);const r=t.dependencies;return n.directiveDefs=Hg(r,!1),n.pipeDefs=Hg(r,!0),n.id=function TK(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function yK(t){return Ce(t)||function an(t){return t[Xv]||null}(t)}function vK(t){return null!==t}function Js(t){return Pi(()=>({type:t.type,bootstrap:t.bootstrap||Oe,declarations:t.declarations||Oe,imports:t.imports||Oe,exports:t.exports||Oe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IK(t,e){if(null==t)return Or;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ag.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function EK(t){if(null==t)return Or;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function pe(t){return Pi(()=>{const e=HO(t);return zO(e),e})}function HO(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Or,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Oe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IK(t.inputs,e),outputs:EK(t.outputs),debugInfo:null}}function zO(t){t.features?.forEach(e=>e(t))}function Hg(t,e){if(!t)return null;const n=e?ur:yK;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(vK)}function $e(t){let e=function GO(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Bw(t.inputs),s.declaredInputs=Bw(t.declaredInputs),s.outputs=Bw(t.outputs);const a=i.hostBindings;a&&SK(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&DK(t,u),c&&AK(t,c),CK(t,i),$q(t.outputs,i.outputs),lr(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===$e&&(n=!1)}}e=Object.getPrototypeOf(e)}!function bK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hu(i.hostAttrs,n=hu(n,i.hostAttrs))}}(r)}function CK(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Bw(t){return t===Or?{}:t===Oe?[]:t}function DK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function AK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function SK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Tt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ft(t,e,n,r,i,o,s,a){const u=x(),c=le();return function bd(t,e,n,r,i,o,s,a,u,c){const d=n+26,h=e.firstCreatePass?function FK(t,e,n,r,i,o,s,a,u){const c=e.consts,d=Pu(e,t,4,s||null,a||null);SI()&&Dw(e,n,d,Tr(c,u),YE),d.mergedAttrs=hu(d.mergedAttrs,d.attrs),LI(e,d);const h=d.tView=GE(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,e,t,r,i,o,s,a,u):e.data[d];Ur(h,!1);const f=YO(e,t,h,n);Vl()&&Mg(e,t,f,h),Yn(f,t);const g=Fx(f,t,f,h);return t[d]=g,WE(t,g),Hp(h)&&Sg(e,t,h),null!=u&&QE(t,h,c),h}(u,c,t,e,n,r,i,Tr(c.consts,o),s,a),Ft}let YO=function ZO(t,e,n,r){return ii(!0),e[11].createComment("")};let Gw=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const l1=new q("");let Jw=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new VQ})}return t})();class VQ{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,n]of this.queues)null===e?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(const n of e)e.delete(n),this.queuedEffectCount--,n.run()}}function Ad(t){return!!t&&"function"==typeof t.then}function d1(t){return!!t&&"function"==typeof t.subscribe}const h1=new q("");function f1(t){return wr([{provide:h1,multi:!0,useValue:t}])}let p1=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=V(h1,{optional:!0})??[];injector=V(mt);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=Mn(this.injector,i);if(Ad(o))n.push(o);else if(d1(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Lu=new q("");let hr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(P6);afterRenderManager=V(yE);zonelessEnabled=V($l);rootEffectScheduler=V(Jw);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new zn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(si).hasPendingTasks.pipe(ke(n=>!n));constructor(){V(gu,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=V(mn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=mt.NULL){const o=n instanceof uO;if(!this._injector.get(p1).done)throw new B(405,"");let a;a=o?n:this._injector.get(Bg).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const u=function FQ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Zs),d=a.create(i,[],r||a.selector,u),h=d.location.nativeElement,f=d.injector.get(l1,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Yg(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(_E.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);const n=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ye(n),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ww,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const n=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)UQ(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>xl(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Yg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Lu,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function UQ(t,e,n,r){(n||xl(t))&&Ng(t,e,n&&!r?0:1)}function hi(t,e,n,r){const i=x();return Tt(i,Cr(),e)&&(le(),li(Ge(),i,t,e,n,r)),hi}function Zg(t,e){return t<<17|e<<2}function ta(t){return t>>17&32767}function rT(t){return 2|t}function Ku(t){return(131068&t)>>2}function iT(t,e){return-131069&t|e<<2}function oT(t){return 1|t}function x1(t,e,n,r){const i=t[n+1],o=null===e;let s=r?ta(i):Ku(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];bY(t[s],e)&&(a=!0,t[s+1]=r?oT(c):rT(c)),s=r?ta(c):Ku(c)}a&&(t[n+1]=r?rT(i):oT(i))}function bY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ml(t,e)>=0}function xe(t,e,n){const r=x();return Tt(r,Cr(),e)&&Jn(le(),Ge(),r,t,e,r[11],n,!1),xe}function sT(t,e,n,r,i){XE(e,t,n,i?"class":"style",r)}function aT(t,e,n){return zr(t,e,n,!1),aT}function Yu(t,e){return zr(t,e,null,!0),Yu}function zr(t,e,n,r){const i=x(),o=le(),s=function Fi(t){const e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function $1(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[un()],s=function j1(t,e){return e>=t.expandoStartIndex}(t,n);(function q1(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function xY(t,e,n,r){const i=function NI(t){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Rd(n=uT(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=uT(i,t,e,n,r),null===o){let u=function OY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ku(r))return t[ta(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=uT(null,t,e,u[1],r),u=Rd(u,e.attrs,r),function VY(t,e,n,r){t[ta(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function FY(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Rd(r,t[o].hostAttrs,n);return Rd(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function TY(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ta(s),u=Ku(s);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||Ml(n,d)>0)&&(c=!0)):d=n,i)if(0!==u){const f=ta(t[a+1]);t[r+1]=Zg(f,a),0!==f&&(t[f+1]=iT(t[f+1],r)),t[a+1]=function EY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Zg(a,0),0!==a&&(t[a+1]=iT(t[a+1],r)),a=r;else t[r+1]=Zg(u,0),0===a?a=r:t[u+1]=iT(t[u+1],r),u=r;c&&(t[r+1]=rT(t[r+1])),x1(t,d,r,!0),x1(t,d,r,!1),function CY(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ml(o,e)>=0&&(n[r+1]=oT(n[r+1]))}(e,d,t,r,o),s=Zg(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==_e&&Tt(i,s,e)&&function z1(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],d=function wY(t){return!(1&~t)}(c)?G1(u,e,n,i,Ku(c),s):void 0;Jg(d)||(Jg(o)||function IY(t){return!(2&~t)}(c)&&(o=G1(u,null,n,i,a,s)),function h8(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Mo.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mo.Important),t.setStyle(n,r,i,o))}}(r,s,cu(un(),n),i,o))}(o,o.data[un()],i,i[11],t,i[s+1]=function jY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=zt(Ro(t)))),t}(e,n),r,s)}function uT(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Rd(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Rd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sr(t,s,!!n||e[++o]))}return void 0===t?null:t}function G1(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let f=n[i+1];f===_e&&(f=h?Oe:void 0);let g=h?sI(f,r):d===r?f:void 0;if(c&&!Jg(g)&&(g=sI(u,r)),Jg(g)&&(a=g,s))return a;const _=t[i+1];i=s?ta(_):Ku(_)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=sI(u,r))}return a}function Jg(t){return void 0!==t}function F(t,e,n,r){const i=x(),o=le(),s=26+t,a=i[11],u=o.firstCreatePass?gO(s,o,i,e,YE,SI(),n,r):o.data[s],c=Y1(o,i,u,a,e,t);i[s]=c;const d=Hp(u);return Ur(u,!0),hx(a,c,u),!Po(u)&&Vl()&&Mg(o,i,c,u),(0===function UW(){return fe.lFrame.elementDepthCount}()||d)&&Yn(c,i),function BW(){fe.lFrame.elementDepthCount++}(),d&&(Sg(o,i,u),kE(o,u,i)),null!==r&&QE(i,u),F}function U(){let t=Ee();RI()?function MI(){fe.lFrame.isParent=!1}():(t=t.parent,Ur(t,!1));const e=t;(function $W(t){return fe.skipHydrationRootTNode===t})(e)&&function qW(){fe.skipHydrationRootTNode=null}(),function jW(){fe.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&mO(n,e),null!=e.classesWithoutHost&&function r6(t){return!!(8&t.flags)}(e)&&sT(n,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function i6(t){return!!(16&t.flags)}(e)&&sT(n,e,x(),e.stylesWithoutHost,!1),U}function be(t,e,n,r){return F(t,e,n,r),U(),be}let Y1=(t,e,n,r,i,o)=>(ii(!0),bg(r,i,function JP(){return fe.lFrame.currentNamespace}()));function Md(){return x()}const em="en-US";let rV=em;function EV(t,e,n){return function r(i){if(i===Function)return n;ld(Fr(t)?kn(t.index,e):e,5);const s=e[8];let a=wV(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=wV(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function wV(t,e,n,r){const i=ye(null);try{return!1!==n(r)}catch(o){return function oJ(t,e){const n=t[9],r=n?n.get(Br,null):null;r&&r.handleError(e)}(t,o),!1}finally{ye(i)}}function TV(t,e,n,r,i,o){const a=e[1],d=e[n][a.data[n].outputs[r]],h=a.firstCreatePass?bI(a):null,f=CI(e),g=d.subscribe(o),_=f.length;f.push(o,g),h&&h.push(i,t.index,_,-(_+1))}function bt(t,e,n,r){const i=x(),o=le(),s=Ee();return mT(o,i,i[11],s,t,e,r),bt}function mT(t,e,n,r,i,o,s){const a=Hp(r),c=t.firstCreatePass?bI(t):null,d=CI(e);let h=!0;if(3&r.type||s){const f=Nn(r,e),g=s?s(f):f,_=d.length,v=s?b=>s(Pe(b[r.index])):r.index;let I=null;if(!s&&a&&(I=function sJ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,h=!1;else{o=EV(r,e,o);const b=n.listen(g,i,o);d.push(o,b),c&&c.push(i,v,_,_+1)}}else o=EV(r,e,o);if(h){const f=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let _=0;_<g.length;_+=2)TV(r,e,g[_],g[_+1],i,o);if(f&&f.length)for(const _ of f)TV(r,e,_,i,i,o)}}function Ar(t=1){return function ZW(t){return(fe.lFrame.contextLView=function BP(t,e){for(;t>0;)e=e[14],t--;return e}(t,fe.lFrame.contextLView))[8]}(t)}function cn(t){return function Us(t,e){return t[e]}(function $P(){return fe.lFrame.contextLView}(),26+t)}function j(t,e=""){const n=x(),r=le(),i=t+26,o=r.firstCreatePass?Pu(r,i,1,e,null):r.data[i],s=KV(r,n,o,e,t);n[i]=s,Vl()&&Mg(r,n,s,o),Ur(o,!1)}let KV=(t,e,n,r,i)=>(ii(!0),function HE(t,e){return t.createText(e)}(e[11],r));function Vd(t){return Fd("",t,""),Vd}function Fd(t,e,n){const r=x(),i=function Bu(t,e,n,r){return Tt(t,Cr(),n)?e+me(n)+r:_e}(r,t,e,n);return i!==_e&&function Gi(t,e,n){const r=cu(e,t);!function ux(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,un(),i),Fd}function qi(t,e,n){kN(e)&&(e=e());const r=x();return Tt(r,Cr(),e)&&Jn(le(),Ge(),r,t,e,r[11],n,!1),qi}function Vo(t,e){const n=kN(t);return n&&t.set(e),n}function Wi(t,e){const n=x(),r=le(),i=Ee();return mT(r,n,n[11],i,t,e),Wi}function vT(t,e,n,r,i){if(t=he(t),Array.isArray(t))for(let o=0;o<t.length;o++)vT(t[o],e,n,r,i);else{const o=le(),s=x(),a=Ee();let u=Ns(t)?t:he(t.provide);const c=CP(t),d=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(Ns(t)||!t.multi){const g=new Fl(c,i,z),_=ET(u,e,i?d:d+f,h);-1===_?(GI(Jp(a,s),o,u),IT(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{const g=ET(u,e,d+f,h),_=ET(u,e,d,d+f),I=_>=0&&n[_];if(i&&!I||!i&&!(g>=0&&n[g])){GI(Jp(a,s),o,u);const b=function NJ(t,e,n,r,i){const o=new Fl(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,oF(o,i,r&&!n),o}(i?PJ:MJ,n.length,i,r,c);!i&&I&&(n[_].providerFactory=b),IT(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else IT(o,t,g>-1?g:_,oF(n[i?_:g],c,!i&&r));!i&&r&&I&&n[_].componentProviders++}}}function IT(t,e,n,r){const i=Ns(e),o=function fW(t){return!!t.useClass}(e);if(i||o){const u=(o?he(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,u]):c[d+1].push(r,u)}else c.push(n,u)}}}function oF(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ET(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MJ(t,e,n,r){return wT(this.multi,[])}function PJ(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Bl(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),wT(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],wT(i,o);return o}function wT(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function lt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function RJ(t,e,n){const r=le();if(r.firstCreatePass){const i=lr(t);vT(n,r.data,r.blueprint,i,!0),vT(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class jd{full;major;minor;patch;constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const DX=new jd("19.2.7");class AX{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let RF=(()=>{class t{compileModuleSync(n){return new Uw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=ci(ar(n).declarations).reduce((s,a)=>{const u=Ce(a);return u&&s.push(new wd(u)),s},[]);return new AX(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MX=(()=>{class t{zone=V(we);changeDetectionScheduler=V(Ui);applicationRef=V(hr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we({...ST(),scheduleInRootZone:n}),[{provide:we,useFactory:t},{provide:Er,multi:!0,useFactory:()=>{const r=V(MX,{optional:!0});return()=>r.initialize()}},{provide:Er,multi:!0,useFactory:()=>{const r=V(NX);return()=>{r.initialize()}}},!0===e?{provide:TN,useValue:!0}:[],{provide:KI,useValue:n??EN}]}function ST(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let NX=(()=>{class t{subscription=new gn;initialized=!1;zone=V(we);pendingTasks=V(si);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$d=(()=>{class t{appRef=V(hr);taskService=V(si);ngZone=V(we);zonelessEnabled=V($l);tracing=V(gu,{optional:!0});disableScheduling=V(TN,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new gn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ng):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(KI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof XI||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?bN:CN;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ng+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bN(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Fo=new q("",{providedIn:"root",factory:()=>V(Fo,Te.Optional|Te.SkipSelf)||function kX(){return typeof $localize<"u"&&$localize.locale||em}()}),am=new q(""),UX=new q("");function Hd(t){return!t.moduleRef}let Lo=null;function UF(){return!1}let zd=(()=>class t{static __NG_ELEMENT_ID__=GX})();function GX(t){return function qX(t,e,n){if(Fr(t)&&!n){const r=kn(t.index,e);return new hd(r,r)}return 175&t.type?new hd(e[15],e):null}(Ee(),x(),!(16&~t))}function iee(t){try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=function zX(t=[]){if(Lo)return Lo;const e=function FF(t=[],e){return mt.create({name:e,providers:[{provide:dI,useValue:"platform"},{provide:am,useValue:new Set([()=>Lo=null])},...t]})}(t);return Lo=e,function g1(){!function Iq(t){HM=t}(()=>{throw new B(600,!1)})}(),function LF(t){const e=t.get(sE,null);Mn(t,()=>{e?.forEach(n=>n())})}(e),e}(r),o=[AT({}),{provide:Ui,useExisting:$d},...n||[]];return function xF(t){const e=Hd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Hd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(Br,null);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Hd(t)){const o=()=>e.destroy(),s=t.platformInjector.get(am);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(am);s.add(o),t.moduleRef.onDestroy(()=>{Yg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function jX(t,e,n){try{const r=n();return Ad(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(r,n,()=>{const o=e.get(p1);return o.runInitializers(),o.donePromise.then(()=>{if(function EZ(t){"string"==typeof t&&(rV=t.toLowerCase().replace(/_/g,"-"))}(e.get(Fo,em)||em),!e.get(UX,!0))return Hd(t)?e.get(hr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Hd(t)){const u=e.get(hr);return void 0!==t.rootComponent&&u.bootstrap(t.rootComponent),u}return function BX(t,e){const n=t.injector.get(hr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new B(-403,!1);t.instance.ngDoBootstrap(n)}e.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new $O({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Xu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Lt(t){return function Dq(t){const e=ye(null);try{return t()}finally{ye(e)}}(t)}function Ki(t,e){return function _q(t,e){const n=Object.create(yq);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(bl(n),Cl(n),n.value===Eo)throw n.error;return n.value};return r[on]=n,r}(t,e?.equal)}const fr=new q("");let gL=null;function Uo(){return gL}class Kee{}let LT=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>V(Yee),providedIn:"platform"})}return t})();const Qee=new q("");let Yee=(()=>{class t extends LT{_location;_history;_doc=V(fr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uo().getBaseHref(this._doc)}onPopState(n){const r=Uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function UT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function mL(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function Qi(t){return t&&"?"!==t[0]?`?${t}`:t}let ia=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>V(yL),providedIn:"root"})}return t})();const _L=new q("");let yL=(()=>{class t extends ia{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(fr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return UT(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Qi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Qi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(oe(LT),oe(_L,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qd=(()=>{class t{_subject=new zn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Xee(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(mL(vL(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qi(r))}normalize(n){return t.stripTrailingSlash(function Jee(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Qi;static joinWithSlash=UT;static stripTrailingSlash=mL;static \u0275fac=function(r){return new(r||t)(oe(ia))};static \u0275prov=ee({token:t,factory:()=>function Zee(){return new qd(oe(ia))}(),providedIn:"root"})}return t})();function vL(t){return t.replace(/\/index.html$/,"")}function IL(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const EL="browser";function wL(t){return"server"===t}class TL{}const BT=new q("");let CL=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(oe(BT),oe(we))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();class bL{_doc;constructor(e){this._doc=e}manager}const gm="ng-app-id";function DL(t){for(const e of t)e.remove()}function AL(t,e){const n=e.createElement("style");return n.textContent=t,n}function jT(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let SL=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=wL(o),function nte(t,e,n,r){const i=t.head?.querySelectorAll(`style[${gm}="${e}"],link[${gm}="${e}"]`);if(i)for(const o of i)o.removeAttribute(gm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,AL);r?.forEach(i=>this.addUsage(i,this.external,jT))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(DL(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])DL(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,AL(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,jT(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(gm,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(oe(fr),oe(Hs),oe(ZN,8),oe(Ao))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();const $T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},HT=/%COMP%/g,ute=new q("",{providedIn:"root",factory:()=>!0});function ML(t,e){return e.map(n=>n.replace(HT,t))}let PL=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=d,this.platformIsServer=wL(a),this.defaultRenderer=new zT(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===br.ShadowDom&&(r={...r,encapsulation:br.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof kL?i.applyToHost(n):i instanceof GT&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case br.Emulated:o=new kL(u,c,r,this.appId,d,s,a,h,f);break;case br.ShadowDom:return new hte(u,c,n,r,s,a,this.nonce,h,f);default:o=new GT(u,c,r,d,s,a,h,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(oe(CL),oe(SL),oe(Hs),oe(ute),oe(fr),oe(Ao),oe(we),oe(ZN),oe(gu,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();class zT{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS($T[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=$T[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=$T[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mo.DashCase|Mo.Important)?e.style.setProperty(n,r,i&Mo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if("string"==typeof e&&!(e=Uo().getGlobalEventTarget(this.doc,e)))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function NL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hte extends zT{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,u,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=ML(i.id,d);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}const h=i.getExternalStyles?.();if(h)for(const f of h){const g=jT(f,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class GT extends zT{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?ML(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class kL extends GT{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,c){const d=i+"-"+r.id;super(e,n,r,o,s,a,u,c,d),this.contentAttr=function cte(t){return"_ngcontent-%COMP%".replace(HT,t)}(d),this.hostAttr=function lte(t){return"_nghost-%COMP%".replace(HT,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class qT extends Kee{supportsDOMEvents=!0;static makeCurrent(){!function Wee(t){gL??=t}(new qT)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function fte(){return Wd=Wd||document.querySelector("base"),Wd?Wd.getAttribute("href"):null}();return null==n?null:function pte(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Wd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return IL(document.cookie,e)}}let Wd=null,mte=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();const xL=["alt","control","meta","shift"],yte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function OL(t){return{appProviders:[...Ate,...t?.providers??[]],platformProviders:bte}}const bte=[{provide:Ao,useValue:EL},{provide:sE,useValue:function wte(){qT.makeCurrent()},multi:!0},{provide:fr,useFactory:function Cte(){return function i9(t){oE=t}(document),document}}],Ate=[{provide:dI,useValue:"root"},{provide:Br,useFactory:function Tte(){return new Br}},{provide:BT,useClass:(()=>{class t extends bL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(oe(fr))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[fr]},{provide:BT,useClass:(()=>{class t extends bL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i,o){const s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uo().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xL.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=yte[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xL.forEach(s=>{s!==i&&(0,vte[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(oe(fr))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[fr]},PL,SL,CL,{provide:ww,useExisting:PL},{provide:TL,useClass:mte},[]];let Ste=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new Rte(V(fr),window)})}return t})();class Rte{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function Mte(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}let ine=(()=>{class t extends ia{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=UT(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Qi(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Qi(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(oe(LT),oe(_L,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),Mm=(()=>{class t{_viewContainer;_context=new qne;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){r2(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){r2(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(z($r),z(Hi))};static \u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})();class qne{$implicit=null;ngIf=null}function r2(t,e){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}let lC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Js({type:t});static \u0275inj=To({})}return t})();function Pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Bo(t){return this instanceof Bo?(this.v=t,this):new Bo(t)}function c2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function pC(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const l2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function d2(t){return nt(t?.then)}function h2(t){return nt(t[qv])}function f2(t){return Symbol.asyncIterator&&nt(t?.[Symbol.asyncIterator])}function p2(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const g2=function Hre(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function m2(t){return nt(t?.[g2])}function _2(t){return function u2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(_){return Promise.resolve(_).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(I,b){o.push([g,v,I,b])>1||u(g,v)})},_&&(i[g]=_(i[g])))}function u(g,_){try{!function c(g){g.value instanceof Bo?Promise.resolve(g.value.v).then(d,h):f(o[0][2],g)}(r[g](_))}catch(v){f(o[0][3],v)}}function d(g){u("next",g)}function h(g){u("throw",g)}function f(g,_){g(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Bo(n.read());if(i)return yield Bo(void 0);yield yield Bo(r)}}finally{n.releaseLock()}})}function y2(t){return nt(t?.getReader)}function gi(t){if(t instanceof at)return t;if(null!=t){if(h2(t))return function zre(t){return new at(e=>{const n=t[qv]();if(nt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(l2(t))return function Gre(t){return new at(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(d2(t))return function qre(t){return new at(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,YM)})}(t);if(f2(t))return v2(t);if(m2(t))return function Wre(t){return new at(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(y2(t))return function Kre(t){return v2(_2(t))}(t)}throw p2(t)}function v2(t){return new at(e=>{(function Qre(t,e){var n,r,i,o;return function s2(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=c2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Zi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Nm(t,e=0){return sn((n,r)=>{n.subscribe(Ht(r,i=>Zi(r,t,()=>r.next(i),e),()=>Zi(r,t,()=>r.complete(),e),i=>Zi(r,t,()=>r.error(i),e)))})}function km(t,e=0){return sn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function I2(t,e){if(!t)throw new Error("Iterable cannot be null");return new at(n=>{Zi(n,e,()=>{const r=t[Symbol.asyncIterator]();Zi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kt(t,e){return e?function tie(t,e){if(null!=t){if(h2(t))return function Yre(t,e){return gi(t).pipe(km(e),Nm(e))}(t,e);if(l2(t))return function Jre(t,e){return new at(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(d2(t))return function Zre(t,e){return gi(t).pipe(km(e),Nm(e))}(t,e);if(f2(t))return I2(t,e);if(m2(t))return function Xre(t,e){return new at(n=>{let r;return Zi(n,e,()=>{r=t[g2](),Zi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>nt(r?.return)&&r.return()})}(t,e);if(y2(t))return function eie(t,e){return I2(_2(t),e)}(t,e)}throw p2(t)}(t,e):gi(t)}function mC(t){return t[t.length-1]}function E2(t){return nt(mC(t))?t.pop():void 0}function xm(t){return function nie(t){return t&&nt(t.schedule)}(mC(t))?t.pop():void 0}function de(...t){return Kt(t,xm(t))}const{isArray:rie}=Array,{getPrototypeOf:iie,prototype:oie,keys:sie}=Object;function w2(t){if(1===t.length){const e=t[0];if(rie(e))return{args:e,keys:null};if(function aie(t){return t&&"object"==typeof t&&iie(t)===oie}(e)){const n=sie(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:uie}=Array;function T2(t){return ke(e=>function cie(t,e){return uie(e)?t(...e):t(e)}(t,e))}function C2(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _C(...t){const e=xm(t),n=E2(t),{args:r,keys:i}=w2(t);if(0===r.length)return Kt([],e);const o=new at(function lie(t,e,n=As){return r=>{b2(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)b2(e,()=>{const c=Kt(t[u],e);let d=!1;c.subscribe(Ht(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>C2(i,s):As));return n?o.pipe(T2(n)):o}function b2(t,e,n){t?Zi(n,t,e):e()}const Om=Lv(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function In(t,e,n=1/0){return nt(e)?In((r,i)=>ke((o,s)=>e(r,o,i,s))(gi(t(r,i))),n):("number"==typeof e&&(n=e),sn((r,i)=>function die(t,e,n,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const f=()=>{h&&!u.length&&!c&&e.complete()},g=v=>c<r?_(v):u.push(v),_=v=>{o&&e.next(v),c++;let I=!1;gi(n(v,d++)).subscribe(Ht(e,b=>{i?.(b),o?g(b):e.next(b)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;u.length&&c<r;){const b=u.shift();s?Zi(e,s,()=>_(b)):_(b)}f()}catch(b){e.error(b)}}))};return t.subscribe(Ht(e,g,()=>{h=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Jd(t=1/0){return In(As,t)}function yC(...t){return function hie(){return Jd(1)}()(Kt(t,xm(t)))}function D2(t){return new at(e=>{gi(t()).subscribe(e)})}function Vm(t,e){const n=nt(t)?t:()=>t,r=i=>i.error(n());return new at(e?i=>e.schedule(r,0,i):r)}const Kr=new at(t=>t.complete());function vC(){return sn((t,e)=>{let n=null;t._refCount++;const r=Ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class A2 extends at{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gn;const n=this.getSubject();e.add(this.source.subscribe(Ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gn.EMPTY)}return e}refCount(){return vC()(this)}}function Qr(t,e){return sn((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ht(r,u=>{i?.unsubscribe();let c=0;const d=o++;gi(t(u,d)).subscribe(i=Ht(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tc(t){return t<=0?()=>Kr:sn((e,n)=>{let r=0;e.subscribe(Ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ji(t,e){return sn((n,r)=>{let i=0;n.subscribe(Ht(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fm(t){return sn((e,n)=>{let r=!1;e.subscribe(Ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function S2(t=gie){return sn((e,n)=>{let r=!1;e.subscribe(Ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function gie(){return new Om}function oa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ji((i,o)=>t(i,o,r)):As,tc(1),n?Fm(e):S2(()=>new Om))}function nc(t,e){return nt(e)?In(t,e,1):In(t,1)}function Un(t,e,n){const r=nt(t)||e||n?{next:t,error:e,complete:n}:t;return r?sn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ht(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):As}function rc(t){return sn((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ht(n,void 0,void 0,s=>{o=gi(t(s,rc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function IC(t){return t<=0?()=>Kr:sn((e,n)=>{let r=[];e.subscribe(Ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xd(t){return sn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}let Iie=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(oe(fr))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ie="primary",th=Symbol("RouteTitle");class Cie{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ic(t){return new Cie(t)}function bie(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mi(t,e){const n=t?EC(t):void 0,r=e?EC(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!P2(t[i],e[i]))return!1;return!0}function EC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function P2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function N2(t){return t.length>0?t[t.length-1]:null}function $o(t){return function _re(t){return!!t&&(t instanceof at||nt(t.lift)&&nt(t.subscribe))}(t)?t:Ad(t)?Kt(Promise.resolve(t)):de(t)}const Aie={exact:function O2(t,e,n){if(!aa(t.segments,e.segments)||!Lm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!O2(t.children[r],e.children[r],n))return!1;return!0},subset:V2},k2={exact:function Sie(t,e){return mi(t,e)},subset:function Rie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>P2(t[n],e[n]))},ignored:()=>!0};function x2(t,e,n){return Aie[n.paths](t.root,e.root,n.matrixParams)&&k2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function V2(t,e,n){return F2(t,e,e.segments,n)}function F2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!aa(i,n)||e.hasChildren()||!Lm(i,n,r))}if(t.segments.length===n.length){if(!aa(t.segments,n)||!Lm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!V2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(aa(t.segments,i)&&Lm(t.segments,i,r)&&t.children[Ie])&&F2(t.children[Ie],e,o,r)}}function Lm(t,e,n){return e.every((r,i)=>k2[n](t[i].parameters,r.parameters))}class sa{root;queryParams;fragment;_queryParamMap;constructor(e=new We([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ic(this.queryParams),this._queryParamMap}toString(){return Nie.serialize(this)}}class We{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bm(this)}}class nh{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ic(this.parameters),this._parameterMap}toString(){return B2(this)}}function aa(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let rh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>new Um,providedIn:"root"})}return t})();class Um{parse(e){const n=new Hie(e);return new sa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ih(e.root,!0)}`,r=function Oie(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jm(n)}=${jm(i)}`).join("&"):`${jm(n)}=${jm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function kie(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Nie=new Um;function Bm(t){return t.segments.map(e=>B2(e)).join("/")}function ih(t,e){if(!t.hasChildren())return Bm(t);if(e){const n=t.children[Ie]?ih(t.children[Ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ie&&r.push(`${i}:${ih(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Pie(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Ie?[ih(t.children[Ie],!1)]:[`${i}:${ih(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ie]?`${Bm(t)}/${n[0]}`:`${Bm(t)}/(${n.join("//")})`}}function L2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jm(t){return L2(t).replace(/%3B/gi,";")}function wC(t){return L2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $m(t){return decodeURIComponent(t)}function U2(t){return $m(t.replace(/\+/g,"%20"))}function B2(t){return`${wC(t.path)}${function xie(t){return Object.entries(t).map(([e,n])=>`;${wC(e)}=${wC(n)}`).join("")}(t.parameters)}`}const Vie=/^[^\/()?;#]+/;function TC(t){const e=t.match(Vie);return e?e[0]:""}const Fie=/^[^\/()?;=#]+/,Uie=/^[^=?&#]+/,jie=/^[^&#]+/;class Hie{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ie]=new We(e,n)),r}parseSegment(){const e=TC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new nh($m(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Lie(t){const e=t.match(Fie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=TC(this.remaining);i&&(r=i,this.capture(r))}e[$m(n)]=$m(r)}parseQueryParam(e){const n=function Bie(t){const e=t.match(Uie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function $ie(t){const e=t.match(jie);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=U2(n),o=U2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=TC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ie);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Ie]:new We([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}}function j2(t){return t.segments.length>0?new We([],{[Ie]:t}):t}function $2(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=$2(i);if(r===Ie&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function zie(t){if(1===t.numberOfChildren&&t.children[Ie]){const e=t.children[Ie];return new We(t.segments.concat(e.segments),e.children)}return t}(new We(t.segments,e))}function ua(t){return t instanceof sa}function H2(t){let e;const i=j2(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new We(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function z2(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return CC(i,i,i,n,r);const o=function qie(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new q2(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new q2(n,e,r)}(e);if(o.toRoot())return CC(i,i,new We([],{}),n,r);const s=function Wie(t,e,n){if(t.isAbsolute)return new zm(e,!0,0);if(!n)return new zm(e,!1,NaN);if(null===n.parent)return new zm(n,!0,0);const r=Hm(t.commands[0])?0:1;return function Kie(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new zm(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?sh(s.segmentGroup,s.index,o.commands):W2(s.segmentGroup,s.index,o.commands);return CC(i,s.segmentGroup,a,n,r)}function Hm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function oh(t){return"object"==typeof t&&null!=t&&t.outlets}function CC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:G2(t,e,n);const a=j2($2(s));return new sa(a,o,i)}function G2(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:G2(o,e,n)}),new We(t.segments,r)}class q2{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hm(r[0]))throw new B(4003,!1);const i=r.find(oh);if(i&&i!==N2(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zm{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function W2(t,e,n){if(t??=new We([],{}),0===t.segments.length&&t.hasChildren())return sh(t,e,n);const r=function Yie(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(oh(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Q2(u,c,s))return o;r+=2}else{if(!Q2(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new We(t.segments.slice(0,r.pathIndex),{});return o.children[Ie]=new We(t.segments.slice(r.pathIndex),t.children),sh(o,0,i)}return r.match&&0===i.length?new We(t.segments,{}):r.match&&!t.hasChildren()?bC(t,e,n):r.match?sh(t,0,i):bC(t,e,n)}function sh(t,e,n){if(0===n.length)return new We(t.segments,{});{const r=function Qie(t){return oh(t[0])?t[0].outlets:{[Ie]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Ie)&&t.children[Ie]&&1===t.numberOfChildren&&0===t.children[Ie].segments.length){const o=sh(t.children[Ie],e,n);return new We(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=W2(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new We(t.segments,i)}}function bC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(oh(o)){const u=Zie(o.outlets);return new We(r,u)}if(0===i&&Hm(n[0])){r.push(new nh(t.segments[e].path,K2(n[0]))),i++;continue}const s=oh(o)?o.outlets[Ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Hm(a)?(r.push(new nh(s,K2(a))),i+=2):(r.push(new nh(s,{})),i++)}return new We(r,{})}function Zie(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=bC(new We([],{}),0,r))}),e}function K2(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Q2(t,e,n){return t==n.path&&mi(e,n.parameters)}const Gm="imperative";var Me=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Me||{});class _i{id;url;constructor(e,n){this.id=e,this.url=n}}class qm extends _i{type=Me.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xi extends _i{urlAfterRedirects;type=Me.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var gr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gr||{}),Wm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wm||{});class ca extends _i{reason;code;type=Me.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oc extends _i{reason;code;type=Me.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}}class DC extends _i{error;target;type=Me.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Y2 extends _i{urlAfterRedirects;state;type=Me.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jie extends _i{urlAfterRedirects;state;type=Me.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xie extends _i{urlAfterRedirects;state;shouldActivate;type=Me.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eoe extends _i{urlAfterRedirects;state;type=Me.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class toe extends _i{urlAfterRedirects;state;type=Me.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class noe{route;type=Me.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class roe{route;type=Me.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ioe{snapshot;type=Me.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ooe{snapshot;type=Me.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class soe{snapshot;type=Me.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aoe{snapshot;type=Me.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z2{routerEvent;position;anchor;type=Me.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AC{}class Km{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Yr(t){return t.outlet||Ie}function ah(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class foe{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ah(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new uh(this.rootInjector)}}let uh=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new foe(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(oe(mn))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class J2{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=SC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=SC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=RC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return RC(e,this._root).map(n=>n.value)}}function SC(t,e){if(t===e.value)return e;for(const n of e.children){const r=SC(t,n);if(r)return r}return null}function RC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=RC(t,n);if(r.length)return r.unshift(e),r}return[]}class Zr{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class X2 extends J2{snapshot;constructor(e,n){super(e),this.snapshot=n,MC(this,e)}toString(){return this.snapshot.toString()}}function eU(t){const e=function poe(t){const o=new Ym([],{},{},"",{},Ie,t,null,{});return new tU("",new Zr(o,[]))}(t),n=new Ir([new nh("",{})]),r=new Ir({}),i=new Ir({}),o=new Ir({}),s=new Ir(""),a=new ac(n,r,o,s,i,Ie,t,e.root);return a.snapshot=e.root,new X2(new Zr(a,[]),e)}class ac{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ke(c=>c[th]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(e=>ic(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(e=>ic(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qm(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&rU(i)&&(r.resolve[th]=i.title),r}class Ym{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[th]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ic(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ic(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tU extends J2{url;constructor(e,n){super(n),this.url=e,MC(this,n)}toString(){return nU(this._root)}}function MC(t,e){e.value._routerState=t,e.children.forEach(n=>MC(t,n))}function nU(t){const e=t.children.length>0?` { ${t.children.map(nU).join(", ")} } `:"";return`${t.value}${e}`}function PC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mi(e.params,n.params)||t.paramsSubject.next(n.params),function Die(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),mi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function NC(t,e){const n=mi(t.params,e.params)&&function Mie(t,e){return aa(t,e)&&t.every((n,r)=>mi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||NC(t.parent,e.parent))}function rU(t){return"string"==typeof t.title||null===t.title}const goe=new q("");let ch=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ie;activateEvents=new Vt;deactivateEvents=new Vt;attachEvents=new Vt;detachEvents=new Vt;routerOutletData=k6(void 0);parentContexts=V(uh);location=V($r);changeDetector=V(zd);inputBinder=V(Zm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new moe(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Lr]})}return t})();class moe{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===ac?this.route:e===uh?this.childContexts:e===goe?this.outletData:this.parent.get(e,n)}}const Zm=new q("");let iU=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=_C([r.queryParams,r.params,r.data]).pipe(Qr(([o,s,a],u)=>(a={...o,...s,...a},0===u?de(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function qee(t){const e=Ce(t);if(!e)return null;const n=new wd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function lh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function yoe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return lh(t,r,i);return lh(t,r)})}(t,e,n);return new Zr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>lh(t,a)),s}}const r=function voe(t){return new ac(new Ir(t.url),new Ir(t.params),new Ir(t.queryParams),new Ir(t.fragment),new Ir(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>lh(t,o));return new Zr(r,i)}}class kC{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const oU="ngNavigationCancelingError";function Jm(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ua(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sU(!1,gr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function sU(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[oU]=!0,n.cancellationCode=e,n}function aU(t){return!!t&&t[oU]}class woe{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),PC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sc(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sc(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=sc(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new aoe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ooe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(PC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),PC(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class uU{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xm{component;route;constructor(e,n){this.component=e,this.route=n}}function Toe(t,e,n){const r=t._root;return dh(r,e?e._root:null,n,[r.value])}function uc(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Wq(t){return null!==Dp(t)}(t)?e.get(t):t:r}function dh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sc(e);return t.children.forEach(s=>{(function boe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Doe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!aa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!aa(t.url,e.url)||!mi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!NC(t,e)||!mi(t.queryParams,e.queryParams);default:return!NC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),dh(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xm(a.outlet.component,s))}else s&&hh(e,a,i),i.canActivateChecks.push(new uU(r)),dh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hh(a,n.getContext(s),i)),i}function hh(t,e,n){const r=sc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{hh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Xm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fh(t){return"function"==typeof t}function cU(t){return t instanceof Om||"EmptyError"===t?.name}const e_=Symbol("INITIAL_VALUE");function cc(){return Qr(t=>_C(t.map(e=>e.pipe(tc(1),function pie(...t){const e=xm(t);return sn((n,r)=>{(e?yC(t,n,e):yC(t,n)).subscribe(r)})}(e_)))).pipe(ke(e=>{for(const n of e)if(!0!==n){if(n===e_)return e_;if(!1===n||koe(n))return n}return!0}),Ji(e=>e!==e_),tc(1)))}function koe(t){return ua(t)||t instanceof kC}function lU(t){return function Vq(...t){return ZM(t)}(Un(e=>{if("boolean"!=typeof e)throw Jm(0,e)}),ke(e=>!0===e))}class xC{segmentGroup;constructor(e){this.segmentGroup=e||null}}class OC extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function lc(t){return Vm(new xC(t))}class qoe{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[Ie])return Vm(new B(4e3,!1));i=i.children[Ie]}}applyRedirectCommands(e,n,r,i,o){if("string"!=typeof n){const a=n,{queryParams:u,fragment:c,routeConfig:d,url:h,outlet:f,params:g,data:_,title:v}=i,I=Mn(o,()=>a({params:g,data:_,queryParams:u,fragment:c,routeConfig:d,url:h,outlet:f,title:v}));if(I instanceof sa)throw new OC(I);n=I}const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if("/"===n[0])throw new OC(s);return s}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new sa(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new We(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const VC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Woe(t,e,n,r,i){const o=dU(t,e,n);return o.matched?(r=function uoe(t,e){return t.providers&&!t._injector&&(t._injector=$g(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Hoe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(s=>{const a=uc(s,t);return $o(function Noe(t){return t&&fh(t.canMatch)}(a)?a.canMatch(e,n):Mn(t,()=>a(e,n)))})).pipe(cc(),lU()):de(!0)}(r,e,n).pipe(ke(s=>!0===s?o:{...VC}))):de(o)}function dU(t,e,n){if("**"===e.path)return function Koe(t){return{matched:!0,parameters:t.length>0?N2(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...VC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bie)(n,t,e);if(!i)return{...VC};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hU(t,e,n,r){return n.length>0&&function Zoe(t,e,n){return n.some(r=>t_(t,e,r)&&Yr(r)!==Ie)}(t,n,r)?{segmentGroup:new We(e,Yoe(r,new We(n,t.children))),slicedSegments:[]}:0===n.length&&function Joe(t,e,n){return n.some(r=>t_(t,e,r))}(t,n,r)?{segmentGroup:new We(t.segments,Qoe(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new We(t.segments,t.children),slicedSegments:n}}function Qoe(t,e,n,r){const i={};for(const o of n)if(t_(t,e,o)&&!r[Yr(o)]){const s=new We([],{});i[Yr(o)]=s}return{...r,...i}}function Yoe(t,e){const n={};n[Ie]=e;for(const r of t)if(""===r.path&&Yr(r)!==Ie){const i=new We([],{});n[Yr(r)]=i}return n}function t_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class ese{}class rse{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qoe(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){const e=hU(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ke(({children:n,rootSnapshot:r})=>{const i=new Zr(r,n),o=new tU("",i),s=function Gie(t,e,n=null,r=null){return z2(H2(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new Ym([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ie,n).pipe(ke(r=>({children:r,rootSnapshot:n})),rc(r=>{if(r instanceof OC)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xC?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ke(s=>s instanceof Zr?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Kt(o).pipe(nc(s=>{const a=r.children[s],u=function hoe(t,e){const n=t.filter(r=>Yr(r)===e);return n.push(...t.filter(r=>Yr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,u,a,s,i)}),function _ie(t,e){return sn(function mie(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Ht(s,d=>{const h=c++;u=a?t(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Fm(null),function yie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ji((i,o)=>t(i,o,r)):As,IC(1),n?Fm(e):S2(()=>new Om))}(),In(s=>{if(null===s)return lc(r);const a=fU(s);return function ise(t){t.sort((e,n)=>e.value.outlet===Ie?-1:n.value.outlet===Ie?1:e.value.outlet.localeCompare(n.value.outlet))}(a),de(a)}))}processSegment(e,n,r,i,o,s,a){return Kt(n).pipe(nc(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(rc(c=>{if(c instanceof xC)return de(null);throw c}))),oa(u=>!!u),rc(u=>{if(cU(u))return function Xoe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?de(new ese):lc(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Yr(r)===s||s!==Ie&&t_(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):lc(i):lc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:u,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=dU(n,i,o);if(!u)return lc(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new Ym(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pU(i),Yr(i),i.component??i._loadedComponent??null,i,gU(i)),_=Qm(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);const v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(In(I=>this.processSegment(e,r,n,I.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=Woe(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(Qr(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Qr(({routes:c})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=u,_=new Ym(f,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pU(r),Yr(r),r.component??r._loadedComponent??null,r,gU(r)),v=Qm(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:I,slicedSegments:b}=hU(n,f,g,c);if(0===b.length&&I.hasChildren())return this.processChildren(d,c,I,_).pipe(ke(O=>new Zr(_,O)));if(0===c.length&&0===b.length)return de(new Zr(_,[]));const A=Yr(r)===o;return this.processSegment(d,c,I,b,A?Ie:o,!0,_).pipe(ke(O=>new Zr(_,O instanceof Zr?[O]:[])))})):lc(n)))}getChildConfig(e,n,r){return n.children?de({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?de({routes:n._loadedRoutes,injector:n._loadedInjector}):function $oe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(s=>{const a=uc(s,t);return $o(function Soe(t){return t&&fh(t.canLoad)}(a)?a.canLoad(e,n):Mn(t,()=>a(e,n)))})).pipe(cc(),lU())}(e,n,r).pipe(In(i=>i?this.configLoader.loadChildren(e,n).pipe(Un(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Goe(){return Vm(sU(!1,gr.GuardRejected))}())):de({routes:[],injector:e})}}function ose(t){const e=t.value.routeConfig;return e&&""===e.path}function fU(t){const e=[],n=new Set;for(const r of t){if(!ose(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=fU(r.children);e.push(new Zr(r.value,i))}return e.filter(r=>!n.has(r))}function pU(t){return t.data||{}}function gU(t){return t.resolve||{}}function mU(t){const e=t.children.map(n=>mU(n)).flat();return[t,...e]}function FC(t){return Qr(e=>{const n=t(e);return n?Kt(n).pipe(ke(()=>e)):de(e)})}let _U=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ie);return r}getResolvedTitleForRoute(n){return n.data[th]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>V(dse),providedIn:"root"})}return t})(),dse=(()=>{class t extends _U{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(oe(Iie))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ph=new q("",{providedIn:"root",factory:()=>({})});let yU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Hr({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&be(0,"router-outlet")},dependencies:[ch],encapsulation:2})}return t})();function LC(t){const e=t.children&&t.children.map(LC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ie&&(n.component=yU),n}const gh=new q("");let UC=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(RF);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return de(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=$o(n.loadComponent()).pipe(ke(vU),Un(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Xd(()=>{this.componentLoaders.delete(n)})),i=new A2(r,()=>new zn).pipe(vC());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function hse(t,e,n,r){return $o(t.loadChildren()).pipe(ke(vU),In(i=>i instanceof jO||Array.isArray(i)?de(i):Kt(e.compileModuleAsync(i))),ke(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(gh,[],{optional:!0,self:!0}).flat()),{routes:s.map(LC),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Xd(()=>{this.childrenLoaders.delete(r)})),s=new A2(o,()=>new zn).pipe(vC());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vU(t){return function fse(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let BC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>V(pse),providedIn:"root"})}return t})(),pse=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const IU=new q(""),EU=new q("");function gse(t,e,n){const r=t.get(EU),i=t.get(fr);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function mse(t){return new Promise(e=>{vE({read:()=>setTimeout(e)},{injector:t})})}(t))),{onViewTransitionCreated:u}=r;return u&&Mn(t,()=>u({transition:a,from:e,to:n})),s})}const wU=new q("");let jC=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new zn;transitionAbortSubject=new zn;configLoader=V(UC);environmentInjector=V(mn);destroyRef=V(Li);urlSerializer=V(rh);rootContexts=V(uh);location=V(qd);inputBindingEnabled=null!==V(Zm,{optional:!0});titleStrategy=V(_U);options=V(ph,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(BC);createViewTransition=V(IU,{optional:!0});navigationErrorHandler=V(wU,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new roe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new noe(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(n){return this.transitions=new Ir(null),this.transitions.pipe(Ji(r=>null!==r),Qr(r=>{let i=!1,o=!1;return de(r).pipe(Qr(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",gr.SupersededByNewNavigation),Kr;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!a&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new oc(s.id,this.urlSerializer.serialize(s.rawUrl),c,Wm.IgnoredSameUrlNavigation)),s.resolve(!1),Kr}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return de(s).pipe(Qr(c=>(this.events.next(new qm(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Kr:Promise.resolve(c))),function sse(t,e,n,r,i,o){return In(s=>function tse(t,e,n,r,i,o,s="emptyOnly"){return new rse(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ke(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Un(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects};const d=new Y2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:g}=s,_=new qm(c,this.urlSerializer.serialize(d),h,f);this.events.next(_);const v=eU(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:v,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,de(r)}{const c="";return this.events.next(new oc(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Wm.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Kr}}),Un(s=>{const a=new Jie(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ke(s=>(this.currentTransition=r={...s,guards:Toe(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function xoe(t,e){return In(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?de({...n,guardsResult:!0}):function Ooe(t,e,n,r){return Kt(t).pipe(In(i=>function joe(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?de(o.map(a=>{const u=ah(e)??i,c=uc(a,u);return $o(function Poe(t){return t&&fh(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):Mn(u,()=>c(t,e,n,r))).pipe(oa())})).pipe(cc()):de(!0)}(i.component,i.route,n,e,r)),oa(i=>!0!==i,!0))}(s,r,i,t).pipe(In(a=>a&&function Aoe(t){return"boolean"==typeof t}(a)?function Voe(t,e,n,r){return Kt(e).pipe(nc(i=>yC(function Loe(t,e){return null!==t&&e&&e(new ioe(t)),de(!0)}(i.route.parent,r),function Foe(t,e){return null!==t&&e&&e(new soe(t)),de(!0)}(i.route,r),function Boe(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Coe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>D2(()=>de(s.guards.map(u=>{const c=ah(s.node)??n,d=uc(u,c);return $o(function Moe(t){return t&&fh(t.canActivateChild)}(d)?d.canActivateChild(r,t):Mn(c,()=>d(r,t))).pipe(oa())})).pipe(cc())));return de(o).pipe(cc())}(t,i.path,n),function Uoe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(o=>D2(()=>{const s=ah(e)??n,a=uc(o,s);return $o(function Roe(t){return t&&fh(t.canActivate)}(a)?a.canActivate(e,t):Mn(s,()=>a(e,t))).pipe(oa())}));return de(i).pipe(cc())}(t,i.route,n))),oa(i=>!0!==i,!0))}(r,o,t,e):de(a)),ke(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Un(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw Jm(0,s.guardsResult);const a=new Xie(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ji(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",gr.GuardRejected),!1)),FC(s=>{if(0!==s.guards.canActivateChecks.length)return de(s).pipe(Un(a=>{const u=new eoe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Qr(a=>{let u=!1;return de(a).pipe(function ase(t,e){return In(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of mU(u))s.add(c);let a=0;return Kt(s).pipe(nc(u=>o.has(u)?function use(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!rU(i)&&(o[th]=i.title),function cse(t,e,n,r){const i=EC(t);if(0===i.length)return de({});const o={};return Kt(i).pipe(In(s=>function lse(t,e,n,r){const i=ah(e)??r,o=uc(t,i);return $o(o.resolve?o.resolve(e,n):Mn(i,()=>o(e,n)))}(t[s],e,n,r).pipe(oa(),Un(a=>{if(a instanceof kC)throw Jm(new Um,a);o[s]=a}))),IC(1),ke(()=>o),rc(s=>cU(s)?Kr:Vm(s)))}(o,t,e,r).pipe(ke(s=>(t._resolvedData=s,t.data=Qm(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=Qm(u,u.parent,t).resolve,de(void 0))),Un(()=>a++),IC(1),In(u=>a===s.size?de(n):Kr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",gr.NoDataFromResolver)}}))}),Un(a=>{const u=new toe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),FC(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Un(d=>{u.component=d}),ke(()=>{})));for(const d of u.children)c.push(...a(d));return c};return _C(a(s.targetSnapshot.root)).pipe(Fm(null),tc(1))}),FC(()=>this.afterPreactivation()),Qr(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Kt(u).pipe(ke(()=>r)):de(r)}),ke(s=>{const a=function _oe(t,e,n){const r=lh(t,e._root,n?n._root:void 0);return new X2(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.targetRouterState=a,r}),Un(()=>{this.events.next(new AC)}),((t,e,n,r)=>ke(i=>(new woe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),tc(1),Un({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),function vie(t){return sn((e,n)=>{gi(t).subscribe(Ht(n,()=>n.complete(),Bv)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Un(s=>{throw s}))),Xd(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",gr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),rc(s=>{if(this.destroyed)return r.resolve(!1),Kr;if(o=!0,aU(s))this.events.next(new ca(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function Ioe(t){return aU(t)&&ua(t.url)}(s)?this.events.next(new Km(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new DC(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const u=Mn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(u instanceof kC))throw this.events.next(a),s;{const{message:c,cancellationCode:d}=Jm(0,u);this.events.next(new ca(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new Km(u.redirectTo,u.navigationBehaviorOptions))}}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Kr}))}))}cancelNavigationTransition(n,r,i){const o=new ca(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _se(t){return t!==Gm}let yse=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>V(Ise),providedIn:"root"})}return t})();class vse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Ise=(()=>{class t extends vse{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TU=(()=>{class t{urlSerializer=V(rh);options=V(ph,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(qd);urlHandlingStrategy=V(BC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new sa;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof sa?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=eU(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:()=>V(Ese),providedIn:"root"})}return t})(),Ese=(()=>{class t extends TU{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof qm?this.updateStateMemento():n instanceof oc?this.commitTransition(r):n instanceof Y2?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof AC?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ca&&(n.code===gr.GuardRejected||n.code===gr.NoDataFromResolver)?this.restoreHistory(r):n instanceof DC?this.restoreHistory(r,!0):n instanceof Xi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,u={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",u)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function CU(t,e){t.events.pipe(Ji(n=>n instanceof Xi||n instanceof ca||n instanceof DC||n instanceof oc),ke(n=>n instanceof Xi||n instanceof oc?0:n instanceof ca&&(n.code===gr.Redirect||n.code===gr.SupersededByNewNavigation)?2:1),Ji(n=>2!==n),tc(1)).subscribe(()=>{e()})}const wse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(Gw);stateManager=V(TU);options=V(ph,{optional:!0})||{};pendingTasks=V(si);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(jC);urlSerializer=V(rh);location=V(qd);urlHandlingStrategy=V(BC);_events=new zn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(yse);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(gh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(Zm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new gn;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof ca&&r.code!==gr.Redirect&&r.code!==gr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xi)this.navigated=!0;else if(r instanceof Km){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||_se(i.source),...s};this.scheduleNavigation(a,Gm,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function bse(t){return!(t instanceof AC||t instanceof Km)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(LC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=H2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return z2(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ua(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gm,null,r)}navigate(n,r={skipLocationChange:!1}){return function Cse(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new B(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...wse}:!1===r?{...Tse}:r,ua(n))return x2(this.currentUrlTree,n,i);const o=this.parseUrl(n);return x2(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,u=f});const d=this.pendingTasks.add();return CU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dc=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new zn;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ua(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function Qk(t,e,n){return function _5(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Kk:UE}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.routerLinkInput?null:ua(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(z(tr),z(ac),function jl(t){return function c6(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(nN(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Ee(),t)}("tabindex"),z(zi),z(dr),z(ia))};static \u0275dir=pe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&bt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&hi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xu],replaceUrl:[2,"replaceUrl","replaceUrl",Xu],routerLink:"routerLink"},features:[Lr]})}return t})(),bU=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Vt;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Xi&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(Jd()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Kt(n).pipe(Jd()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function Dse(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{const o=i.urlTree;return!!o&&n.isActive(o,r)}}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(z(tr),z(dr),z(zi),z(zd),z(dc,8))};static \u0275dir=pe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function VV(t,e,n,r){SO(t,e,n,r)}(o,dc,5),2&r){let s;(function FV(t){const e=x(),n=le(),r=kI();Kp(r+1);const i=Ow(n,r);if(t.dirty&&function VW(t){return!(4&~t[2])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const o=MO(e,r);t.reset(o,PN),t.notifyOnChanges()}return!0}return!1})(s=function LV(){return function xw(t,e){return t[18].queries[e].queryList}(x(),kI())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Lr]})}return t})();class DU{}let Ase=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ji(n=>n instanceof Xi),nc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=$g(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Kt(i).pipe(Jd())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):de(null);const o=i.pipe(In(s=>null===s?de(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Kt([o,this.loader.loadComponent(r)]).pipe(Jd()):o})}static \u0275fac=function(r){return new(r||t)(oe(tr),oe(RF),oe(mn),oe(DU),oe(UC))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $C=new q("");let AU=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Xi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof oc&&n.code===Wm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Z2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Z2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function lO(){throw new Error("invalid")}()};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function SU(t){return t.routerState.root}function yi(t,e){return{\u0275kind:t,\u0275providers:e}}function RU(){const t=V(mt);return e=>{const n=t.get(hr);if(e!==n.components[0])return;const r=t.get(tr),i=t.get(MU);1===t.get(HC)&&r.initialNavigation(),t.get(PU,null,Te.Optional)?.setUpPreloading(),t.get($C,null,Te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const MU=new q("",{factory:()=>new zn}),HC=new q("",{providedIn:"root",factory:()=>1}),PU=new q("");function Nse(t){return yi(0,[{provide:PU,useExisting:Ase},{provide:DU,useExisting:t}])}function xse(t){return Zn("NgRouterViewTransitions"),yi(9,[{provide:IU,useValue:gse},{provide:EU,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Ose=[qd,{provide:rh,useClass:Um},tr,uh,{provide:ac,useFactory:SU,deps:[tr]},UC,[]];let NU=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[Ose,[],{provide:gh,multi:!0,useValue:n},[],r?.errorHandler?{provide:wU,useValue:r.errorHandler}:[],{provide:ph,useValue:r||{}},r?.useHash?{provide:ia,useClass:ine}:{provide:ia,useClass:yL},{provide:$C,useFactory:()=>{const t=V(Ste),e=V(we),n=V(ph),r=V(jC),i=V(rh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new AU(i,r,t,e,n)}},r?.preloadingStrategy?Nse(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Use(r):[],r?.bindToComponentInputs?yi(8,[iU,{provide:Zm,useExisting:iU}]).\u0275providers:[],r?.enableViewTransitions?xse().\u0275providers:[],[{provide:kU,useFactory:RU},{provide:Lu,multi:!0,useExisting:kU}]]}}static forChild(n){return{ngModule:t,providers:[{provide:gh,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Js({type:t});static \u0275inj=To({})}return t})();function Use(t){return["disabled"===t.initialNavigation?yi(3,[f1(()=>{V(tr).setUpLocationChangeListener()}),{provide:HC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?yi(2,[{provide:HC,useValue:0},f1(()=>{const e=V(mt);return e.get(Qee,Promise.resolve()).then(()=>new Promise(r=>{const i=e.get(tr),o=e.get(MU);CU(i,()=>{r(!0)}),e.get(jC).afterPreactivation=()=>(r(!0),o.closed?de(void 0):o),i.initialNavigation()}))})]).\u0275providers:[]]}const kU=new q(""),xU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},GC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let f=(15&a)<<2|c>>6,g=63&c;u||(g=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new Gse;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n_=function(t){return function(t){const e=xU(t);return GC.encodeByteArray(e,!0)}(t).replace(/\./g,"")},mh=function(t){try{return GC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},r_=()=>{try{return function Kse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},VU=t=>{var e,n;return null===(n=null===(e=r_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},FU=()=>{var t;return null===(t=r_())||void 0===t?void 0:t.config},LU=t=>{var e;return null===(e=r_())||void 0===e?void 0:e[`_${t}`]};class i_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qC(){try{return"object"==typeof indexedDB}catch{return!1}}class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function cae(t,e){return t.replace(lae,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new eo(i,`${this.serviceName}: ${s} (${i}).`,r)}}const lae=/\{\$([^}]+)}/g;function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(jU(o)&&jU(s)){if(!to(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jU(t){return null!==t&&"object"==typeof t}function _h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class fae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function pae(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=WC),void 0===i.error&&(i.error=WC),void 0===i.complete&&(i.complete=WC);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WC(){}function Qt(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class Iae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function wae(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===la?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Iae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const QC=[];var Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{});const $U={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Cae=Ae.INFO,bae={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Dae=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=bae[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class s_{constructor(e){this.name=e,this._logLevel=Cae,this._logHandler=Dae,this._userLogHandler=null,QC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}let HU,zU;const GU=new WeakMap,YC=new WeakMap,qU=new WeakMap,ZC=new WeakMap,JC=new WeakMap;let XC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return YC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xae(t){return"function"==typeof t?function kae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rae(){return zU||(zU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eb(this),e),Ho(GU.get(this))}:function(...e){return Ho(t.apply(eb(this),e))}:function(e,...n){const r=t.call(eb(this),e,...n);return qU.set(r,e.sort?e.sort():[e]),Ho(r)}}(t):(t instanceof IDBTransaction&&function Pae(t){if(YC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});YC.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Sae(){return HU||(HU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,XC):t)}function Ho(t){if(t instanceof IDBRequest)return function Mae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ho(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&GU.set(n,t)}).catch(()=>{}),JC.set(e,t),e}(t);if(ZC.has(t))return ZC.get(t);const e=xae(t);return e!==t&&(ZC.set(t,e),JC.set(e,t)),e}const eb=t=>JC.get(t),Vae=["get","getKey","getAll","getAllKeys","count"],Fae=["put","add","delete","clear"],tb=new Map;function WU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tb.get(e))return tb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vae.includes(n))return;const o=function(){var s=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return tb.set(e,o),o}!function Nae(t){XC=t(XC)}(t=>({...t,get:(e,n,r)=>WU(e,n)||t.get(e,n,r),has:(e,n)=>!!WU(e,n)||t.has(e,n)}));class Lae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Uae(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const a_="@firebase/app",ro=new s_("@firebase/app"),Bae="@firebase/app-compat",jae="@firebase/analytics-compat",$ae="@firebase/analytics",Hae="@firebase/app-check-compat",zae="@firebase/app-check",Gae="@firebase/auth",qae="@firebase/auth-compat",Wae="@firebase/database",Kae="@firebase/data-connect",Qae="@firebase/database-compat",Yae="@firebase/functions",Zae="@firebase/functions-compat",Jae="@firebase/installations",Xae="@firebase/installations-compat",eue="@firebase/messaging",tue="@firebase/messaging-compat",nue="@firebase/performance",rue="@firebase/performance-compat",iue="@firebase/remote-config",oue="@firebase/remote-config-compat",sue="@firebase/storage",aue="@firebase/storage-compat",uue="@firebase/firestore",cue="@firebase/vertexai",lue="@firebase/firestore-compat",due="firebase",u_="[DEFAULT]",fue={[a_]:"fire-core",[Bae]:"fire-core-compat",[$ae]:"fire-analytics",[jae]:"fire-analytics-compat",[zae]:"fire-app-check",[Hae]:"fire-app-check-compat",[Gae]:"fire-auth",[qae]:"fire-auth-compat",[Wae]:"fire-rtdb",[Kae]:"fire-data-connect",[Qae]:"fire-rtdb-compat",[Yae]:"fire-fn",[Zae]:"fire-fn-compat",[Jae]:"fire-iid",[Xae]:"fire-iid-compat",[eue]:"fire-fcm",[tue]:"fire-fcm-compat",[nue]:"fire-perf",[rue]:"fire-perf-compat",[iue]:"fire-rc",[oue]:"fire-rc-compat",[sue]:"fire-gcs",[aue]:"fire-gcs-compat",[uue]:"fire-fst",[lue]:"fire-fst-compat",[cue]:"fire-vertex","fire-js":"fire-js",[due]:"fire-js-all"},da=new Map,Ih=new Map,Eh=new Map;function KU(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(Eh.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,t);for(const n of da.values())KU(n,t);for(const n of Ih.values())KU(n,t);return!0}function c_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return null!=t&&void 0!==t.settings}const Pr=new hc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class QU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const fc="11.6.0";function ZU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:u_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(n||(n=FU()),!n)throw Pr.create("no-options");const o=da.get(i);if(o){if(to(n,o.options)&&to(r,o.config))return o;throw Pr.create("duplicate-app",{appName:i})}const s=new Tae(i);for(const u of Eh.values())s.addComponent(u);const a=new QU(n,r,s);return da.set(i,a),a}function rb(t=u_){const e=da.get(t);if(!e&&t===u_&&FU())return ZU();if(!e)throw Pr.create("no-app",{appName:t});return e}function JU(){return Array.from(da.values())}function Bn(t,e,n){var r;let i=null!==(r=fue[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ro.warn(a.join(" "))}zo(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const wh="firebase-heartbeat-store";let ob=null;function XU(){return ob||(ob=function Oae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ho(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ho(s.result),u.oldVersion,u.newVersion,Ho(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(wh)}catch(n){console.warn(n)}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),ob}function sb(){return(sb=E(function*(t){try{const n=(yield XU()).transaction(wh),r=yield n.objectStore(wh).get(tB(t));return yield n.done,r}catch(e){if(e instanceof eo)ro.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e?.message});ro.warn(n.message)}}})).apply(this,arguments)}function eB(t,e){return ab.apply(this,arguments)}function ab(){return(ab=E(function*(t,e){try{const r=(yield XU()).transaction(wh,"readwrite");yield r.objectStore(wh).put(e,tB(t)),yield r.done}catch(n){if(n instanceof eo)ro.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n?.message});ro.warn(r.message)}}})).apply(this,arguments)}function tB(t){return`${t.name}!${t.options.appId}`}class Tue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nB();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats.length>30){const a=function Due(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(a,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){ro.warn(i)}})()}getHeartbeatsHeader(){var e=this;return E(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=nB(),{heartbeatsToSend:i,unsentEntries:o}=function Cue(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rB(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=n_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return ro.warn(r),""}})()}}function nB(){return(new Date).toISOString().substring(0,10)}class bue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!qC()&&function aae(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Iue(t){return sb.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function rB(t){return n_(JSON.stringify({version:2,heartbeats:t})).length}!function Aue(t){zo(new no("platform-logger",e=>new Lae(e),"PRIVATE")),zo(new no("heartbeat",e=>new Tue(e),"PRIVATE")),Bn(a_,"0.11.4",t),Bn(a_,"0.11.4","esm2017"),Bn("fire-js","")}(""),Bn("firebase","11.6.0","app");class xue extends gn{constructor(e,n){super()}schedule(e,n=0){return this}}const l_={setInterval(t,e,...n){const{delegate:r}=l_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=l_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class aB extends xue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return l_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&l_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ip(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const uB={now:()=>(uB.delegate||Date).now(),delegate:void 0};class Th{constructor(e,n=Th.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Th.now=uB.now;class cB extends Th{constructor(e,n=Th.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Fue=new class Vue extends cB{}(class Oue extends aB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Lue=new cB(aB),d_=new jd("ANGULARFIRE2_VERSION");function ub(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const cb=(t,e)=>{const n=e?[e]:JU(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};var pc=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(pc||{}),lb=UF()&&typeof Zone<"u"?pc.WARN:pc.SILENT;class lB{zone;delegate;constructor(e,n=Fue){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])},n,r)}}let h_=(()=>{class t{outsideAngular;insideAngular;constructor(){const n=V(we);this.outsideAngular=n.runOutsideAngular(()=>new lB(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new lB(typeof Zone>"u"?void 0:Zone.current,Lue))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dB=!1;function ha(t){const e=V(we,{optional:!0});return e?e.run(()=>t()):t()}const jue=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Mn(n,()=>ha(()=>t.apply(void 0,r)))),vi=(t,e,n)=>(n||=e?pc.WARN:pc.VERBOSE,function(){let r;const i=arguments;let o,s,a;try{o=V(h_),s=V(QI),a=V(mn)}catch{return function Uue(t,e){!dB&&(lb>pc.SILENT||!1)&&(dB=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),lb>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}(t,n),t.apply(this,i)}for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(r||=ha(()=>s.add())),i[c]=jue(i[c],r,a));const u=function Bue(t){const e=V(we,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}(()=>t.apply(this,i));return e?u instanceof at?u.pipe(km(o.outsideAngular),Nm(o.insideAngular),function sB(t){void 0===t&&(xs(),t=V(mt));const e=t.get(QI);return n=>new at(r=>{const i=e.add();let o=!1;function s(){o||(i(),o=!0)}const a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}(a)):u instanceof Promise?ha(()=>new Promise((c,d)=>{s.run(()=>u).then(h=>Mn(a,()=>ha(()=>c(h))),h=>Mn(a,()=>ha(()=>d(h))))})):"function"==typeof u&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ha(()=>u):u instanceof at?u.pipe(km(o.outsideAngular),Nm(o.insideAngular)):ha(()=>u)});class gc{constructor(e){return e}}class db{constructor(){return JU()}}const hb=new q("angularfire2._apps"),Hue={provide:gc,useFactory:function $ue(t){return t&&1===t.length?t[0]:new gc(rb())},deps:[[new Wn,hb]]},zue={provide:db,deps:[[new Wn,hb]]};function Gue(t){return(e,n)=>{const r=n.get(Ao);Bn("angularfire",d_.full,"core"),Bn("angularfire",d_.full,"app"),Bn("angular",DX.full,r.toString());const i=e.runOutsideAngular(()=>t(n));return new gc(i)}}const Wue=vi(ZU,!0),fb=new Map,hB={activated:!1,tokenObservers:[]},Kue={initialized:!1,enabled:!1};function Dt(t){return fb.get(t)||Object.assign({},hB)}function f_(){return Kue}class ece{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return E(function*(){n.stop();try{n.pending=new i_,n.pending.promise.catch(r=>{}),yield function tce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new i_,n.pending.promise.catch(r=>{}),yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const ln=new hc("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function gb(t){if(!Dt(t).activated)throw ln.create("use-before-activation",{appName:t.name})}function m_(t,e){return _b.apply(this,arguments)}function _b(){return(_b=E(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(h){throw ln.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw ln.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw ln.create("fetch-parse-error",{originalErrorMessage:h?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ln.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+c,issuedAtTimeMillis:d}})).apply(this,arguments)}function pB(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ch="firebase-app-check-store";let __=null;function yb(){return(yb=E(function*(t,e){const r=(yield function mB(){return __||(__=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ln.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ch,{keyPath:"compositeKey"})}}catch(n){e(ln.create("storage-open",{originalErrorMessage:n?.message}))}}),__)}()).transaction(Ch,"readwrite"),o=r.objectStore(Ch).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(ln.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const fa=new s_("@firebase/app-check");function Eb(t,e){return qC()?function uce(t,e){return function _B(t,e){return yb.apply(this,arguments)}(function vB(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{fa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Tb(){return f_().enabled}function Cb(){return bb.apply(this,arguments)}function bb(){return(bb=E(function*(){const t=f_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pce={error:"UNKNOWN_ERROR"};function gce(t){return GC.encodeString(JSON.stringify(t),!1)}function y_(t){return Db.apply(this,arguments)}function Db(){return(Db=E(function*(t,e=!1,n=!1){const r=t.app;gb(r);const i=Dt(r);let s,o=i.token;if(o&&!mc(o)&&(i.token=void 0,o=void 0),!o){const c=yield i.cachedTokenPromise;c&&(mc(c)?o=c:yield Eb(r,void 0))}if(!e&&o&&mc(o))return{token:o.token};let u,a=!1;if(Tb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=m_(pB(r,yield Cb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield Eb(r,c),i.token=c,{token:c.token}}catch(c){return"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?fa.warn(c.message):n&&fa.error(c),Mb(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Dt(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?fa.warn(c.message):n&&fa.error(c),s=c}return o?s?u=mc(o)?{token:o.token,internalError:s}:Mb(s):(u={token:o.token},i.token=o,yield Eb(r,o)):u=Mb(s),a&&function wB(t,e){const n=Dt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function Ab(){return(Ab=E(function*(t){const e=t.app;gb(e);const{provider:n}=Dt(e);if(Tb()){const r=yield Cb(),{token:i}=yield m_(pB(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Rb(t,e){const n=Dt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function EB(t){const{app:e}=t,n=Dt(e);let r=n.tokenRefresher;r||(r=function mce(t){const{app:e}=t;return new ece(E(function*(){let r;if(r=Dt(e).token?yield y_(t,!0):yield y_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function mc(t){return t.expireTimeMillis-Date.now()>0}function Mb(t){return{token:gce(pce),error:t}}class _ce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Dt(this.app);for(const n of e)Rb(this.app,n.next);return Promise.resolve()}}const MB="app-check-internal";!function Pce(){zo(new no("app-check",t=>function yce(t,e){return new _ce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(MB).initialize()})),zo(new no(MB,t=>function vce(t){return{getToken:e=>y_(t,e),getLimitedUseToken:()=>function IB(t){return Ab.apply(this,arguments)}(t),addTokenListener:e=>function Sb(t,e,n,r){const{app:i}=t,o=Dt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&mc(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),EB(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>EB(t))}(t,"INTERNAL",e),removeTokenListener:e=>Rb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Bn("@firebase/app-check","0.8.13")}();class xb{constructor(){return cb("app-check")}}typeof window<"u"&&window;const Fce=function NB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kB=new hc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),I_=new s_("@firebase/auth");function E_(t,...e){I_.logLevel<=Ae.ERROR&&I_.error(`Auth (${fc}): ${t}`,...e)}function nr(t,...e){throw Fb(t,...e)}function Nr(t,...e){return Fb(t,...e)}function Vb(t,e,n){const r=Object.assign(Object.assign({},Fce()),{[e]:n});return new hc("auth","Firebase",r).create(e,{appName:t.name})}function en(t){return Vb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fb(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kB.create(t,...e)}function K(t,e,...n){if(!t)throw Fb(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw E_(e),new Error(e)}function Go(t,e){t||Ii(e)}function bh(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function xB(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Uce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Lb(){return"http:"===xB()||"https:"===xB()}()||function iae(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Go(n>e,"Short delay should be less than long delay!"),this.isMobile=function eae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}()||function oae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Uce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ub(t,e){Go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$ce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hce=new Dh(3e4,6e4);function rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function it(t,e,n,r){return Bb.apply(this,arguments)}function Bb(){return(Bb=E(function*(t,e,n,r,i={}){return VB(t,i,E(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=_h(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return function rae(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),OB.fetch()(yield FB(t,t.config.apiHost,n,a),c)}))})).apply(this,arguments)}function VB(t,e,n){return jb.apply(this,arguments)}function jb(){return(jb=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jce),e);try{const i=new Gce(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Ah(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ah(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Ah(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Ah(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Vb(t,d,c);nr(t,d)}}catch(i){if(i instanceof eo)throw i;nr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function io(t,e,n,r){return $b.apply(this,arguments)}function $b(){return($b=E(function*(t,e,n,r,i={}){const o=yield it(t,e,n,r,i);return"mfaPendingCredential"in o&&nr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function FB(t,e,n,r){return Hb.apply(this,arguments)}function Hb(){return(Hb=E(function*(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Ub(t.config,i):`${t.config.apiScheme}://${i}`;return $ce.includes(n)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(s).toString():s})).apply(this,arguments)}function zce(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),Hce.get())})}}function Ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}function UB(t){return void 0!==t&&void 0!==t.enterprise}class BB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zce(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function Gb(){return(Gb=E(function*(t,e){return it(t,"GET","/v2/recaptchaConfig",rt(t,e))})).apply(this,arguments)}function qb(){return(qb=E(function*(t,e){return it(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function w_(t,e){return Kb.apply(this,arguments)}function Kb(){return(Kb=E(function*(t,e){return it(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Sh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qb(){return(Qb=E(function*(t,e=!1){const n=Qt(t),r=yield n.getIdToken(e),i=T_(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Sh(Yb(i.auth_time)),issuedAtTime:Sh(Yb(i.iat)),expirationTime:Sh(Yb(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Yb(t){return 1e3*Number(t)}function T_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return E_("JWT malformed, contained fewer than 3 sections"),null;try{const i=mh(n);return i?JSON.parse(i):(E_("Failed to decode base64 JWT payload"),null)}catch(i){return E_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $B(t){const e=T_(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function oo(t,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof eo&&function Yce({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Zce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class Jb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sh(this.lastLoginAt),this.creationTime=Sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rh(t){return Xb.apply(this,arguments)}function Xb(){return(Xb=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield oo(t,w_(n,{idToken:r}));K(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?HB(o.providerUserInfo):[],a=function Xce(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),d=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jb(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})).apply(this,arguments)}function eD(){return(eD=E(function*(t){const e=Qt(t);yield Rh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function HB(t){return t.map(e=>{var{providerId:n}=e,r=Pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tD(){return(tD=E(function*(t,e){const n=yield VB(t,{},E(function*(){const r=_h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield FB(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OB.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function nD(){return(nD=E(function*(t,e){return it(t,"POST","/v2/accounts:revokeToken",rt(t,e))})).apply(this,arguments)}class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$B(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(0!==e.length,"internal-error");const n=$B(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var r=this;return E(function*(){return n||!r.accessToken||r.isExpired?(K(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ele(t,e){return tD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new yc;return r&&(K("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(K("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(K("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return Ii("not implemented")}}function qo(t,e){K("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jb(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield oo(n,n.stsTokenManager.getToken(n.auth,e));return K(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Qce(t){return Qb.apply(this,arguments)}(this,e)}reload(){return function Jce(t){return eD.apply(this,arguments)}(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Rh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){if(Mr(e.auth.app))return Promise.reject(en(e.auth));const n=yield e.getIdToken();return yield oo(e,function Wce(t,e){return qb.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,I=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,b=null!==(c=n.createdAt)&&void 0!==c?c:void 0,A=null!==(d=n.lastLoginAt)&&void 0!==d?d:void 0,{uid:O,emailVerified:W,isAnonymous:Z,providerData:re,stsTokenManager:D}=n;K(O&&D,e,"internal-error");const w=yc.fromJSON(this.name,D);K("string"==typeof O,e,"internal-error"),qo(h,e.name),qo(f,e.name),K("boolean"==typeof W,e,"internal-error"),K("boolean"==typeof Z,e,"internal-error"),qo(g,e.name),qo(_,e.name),qo(v,e.name),qo(I,e.name),qo(b,e.name),qo(A,e.name);const T=new Jr({uid:O,auth:e,email:f,emailVerified:W,displayName:h,isAnonymous:Z,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:w,createdAt:b,lastLoginAt:A});return re&&Array.isArray(re)&&(T.providerData=re.map(S=>Object.assign({},S))),I&&(T._redirectEventId=I),T}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new yc;i.updateFromServerResponse(n);const o=new Jr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rh(o),o})()}static _fromGetAccountInfoResponse(e,n,r){return E(function*(){const i=n.users[0];K(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?HB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new yc;a.updateFromIdToken(r);const u=new Jr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const zB=new Map;function so(t){Go(t instanceof Function,"Expected a class definition");let e=zB.get(t);return e?(Go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zB.set(t,e),e)}const GB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function C_(t,e,n){return`firebase:${t}:${e}:${n}`}class vc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=C_(this.userKey,i.apiKey,o),this.fullPersistenceKey=C_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);if(!n)return null;if("string"==typeof n){const r=yield w_(e.auth,{idToken:n}).catch(()=>{});return r?Jr._fromGetAccountInfoResponse(e.auth,r,n):null}return Jr._fromJSON(e.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new vc(so(GB),e,r);const i=(yield Promise.all(n.map(function(){var c=E(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||so(GB);const s=C_(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=yield c._get(s);if(d){let h;if("string"==typeof d){const f=yield w_(e,{idToken:d}).catch(()=>{});if(!f)break;h=yield Jr._fromGetAccountInfoResponse(e,f,d)}else h=Jr._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=E(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new vc(o,e,r)):new vc(o,e,r)})()}}function qB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JB(e))return"Blackberry";if(XB(e))return"Webos";if(KB(e))return"Safari";if((e.includes("chrome/")||QB(e))&&!e.includes("edge/"))return"Chrome";if(ZB(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function WB(t=Pt()){return/firefox\//i.test(t)}function KB(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QB(t=Pt()){return/crios\//i.test(t)}function YB(t=Pt()){return/iemobile/i.test(t)}function ZB(t=Pt()){return/android/i.test(t)}function JB(t=Pt()){return/blackberry/i.test(t)}function XB(t=Pt()){return/webos/i.test(t)}function rD(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ej(t=Pt()){return rD(t)||ZB(t)||XB(t)||JB(t)||/windows phone/i.test(t)||YB(t)}function tj(t,e=[]){let n;switch(t){case"Browser":n=qB(Pt());break;case"Worker":n=`${qB(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fc}/${r}`}class ile{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function iD(){return(iD=E(function*(t,e={}){return it(t,"GET","/v2/passwordPolicy",rt(t,e))})).apply(this,arguments)}class ale{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ule{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nj(this),this.idTokenSubscription=new nj(this),this.beforeStateQueue=new ile(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=so(n)),this._initializationPromise=this.queue(E(function*(){var i,o,s;if(!r._deleted&&(r.persistenceManager=yield vc.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return E(function*(){try{const r=yield w_(n,{idToken:e}),i=yield Jr._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;if(Mr(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return K(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){try{yield Rh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Bce(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){if(Mr(n.app))return Promise.reject(en(n));const r=e?Qt(e):null;return r&&K(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&K(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return Mr(e.app)?Promise.reject(en(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Mr(this.app)?Promise.reject(en(this)):this.queue(E(function*(){yield n.assertedPersistence.setPersistence(so(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return E(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return E(function*(){const n=yield function ole(t){return iD.apply(this,arguments)}(e),r=new ale(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return E(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function tle(t,e){return nD.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&so(e)||n._popupRedirectResolver;K(r,n,"argument-error"),n.redirectPersistenceManager=yield vc.create(n,[so(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return E(function*(){var n;if(Mr(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Lce(t,...e){I_.logLevel<=Ae.WARN&&I_.warn(`Auth (${fc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Nt(t){return Qt(t)}class nj{constructor(e){this.auth=e,this.observer=null,this.addObserver=function hae(t,e){const n=new fae(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={loadJS:()=>E(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oD(t){return Mh.loadJS(t)}function rj(t){return`__${t}${Math.floor(1e6*Math.random())}`}class mle{constructor(){this.enterprise=new _le}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _le{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ph="NO_RECAPTCHA";class ij{constructor(e){this.type="recaptcha-enterprise",this.auth=Nt(e)}verify(e="verify",n=!1){var r=this;return E(function*(){function o(){return o=E(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=E(function*(c,d){(function jB(t,e){return Gb.apply(this,arguments)})(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(void 0!==h.recaptchaKey){const f=new BB(h);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(h=>{d(h)})});return function(c,d){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const d=window.grecaptcha;UB(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(Ph)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return r.auth.settings.appVerificationDisabledForTesting?(new mle).execute("siteKey",{action:"verify"}):new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&UB(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let d=function dle(){return Mh.recaptchaEnterpriseScript}();0!==d.length&&(d+=c),oD(d).then(()=>{s(c,a,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})})()}}function Nh(t,e,n){return sD.apply(this,arguments)}function sD(){return(sD=E(function*(t,e,n,r=!1,i=!1){const o=new ij(t);let s;if(i)s=Ph;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}const a=Object.assign({},e);return"mfaSmsEnrollment"===n||"mfaSmsSignIn"===n?("phoneEnrollmentInfo"in a?Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:a.phoneEnrollmentInfo.phoneNumber,recaptchaToken:a.phoneEnrollmentInfo.recaptchaToken,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in a&&Object.assign(a,{phoneSignInInfo:{recaptchaToken:a.phoneSignInInfo.recaptchaToken,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),a):(Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a)})).apply(this,arguments)}function Wo(t,e,n,r,i){return aD.apply(this,arguments)}function aD(){return aD=E(function*(t,e,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(o=t._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=yield Nh(t,e,n,"getOobCode"===n);return r(t,a)}return r(t,e).catch(function(){var a=E(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=yield Nh(t,e,n,"getOobCode"===n);return r(t,c)}return Promise.reject(u)});return function(u){return a.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(s=t._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const a=yield Nh(t,e,n);return r(t,a).catch(function(){var u=E(function*(c){var d;if("AUDIT"===(null===(d=t._getRecaptchaConfig())||void 0===d?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===c.code||"auth/invalid-app-credential"===c.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=yield Nh(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)});return function(c){return u.apply(this,arguments)}}())}{const a=yield Nh(t,e,n,!1,!0);return r(t,a)}}return Promise.reject(i+" provider is not supported.")}),aD.apply(this,arguments)}function sj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class kh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}function Ale(t,e){return dD.apply(this,arguments)}function dD(){return(dD=E(function*(t,e){return it(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Rle(t,e){return fD.apply(this,arguments)}function fD(){return(fD=E(function*(t,e){return io(t,"POST","/v1/accounts:signInWithPassword",rt(t,e))})).apply(this,arguments)}function vD(){return(vD=E(function*(t,e){return io(t,"POST","/v1/accounts:signInWithEmailLink",rt(t,e))})).apply(this,arguments)}function ID(){return(ID=E(function*(t,e){return io(t,"POST","/v1/accounts:signInWithEmailLink",rt(t,e))})).apply(this,arguments)}class xh extends kh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return E(function*(){switch(n.signInMethod){case"password":return Wo(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function xle(t,e){return vD.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:nr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return E(function*(){switch(r.signInMethod){case"password":return Wo(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ale,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ole(t,e){return ID.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:nr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ao(t,e){return ED.apply(this,arguments)}function ED(){return(ED=E(function*(t,e){return io(t,"POST","/v1/accounts:signInWithIdp",rt(t,e))})).apply(this,arguments)}class Fh{constructor(e){var n,r,i,o,s,a;const u=yh(vh(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,d=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function jle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);K(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function $le(t){const e=yh(vh(t)).link,n=e?yh(vh(e)).deep_link_id:null,r=yh(vh(t)).deep_link_id;return(r?yh(vh(r)).link:null)||r||n||e||t}(e);try{return new Fh(n)}catch{return null}}}let lj=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return xh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Fh.parseLink(r);return K(i,"argument-error"),xh._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hle extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function dj(t,e){return AD.apply(this,arguments)}function AD(){return(AD=E(function*(t,e){return io(t,"POST","/v1/accounts:signUp",rt(t,e))})).apply(this,arguments)}class kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(function*(){const o=yield Jr._fromIdTokenResponse(e,r,i),s=hj(r);return new kr({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return E(function*(){yield e._updateTokensIfNecessary(r,!0);const i=hj(r);return new kr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function hj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class S_ extends eo{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,S_.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new S_(e,n,r,i)}}function fj(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?S_._fromErrorAndOperation(t,o,e,r):o})}function PD(){return(PD=E(function*(t,e,n=!1){const r=yield oo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return kr._forOperation(t,"link",r)})).apply(this,arguments)}function kD(){return(kD=E(function*(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(en(r));const i="reauthenticate";try{const o=yield oo(t,fj(r,i,e,t),n);K(o.idToken,r,"internal-error");const s=T_(o.idToken);K(s,r,"internal-error");const{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),kr._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&nr(r,"user-mismatch"),o}})).apply(this,arguments)}function mj(t,e){return xD.apply(this,arguments)}function xD(){return(xD=E(function*(t,e,n=!1){if(Mr(t.app))return Promise.reject(en(t));const r="signIn",i=yield fj(t,r,e),o=yield kr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function VD(){return(VD=E(function*(t,e){return mj(Nt(t),e)})).apply(this,arguments)}function HD(t){return zD.apply(this,arguments)}function zD(){return(zD=E(function*(t){const e=Nt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Yle(t,e,n){return YD.apply(this,arguments)}function YD(){return(YD=E(function*(t,e,n){if(Mr(t.app))return Promise.reject(en(t));const r=Nt(t),s=yield Wo(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dj,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&HD(t),u}),a=yield kr._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function Zle(t,e,n){return Mr(t.app)?Promise.reject(en(t)):function OD(t,e){return VD.apply(this,arguments)}(Qt(t),lj.credential(e,n)).catch(function(){var r=E(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&HD(t),i});return function(i){return r.apply(this,arguments)}}())}function ude(t){return Qt(t).signOut()}const P_="__sak";class Ij{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(P_,"1"),this.storage.removeItem(P_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pde=(()=>{class t extends Ij{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ej(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function rle(){return function sae(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return E(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return E(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return E(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Ej=(()=>{class t extends Ij{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let mde=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return E(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var h=E(function*(f){return f(i.origin,a)});return function(f){return h.apply(this,arguments)}}()),d=yield function gde(t){return Promise.all(t.map(function(){var e=E(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function dA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class _de{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return E(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=dA("",20);o.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const g=f;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function jt(){return window}function hA(){return typeof jt().WorkerGlobalScope<"u"&&"function"==typeof jt().importScripts}function fA(){return(fA=E(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wj="firebaseLocalStorageDb",N_="firebaseLocalStorage",Tj="fbase_key";class Bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function k_(t,e){return t.transaction([N_],e?"readwrite":"readonly").objectStore(N_)}function pA(){const t=indexedDB.open(wj,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(N_,{keyPath:Tj})}catch(i){n(i)}}),t.addEventListener("success",E(function*(){const r=t.result;r.objectStoreNames.contains(N_)?e(r):(r.close(),yield function Tde(){const t=indexedDB.deleteDatabase(wj);return new Bh(t).toPromise()}(),e(yield pA()))}))})}function Cj(t,e,n){return gA.apply(this,arguments)}function gA(){return(gA=E(function*(t,e,n){const r=k_(t,!0).put({[Tj]:e,value:n});return new Bh(r).toPromise()})).apply(this,arguments)}function mA(){return(mA=E(function*(t,e){const n=k_(t,!1).get(e),r=yield new Bh(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function bj(t,e){const n=k_(t,!0).delete(e);return new Bh(n).toPromise()}const Ade=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return E(function*(){return n.db||(n.db=yield pA()),n.db})()}_withRetries(n){var r=this;return E(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return E(function*(){return hA()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return E(function*(){n.receiver=mde._getInstance(function Ede(){return hA()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=E(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=E(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return E(function*(){var r,i;if(n.activeServiceWorker=yield function vde(){return fA.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new _de(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return E(function*(){if(r.sender&&r.activeServiceWorker&&function Ide(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return E(function*(){try{if(!indexedDB)return!1;const n=yield pA();return yield Cj(n,P_,"1"),yield bj(n,P_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return E(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return E(function*(){return i._withPendingWrite(E(function*(){return yield i._withRetries(o=>Cj(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return E(function*(){const i=yield r._withRetries(o=>function Cde(t,e){return mA.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return E(function*(){return r._withPendingWrite(E(function*(){return yield r._withRetries(i=>bj(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return E(function*(){const r=yield n._withRetries(s=>{const a=k_(s,!1).getAll();return new Bh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(E(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();rj("rcb"),new Dh(3e4,6e4);class AA extends kh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vde(t){return mj(t.auth,new AA(t),t.bypassAuthState)}function Fde(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),function gj(t,e){return kD.apply(this,arguments)}(n,new AA(t),t.bypassAuthState)}function Lde(t){return SA.apply(this,arguments)}function SA(){return(SA=E(function*(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),function MD(t,e){return PD.apply(this,arguments)}(n,new AA(t),t.bypassAuthState)})).apply(this,arguments)}class Ude{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=E(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return E(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(d){n.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vde;case"linkViaPopup":case"linkViaRedirect":return Lde;case"reauthViaPopup":case"reauthViaRedirect":return Fde;default:nr(this.auth,"internal-error")}}resolve(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Dh(2e3,1e4);const $h=new Map;class jde extends Ude{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return E(function*(){let r=$h.get(n.auth._key());if(!r){try{const o=(yield function $de(t,e){return kA.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}$h.set(n.auth._key(),r)}return n.bypassAuthState||$h.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return E(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return E(function*(){})()}cleanUp(){}}function kA(){return(kA=E(function*(t,e){const n=function Sj(t){return C_("pendingRedirect",t.config.apiKey,t.name)}(e),r=function Aj(t){return so(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Hde(t,e){$h.set(t._key(),e)}function Rj(t,e){return BA.apply(this,arguments)}function BA(){return(BA=E(function*(t,e,n=!1){if(Mr(t.app))return Promise.reject(en(t));const r=Nt(t),i=function ga(t,e){return e?so(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new jde(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Kde{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Qde(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nj(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Nj(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pj(e))}saveEventToCache(e){this.cachedEventUids.add(Pj(e)),this.lastProcessedEventTime=Date.now()}}function Pj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Nj({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function $A(){return($A=E(function*(t,e={}){return it(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Zde=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jde=/^https?/;function HA(){return HA=E(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Yde(t){return $A.apply(this,arguments)}(t);for(const n of e)try{if(ehe(n))return}catch{}nr(t,"unauthorized-domain")}),HA.apply(this,arguments)}function ehe(t){const e=bh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Jde.test(n))return!1;if(Zde.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const the=new Dh(3e4,6e4);function kj(){const t=jt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let x_=null;const ihe=new Dh(5e3,15e3),ahe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function che(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ub(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:fc},i=uhe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_h(r).slice(1)}`}function zA(){return zA=E(function*(t){const e=yield function rhe(t){return x_=x_||function nhe(t){return new Promise((e,n)=>{var r,i,o;function s(){kj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kj(),n(Nr(t,"network-request-failed"))},timeout:the.get()})}if(null!==(i=null===(r=jt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=jt().gapi)||void 0===o||!o.load){const a=rj("iframefcb");return jt()[a]=()=>{gapi.load?s():n(Nr(t,"network-request-failed"))},oD(`${function hle(){return Mh.gapiScript}()}?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw x_=null,e})}(t),x_}(t),n=jt().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:che(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ahe,dontclear:!0},r=>new Promise(function(){var i=E(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Nr(t,"network-request-failed"),u=jt().setTimeout(()=>{s(a)},ihe.get());function c(){jt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),zA.apply(this,arguments)}const dhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ihe=encodeURIComponent("fac");function Oj(t,e,n,r,i,o){return GA.apply(this,arguments)}function GA(){return(GA=E(function*(t,e,n,r,i,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fc,eventId:i};if(e instanceof uo){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function dae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Hle){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const u=yield t._getAppCheckToken(),c=u?`#${Ihe}=${encodeURIComponent(u)}`:"";return`${function Ehe({config:t}){return t.emulator?Ub(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${_h(a).slice(1)}${c}`})).apply(this,arguments)}const qA="webStorageSupport",The=class whe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ej,this._completeRedirectFn=Rj,this._overrideRedirectResult=Hde}_openPopup(e,n,r,i){var o=this;return E(function*(){var s;Go(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Oj(e,n,r,bh(),i);return function mhe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},dhe),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Pt().toLowerCase();n&&(a=QB(c)?"_blank":n),WB(c)&&(e=e||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(function nle(t=Pt()){var e;return rD(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function _he(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new xj(null);const h=window.open(e||"",a,d);K(h,t,"popup-blocked");try{h.focus()}catch{}return new xj(h)}(e,a,dA())})()}_openRedirect(e,n,r,i){var o=this;return E(function*(){return yield o._originValidation(e),function yde(t){jt().location.href=t}(yield Oj(e,n,r,bh(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Go(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return E(function*(){const r=yield function lhe(t){return zA.apply(this,arguments)}(e),i=new Kde(e);return r.register("authEvent",o=>(K(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qA,{type:qA},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[qA];void 0!==s&&n(!!s),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Xde(t){return HA.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ej()||KB()||rD()}};var Uj="@firebase/auth";class Che{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const She=LU("authIdTokenMaxAge")||300;let jj=null;const Rhe=t=>function(){var e=E(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>She)return;const o=r?.token;jj!==o&&(jj=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Mhe(t=rb()){const e=c_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ele(t,e){const n=c_(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(to(n.getOptions(),e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:The,persistence:[Ade,pde,Ej]}),r=LU("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Rhe(o.toString());(function sde(t,e,n){Qt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function ode(t,e,n,r){Qt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}}const i=VU("auth");return i&&function Tle(t,e,n){const r=Nt(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=sj(e),{host:s,port:a}=function Cle(t){const e=sj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aj(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:aj(s)}}}(e),c={url:`${o}//${s}${null===a?"":`:${a}`}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void K(to(c,r.config.emulator)&&to(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,i||function ble(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Nhe(t){return new at(function(e){var n=function ade(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}(function cle(t){Mh=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Nr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Phe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Dhe(t){zo(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tj(t)},c=new ule(r,i,o,u);return function wle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(so);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zo(new no("auth-internal",e=>{const n=Nt(e.getProvider("auth").getImmediate());return new Che(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(Uj,"1.10.0",function bhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Bn(Uj,"1.10.0","esm2017")}("Browser");class V_{constructor(e){return e}}class Hj{constructor(){return cb("auth")}}const KA=new q("angularfire2.auth-instances");function Ohe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new V_(r)}}const Vhe={provide:Hj,deps:[[new Wn,KA]]},Fhe={provide:V_,useFactory:function xhe(t,e){const n=ub("auth",t,e);return n&&new V_(n)},deps:[[new Wn,KA],gc]},Uhe=vi(Nhe,!0),Bhe=vi(Yle,!0,2),jhe=vi(Mhe,!0),$he=vi(Zle,!0,2),Hhe=vi(ude,!0,2);var Ko,qj,zj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gj={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(D,w,T){T||(T=0);var S=Array(16);if("string"==typeof w)for(var R=0;16>R;++R)S[R]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(R=0;16>R;++R)S[R]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;var N=D.g[3],C=(w=D.g[0])+(N^(T=D.g[1])&((R=D.g[2])^N))+S[0]+3614090360&4294967295;C=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=(T=(R=(N=(w=T+(C<<7&4294967295|C>>>25))+((C=N+(R^w&(T^R))+S[1]+3905402710&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^N&(w^T))+S[2]+606105819&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(N^w))+S[3]+3250441966&4294967295)<<22&4294967295|C>>>10))+((C=w+(N^T&(R^N))+S[4]+4118548399&4294967295)<<7&4294967295|C>>>25))+((C=N+(R^w&(T^R))+S[5]+1200080426&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^N&(w^T))+S[6]+2821735955&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(N^w))+S[7]+4249261313&4294967295)<<22&4294967295|C>>>10))+((C=w+(N^T&(R^N))+S[8]+1770035416&4294967295)<<7&4294967295|C>>>25))+((C=N+(R^w&(T^R))+S[9]+2336552879&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^N&(w^T))+S[10]+4294925233&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(N^w))+S[11]+2304563134&4294967295)<<22&4294967295|C>>>10))+((C=w+(N^T&(R^N))+S[12]+1804603682&4294967295)<<7&4294967295|C>>>25))+((C=N+(R^w&(T^R))+S[13]+4254626195&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^N&(w^T))+S[14]+2792965006&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(N^w))+S[15]+1236535329&4294967295)<<22&4294967295|C>>>10))+((C=w+(R^N&(T^R))+S[1]+4129170786&4294967295)<<5&4294967295|C>>>27))+((C=N+(T^R&(w^T))+S[6]+3225465664&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(N^w))+S[11]+643717713&4294967295)<<14&4294967295|C>>>18))+((C=T+(N^w&(R^N))+S[0]+3921069994&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^N&(T^R))+S[5]+3593408605&4294967295)<<5&4294967295|C>>>27))+((C=N+(T^R&(w^T))+S[10]+38016083&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(N^w))+S[15]+3634488961&4294967295)<<14&4294967295|C>>>18))+((C=T+(N^w&(R^N))+S[4]+3889429448&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^N&(T^R))+S[9]+568446438&4294967295)<<5&4294967295|C>>>27))+((C=N+(T^R&(w^T))+S[14]+3275163606&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(N^w))+S[3]+4107603335&4294967295)<<14&4294967295|C>>>18))+((C=T+(N^w&(R^N))+S[8]+1163531501&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^N&(T^R))+S[13]+2850285829&4294967295)<<5&4294967295|C>>>27))+((C=N+(T^R&(w^T))+S[2]+4243563512&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(N^w))+S[7]+1735328473&4294967295)<<14&4294967295|C>>>18))+((C=T+(N^w&(R^N))+S[12]+2368359562&4294967295)<<20&4294967295|C>>>12))+((C=w+(T^R^N)+S[5]+4294588738&4294967295)<<4&4294967295|C>>>28))+((C=N+(w^T^R)+S[8]+2272392833&4294967295)<<11&4294967295|C>>>21))+((C=R+(N^w^T)+S[11]+1839030562&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^N^w)+S[14]+4259657740&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^N)+S[1]+2763975236&4294967295)<<4&4294967295|C>>>28))+((C=N+(w^T^R)+S[4]+1272893353&4294967295)<<11&4294967295|C>>>21))+((C=R+(N^w^T)+S[7]+4139469664&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^N^w)+S[10]+3200236656&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^N)+S[13]+681279174&4294967295)<<4&4294967295|C>>>28))+((C=N+(w^T^R)+S[0]+3936430074&4294967295)<<11&4294967295|C>>>21))+((C=R+(N^w^T)+S[3]+3572445317&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^N^w)+S[6]+76029189&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^N)+S[9]+3654602809&4294967295)<<4&4294967295|C>>>28))+((C=N+(w^T^R)+S[12]+3873151461&4294967295)<<11&4294967295|C>>>21))+((C=R+(N^w^T)+S[15]+530742520&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^N^w)+S[2]+3299628645&4294967295)<<23&4294967295|C>>>9))+((C=w+(R^(T|~N))+S[0]+4096336452&4294967295)<<6&4294967295|C>>>26))+((C=N+(T^(w|~R))+S[7]+1126891415&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(N|~T))+S[14]+2878612391&4294967295)<<15&4294967295|C>>>17))+((C=T+(N^(R|~w))+S[5]+4237533241&4294967295)<<21&4294967295|C>>>11))+((C=w+(R^(T|~N))+S[12]+1700485571&4294967295)<<6&4294967295|C>>>26))+((C=N+(T^(w|~R))+S[3]+2399980690&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(N|~T))+S[10]+4293915773&4294967295)<<15&4294967295|C>>>17))+((C=T+(N^(R|~w))+S[1]+2240044497&4294967295)<<21&4294967295|C>>>11))+((C=w+(R^(T|~N))+S[8]+1873313359&4294967295)<<6&4294967295|C>>>26))+((C=N+(T^(w|~R))+S[15]+4264355552&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(N|~T))+S[6]+2734768916&4294967295)<<15&4294967295|C>>>17))+((C=T+(N^(R|~w))+S[13]+1309151649&4294967295)<<21&4294967295|C>>>11))+((N=(w=T+((C=w+(R^(T|~N))+S[4]+4149444226&4294967295)<<6&4294967295|C>>>26))+((C=N+(T^(w|~R))+S[11]+3174756917&4294967295)<<10&4294967295|C>>>22))^((R=N+((C=R+(w^(N|~T))+S[2]+718787259&4294967295)<<15&4294967295|C>>>17))|~w))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+N&4294967295}function s(D,w){this.h=w;for(var T=[],S=!0,R=D.length-1;0<=R;R--){var N=0|D[R];S&&N==w||(T[R]=N,S=!1)}this.g=T}(function e(D,w){function T(){}T.prototype=w.prototype,D.D=w.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(S,R,N){for(var C=Array(arguments.length-2),yo=2;yo<arguments.length;yo++)C[yo-2]=arguments[yo];return w.prototype[R].apply(S,C)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(D,w){void 0===w&&(w=D.length);for(var T=w-this.blockSize,S=this.B,R=this.h,N=0;N<w;){if(0==R)for(;N<=T;)i(this,D,N),N+=this.blockSize;if("string"==typeof D){for(;N<w;)if(S[R++]=D.charCodeAt(N++),R==this.blockSize){i(this,S),R=0;break}}else for(;N<w;)if(S[R++]=D[N++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var T=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=255&T,T/=256;for(this.u(D),D=Array(16),w=T=0;4>w;++w)for(var S=0;32>S;S+=8)D[T++]=this.g[w]>>>S&255;return D};var a={};function u(D){return-128<=D&&128>D?function o(D,w){var T=a;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=w(D)}(D,function(w){return new s([0|w],0>w?-1:0)}):new s([0|D],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return I(c(-D));for(var w=[],T=1,S=0;D>=T;S++)w[S]=D/T|0,T*=4294967296;return new s(w,0)}var h=u(0),f=u(1),g=u(16777216);function _(D){if(0!=D.h)return!1;for(var w=0;w<D.g.length;w++)if(0!=D.g[w])return!1;return!0}function v(D){return-1==D.h}function I(D){for(var w=D.g.length,T=[],S=0;S<w;S++)T[S]=~D.g[S];return new s(T,~D.h).add(f)}function b(D,w){return D.add(I(w))}function A(D,w){for(;(65535&D[w])!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function O(D,w){this.g=D,this.h=w}function W(D,w){if(_(w))throw Error("division by zero");if(_(D))return new O(h,h);if(v(D))return w=W(I(D),w),new O(I(w.g),I(w.h));if(v(w))return w=W(D,I(w)),new O(I(w.g),w.h);if(30<D.g.length){if(v(D)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var T=f,S=w;0>=S.l(D);)T=Z(T),S=Z(S);var R=re(T,1),N=re(S,1);for(S=re(S,2),T=re(T,2);!_(S);){var C=N.add(S);0>=C.l(D)&&(R=R.add(T),N=C),S=re(S,1),T=re(T,1)}return w=b(D,R.j(w)),new O(R,w)}for(R=h;0<=D.l(w);){for(T=Math.max(1,Math.floor(D.m()/w.m())),S=48>=(S=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,S-48),C=(N=c(T)).j(w);v(C)||0<C.l(D);)C=(N=c(T-=S)).j(w);_(N)&&(N=f),R=R.add(N),D=b(D,C)}return new O(R,D)}function Z(D){for(var w=D.g.length+1,T=[],S=0;S<w;S++)T[S]=D.i(S)<<1|D.i(S-1)>>>31;return new s(T,D.h)}function re(D,w){var T=w>>5;w%=32;for(var S=D.g.length-T,R=[],N=0;N<S;N++)R[N]=0<w?D.i(N+T)>>>w|D.i(N+T+1)<<32-w:D.i(N+T);return new s(R,D.h)}(t=s.prototype).m=function(){if(v(this))return-I(this).m();for(var D=0,w=1,T=0;T<this.g.length;T++){var S=this.i(T);D+=(0<=S?S:4294967296+S)*w,w*=4294967296}return D},t.toString=function(D){if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(v(this))return"-"+I(this).toString(D);for(var w=c(Math.pow(D,6)),T=this,S="";;){var R=W(T,w).g,N=((0<(T=b(T,R.j(w))).g.length?T.g[0]:T.h)>>>0).toString(D);if(_(T=R))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h},t.l=function(D){return v(D=b(this,D))?-1:_(D)?0:1},t.abs=function(){return v(this)?I(this):this},t.add=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0,R=0;R<=w;R++){var N=S+(65535&this.i(R))+(65535&D.i(R)),C=(N>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);S=C>>>16,T[R]=(C&=65535)<<16|(N&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},t.j=function(D){if(_(this)||_(D))return h;if(v(this))return v(D)?I(this).j(I(D)):I(I(this).j(D));if(v(D))return I(this.j(I(D)));if(0>this.l(g)&&0>D.l(g))return c(this.m()*D.m());for(var w=this.g.length+D.g.length,T=[],S=0;S<2*w;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<D.g.length;R++){var N=this.i(S)>>>16,C=65535&this.i(S),yo=D.i(R)>>>16,qf=65535&D.i(R);T[2*S+2*R]+=C*qf,A(T,2*S+2*R),T[2*S+2*R+1]+=N*qf,A(T,2*S+2*R+1),T[2*S+2*R+1]+=C*yo,A(T,2*S+2*R+1),T[2*S+2*R+2]+=N*yo,A(T,2*S+2*R+2)}for(S=0;S<w;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=w;S<2*w;S++)T[S]=0;return new s(T,0)},t.A=function(D){return W(this,D).h},t.and=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)&D.i(S);return new s(T,this.h&D.h)},t.or=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)|D.i(S);return new s(T,this.h|D.h)},t.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)^D.i(S);return new s(T,this.h^D.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qj=Gj.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(D,w){if(0==D.length)throw Error("number format error: empty string");if(2>(w=w||10)||36<w)throw Error("radix out of range: "+w);if("-"==D.charAt(0))return I(d(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(w,8)),S=h,R=0;R<D.length;R+=8){var N=Math.min(8,D.length-R),C=parseInt(D.substring(R,R+N),w);8>N?(N=c(Math.pow(w,N)),S=S.j(N).add(c(C))):S=(S=S.j(T)).add(c(C))}return S},Ko=Gj.Integer=s}).apply(typeof zj<"u"?zj:typeof self<"u"?self:typeof window<"u"?window:{});var Wj,Hh,Kj,L_,QA,Qj,Yj,Zj,F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},co={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,m){return l==Array.prototype||l==Object.prototype||(l[p]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof F_&&F_];for(var p=0;p<l.length;++p){var m=l[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,p){if(p)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var M=l[y];if(!(M in m))break e;m=m[M]}(p=p(y=m[l=l[l.length-1]]))!=y&&null!=p&&e(m,l,{configurable:!0,writable:!0,value:p})}}("Array.prototype.values",function(l){return l||function(){return function o(l,p){l instanceof String&&(l+="");var m=0,y=!1,M={next:function(){if(!y&&m<l.length){var L=m++;return{value:p(L,l[L]),done:!1}}return y=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}(this,function(p,m){return m})}});var s=s||{},a=this||self;function u(l){var p=typeof l;return"array"==(p="object"!=p?p:l?Array.isArray(l)?"array":p:"null")||"object"==p&&"number"==typeof l.length}function c(l){var p=typeof l;return"object"==p&&null!=l||"function"==p}function d(l,p,m){return l.call.apply(l.bind,arguments)}function h(l,p,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,y),l.apply(p,M)}}return function(){return l.apply(p,arguments)}}function f(l,p,m){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,p){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,p){function m(){}m.prototype=p.prototype,l.aa=p.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,M,L){for(var Y=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Y[Ze-2]=arguments[Ze];return p.prototype[M].apply(y,Y)}}function v(l){const p=l.length;if(0<p){const m=Array(p);for(let y=0;y<p;y++)m[y]=l[y];return m}return[]}function I(l,p){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const M=l.length||0,L=y.length||0;l.length=M+L;for(let Y=0;Y<L;Y++)l[M+Y]=y[Y]}else l.push(y)}}function A(l){return/^[\s\xa0]*$/.test(l)}function O(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function W(l){return W[" "](l),l}W[" "]=function(){};var Z=!(-1==O().indexOf("Gecko")||-1!=O().toLowerCase().indexOf("webkit")&&-1==O().indexOf("Edge")||-1!=O().indexOf("Trident")||-1!=O().indexOf("MSIE")||-1!=O().indexOf("Edge"));function re(l,p,m){for(const y in l)p.call(m,l[y],y,l)}function w(l){const p={};for(const m in l)p[m]=l[m];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,p){let m,y;for(let M=1;M<arguments.length;M++){for(m in y=arguments[M],y)l[m]=y[m];for(let L=0;L<T.length;L++)m=T[L],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function R(l){var p=1;l=l.split(":");const m=[];for(;0<p&&l.length;)m.push(l.shift()),p--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function C(){var l=fM;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}var qf=new class b{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}(()=>new uve,l=>l.reset());class uve{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Wf,Kf=!1,fM=new class yo{constructor(){this.h=this.g=null}add(p,m){const y=qf.get();y.set(p,m),this.h?this.h.next=y:this.g=y,this.h=y}},p3=()=>{const l=a.Promise.resolve(void 0);Wf=()=>{l.then(cve)}};var cve=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(m){N(m)}var p=qf;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}Kf=!1};function Is(){this.s=this.s,this.C=this.C}function Dn(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Is.prototype.s=!1,Is.prototype.ma=function(){this.s||(this.s=!0,this.N())},Is.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Dn.prototype.h=function(){this.defaultPrevented=!0};var lve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return l}();function Qf(l,p){if(Dn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Z){e:{try{W(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else"mouseover"==m?p=l.fromElement:"mouseout"==m&&(p=l.toElement);this.relatedTarget=p,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:dve[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qf.aa.h.call(this)}}_(Qf,Dn);var dve={2:"touch",3:"pen",4:"mouse"};Qf.prototype.h=function(){Qf.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),hve=0;function fve(l,p,m,y,M){this.listener=l,this.proxy=null,this.src=p,this.type=m,this.capture=!!y,this.ha=M,this.key=++hve,this.da=this.fa=!1}function mv(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function _v(l){this.src=l,this.g={},this.h=0}function pM(l,p){var m=p.type;if(m in l.g){var L,y=l.g[m],M=Array.prototype.indexOf.call(y,p,void 0);(L=0<=M)&&Array.prototype.splice.call(y,M,1),L&&(mv(p),0==l.g[m].length&&(delete l.g[m],l.h--))}}function gM(l,p,m,y){for(var M=0;M<l.length;++M){var L=l[M];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==y)return M}return-1}_v.prototype.add=function(l,p,m,y,M){var L=l.toString();(l=this.g[L])||(l=this.g[L]=[],this.h++);var Y=gM(l,p,y,M);return-1<Y?(p=l[Y],m||(p.fa=!1)):((p=new fve(p,this.src,L,!!y,M)).fa=m,l.push(p)),p};var mM="closure_lm_"+(1e6*Math.random()|0),_M={};function g3(l,p,m,y,M){if(y&&y.once)return _3(l,p,m,y,M);if(Array.isArray(p)){for(var L=0;L<p.length;L++)g3(l,p[L],m,y,M);return null}return m=EM(m),l&&l[Yf]?l.K(p,m,c(y)?!!y.capture:!!y,M):m3(l,p,m,!1,y,M)}function m3(l,p,m,y,M,L){if(!p)throw Error("Invalid event type");var Y=c(M)?!!M.capture:!!M,Ze=vM(l);if(Ze||(l[mM]=Ze=new _v(l)),(m=Ze.add(p,m,y,Y,L)).proxy)return m;if(y=function pve(){const p=gve;return function l(m){return p.call(l.src,l.listener,m)}}(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)lve||(M=Y),void 0===M&&(M=!1),l.addEventListener(p.toString(),y,M);else if(l.attachEvent)l.attachEvent(v3(p.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return m}function _3(l,p,m,y,M){if(Array.isArray(p)){for(var L=0;L<p.length;L++)_3(l,p[L],m,y,M);return null}return m=EM(m),l&&l[Yf]?l.L(p,m,c(y)?!!y.capture:!!y,M):m3(l,p,m,!0,y,M)}function y3(l,p,m,y,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)y3(l,p[L],m,y,M);else y=c(y)?!!y.capture:!!y,m=EM(m),l&&l[Yf]?(l=l.i,(p=String(p).toString())in l.g&&-1<(m=gM(L=l.g[p],m,y,M))&&(mv(L[m]),Array.prototype.splice.call(L,m,1),0==L.length&&(delete l.g[p],l.h--))):l&&(l=vM(l))&&(p=l.g[p.toString()],l=-1,p&&(l=gM(p,m,y,M)),(m=-1<l?p[l]:null)&&yM(m))}function yM(l){if("number"!=typeof l&&l&&!l.da){var p=l.src;if(p&&p[Yf])pM(p.i,l);else{var m=l.type,y=l.proxy;p.removeEventListener?p.removeEventListener(m,y,l.capture):p.detachEvent?p.detachEvent(v3(m),y):p.addListener&&p.removeListener&&p.removeListener(y),(m=vM(p))?(pM(m,l),0==m.h&&(m.src=null,p[mM]=null)):mv(l)}}}function v3(l){return l in _M?_M[l]:_M[l]="on"+l}function gve(l,p){if(l.da)l=!0;else{p=new Qf(p,this);var m=l.listener,y=l.ha||l.src;l.fa&&yM(l),l=m.call(y,p)}return l}function vM(l){return(l=l[mM])instanceof _v?l:null}var IM="__closure_events_fn_"+(1e9*Math.random()>>>0);function EM(l){return"function"==typeof l?l:(l[IM]||(l[IM]=function(p){return l.handleEvent(p)}),l[IM])}function An(){Is.call(this),this.i=new _v(this),this.M=this,this.F=null}function $n(l,p){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=p.type||p,"string"==typeof p)p=new Dn(p,l);else if(p instanceof Dn)p.target=p.target||l;else{var M=p;S(p=new Dn(y,l),M)}if(M=!0,m)for(var L=m.length-1;0<=L;L--){var Y=p.g=m[L];M=yv(Y,y,!0,p)&&M}if(M=yv(Y=p.g=l,y,!0,p)&&M,M=yv(Y,y,!1,p)&&M,m)for(L=0;L<m.length;L++)M=yv(Y=p.g=m[L],y,!1,p)&&M}function yv(l,p,m,y){if(!(p=l.i.g[String(p)]))return!0;p=p.concat();for(var M=!0,L=0;L<p.length;++L){var Y=p[L];if(Y&&!Y.da&&Y.capture==m){var Ze=Y.listener,pn=Y.ha||Y.src;Y.fa&&pM(l.i,Y),M=!1!==Ze.call(pn,y)&&M}}return M&&!y.defaultPrevented}function I3(l,p,m){if("function"==typeof l)m&&(l=f(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=f(l.handleEvent,l)}return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function E3(l){l.g=I3(()=>{l.g=null,l.i&&(l.i=!1,E3(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}_(An,Is),An.prototype[Yf]=!0,An.prototype.removeEventListener=function(l,p,m,y){y3(this,l,p,m,y)},An.prototype.N=function(){if(An.aa.N.call(this),this.i){var p,l=this.i;for(p in l.g){for(var m=l.g[p],y=0;y<m.length;y++)mv(m[y]);delete l.g[p],l.h--}}this.F=null},An.prototype.K=function(l,p,m,y){return this.i.add(String(l),p,!1,m,y)},An.prototype.L=function(l,p,m,y){return this.i.add(String(l),p,!0,m,y)};class mve extends Is{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:E3(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zf(l){Is.call(this),this.h=l,this.g={}}_(Zf,Is);var w3=[];function T3(l){re(l.g,function(p,m){this.g.hasOwnProperty(m)&&yM(p)},l),l.g={}}Zf.prototype.N=function(){Zf.aa.N.call(this),T3(this)},Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wM=a.JSON.stringify,_ve=a.JSON.parse,yve=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function TM(){}function b3(){}TM.prototype.h=null;var Jf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function CM(){Dn.call(this,"d")}function bM(){Dn.call(this,"c")}_(CM,Dn),_(bM,Dn);var Ha={},D3=null;function vv(){return D3=D3||new An}function A3(l){Dn.call(this,Ha.La,l)}function Xf(l){const p=vv();$n(p,new A3(p))}function S3(l,p){Dn.call(this,Ha.STAT_EVENT,l),this.stat=p}function Hn(l){const p=vv();$n(p,new S3(p,l))}function R3(l,p){Dn.call(this,Ha.Ma,l),this.size=p}function ep(l,p){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function tp(){this.g=!0}function yl(l,p,m,y){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+function wve(l,p){if(!l.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var M=y[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if("noop"!=L&&"stop"!=L&&"close"!=L)for(var Y=1;Y<M.length;Y++)M[Y]=""}}}return wM(m)}catch{return p}}(l,m)+(y?" "+y:"")})}Ha.La="serverreachability",_(A3,Dn),Ha.STAT_EVENT="statevent",_(S3,Dn),Ha.Ma="timingevent",_(R3,Dn),tp.prototype.xa=function(){this.g=!1},tp.prototype.info=function(){};var DM,Iv={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},M3={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ev(){}function Es(l,p,m,y){this.j=l,this.i=p,this.l=m,this.R=y||1,this.U=new Zf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P3}function P3(){this.i=null,this.g="",this.h=!1}_(Ev,TM),Ev.prototype.g=function(){return new XMLHttpRequest},Ev.prototype.i=function(){return{}},DM=new Ev;var N3={},AM={};function SM(l,p,m){l.L=1,l.v=bv(vo(p)),l.m=m,l.P=!0,k3(l,null)}function k3(l,p){l.F=Date.now(),wv(l),l.A=vo(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),W3(m.i,"t",y),l.C=0,m=l.j.J,l.h=new P3,l.g=dq(l.j,m?p:null,!l.m),0<l.O&&(l.M=new mve(f(l.Y,l,l.g),l.O)),p=l.U,m=l.g,y=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(w3[0]=M.toString()),M=w3);for(var L=0;L<M.length;L++){var Y=g3(m,M[L],y||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),Xf(),function vve(l,p,m,y,M,L){l.info(function(){if(l.g)if(L)for(var Y="",Ze=L.split("&"),pn=0;pn<Ze.length;pn++){var Ve=Ze[pn].split("=");if(1<Ve.length){var Sn=Ve[0];Ve=Ve[1];var Rn=Sn.split("_");Y=2<=Rn.length&&"type"==Rn[1]?Y+(Sn+"=")+Ve+"&":Y+(Sn+"=redacted&")}}else Y=null;else Y=L;return"XMLHTTP REQ ("+y+") [attempt "+M+"]: "+p+"\n"+m+"\n"+Y})}(l.i,l.u,l.A,l.l,l.R,l.m)}function x3(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function Tve(l,p){var m=l.C,y=p.indexOf("\n",m);return-1==y?AM:(m=Number(p.substring(m,y)),isNaN(m)?N3:(y+=1)+m>p.length?AM:(p=p.slice(y,y+m),l.C=y+m,p))}function wv(l){l.S=Date.now()+l.I,O3(l,l.I)}function O3(l,p){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ep(f(l.ba,l),p)}function RM(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function np(l){0==l.j.G||l.J||aq(l.j,l)}function za(l){RM(l);var p=l.M;p&&"function"==typeof p.ma&&p.ma(),l.M=null,T3(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function MM(l,p){try{var m=l.j;if(0!=m.G&&(m.g==l||PM(m.h,l)))if(!l.K&&PM(m.h,l)&&3==m.G){try{var y=m.Da.g.parse(p)}catch{y=null}if(Array.isArray(y)&&3==y.length){var M=y;if(0==M[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;Mv(m),Sv(m)}OM(m),Hn(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&0==m.v&&!m.C&&(m.C=ep(f(m.Za,m),6e3));if(1>=L3(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else qa(m,11)}else if((l.K||m.g==l)&&Mv(m),!A(p))for(M=m.Da.g.parse(p),p=0;p<M.length;p++){let Ve=M[p];if(m.T=Ve[0],Ve=Ve[1],2==m.G)if("c"==Ve[0]){m.K=Ve[1],m.ia=Ve[2];const Sn=Ve[3];null!=Sn&&(m.la=Sn,m.j.info("VER="+m.la));const Rn=Ve[4];null!=Rn&&(m.Aa=Rn,m.j.info("SVER="+m.Aa));const El=Ve[5];null!=El&&"number"==typeof El&&0<El&&(m.L=y=1.5*El,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const ti=l.g;if(ti){const Nv=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nv){var L=y.h;L.g||-1==Nv.indexOf("spdy")&&-1==Nv.indexOf("quic")&&-1==Nv.indexOf("h2")||(L.j=L.l,L.g=new Set,L.h&&(NM(L,L.h),L.h=null))}if(y.D){const FM=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;FM&&(y.ya=FM,st(y.I,y.D,FM))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var Y=l;if((y=m).qa=lq(y,y.J?y.ia:null,y.W),Y.K){U3(y.h,Y);var Ze=Y,pn=y.L;pn&&(Ze.I=pn),Ze.B&&(RM(Ze),wv(Ze)),y.g=Y}else oq(y);0<m.i.length&&Rv(m)}else"stop"!=Ve[0]&&"close"!=Ve[0]||qa(m,7);else 3==m.G&&("stop"==Ve[0]||"close"==Ve[0]?"stop"==Ve[0]?qa(m,7):xM(m):"noop"!=Ve[0]&&m.l&&m.l.ta(Ve),m.v=0)}Xf()}catch{}}Es.prototype.ca=function(l){l=l.target;const p=this.M;p&&3==Io(l)?p.j():this.Y(l)},Es.prototype.Y=function(l){try{if(l==this.g)e:{const Rn=Io(this.g);var p=this.g.Ba();if(this.g.Z(),!(3>Rn)&&(3!=Rn||this.g&&(this.h.h||this.g.oa()||eq(this.g)))){this.J||4!=Rn||7==p||Xf(),RM(this);var m=this.g.Z();this.X=m;t:if(x3(this)){var y=eq(this.g);l="";var M=y.length,L=4==Io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){za(this),np(this);var Y="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,l+=this.h.i.decode(y[p],{stream:!(L&&p==M-1)});y.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=200==m,function Ive(l,p,m,y,M,L,Y){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+M+"]: "+p+"\n"+m+"\n"+L+" "+Y})}(this.i,this.u,this.A,this.l,this.R,Rn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,pn=this.g;if((Ze=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Ze)){var Ve=Ze;break t}}Ve=null}if(!(m=Ve)){this.o=!1,this.s=3,Hn(12),za(this),np(this);break e}yl(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,MM(this,m)}if(this.P){let ti;for(m=!0;!this.J&&this.C<Y.length;){if(ti=Tve(this,Y),ti==AM){4==Rn&&(this.s=4,Hn(14),m=!1),yl(this.i,this.l,null,"[Incomplete Response]");break}if(ti==N3){this.s=4,Hn(15),yl(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}yl(this.i,this.l,ti,null),MM(this,ti)}if(x3(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Rn||0!=Y.length||this.h.h||(this.s=1,Hn(16),m=!1),this.o=this.o&&m,m){if(0<Y.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),VM(Sn),Sn.M=!0,Hn(11))}}else yl(this.i,this.l,Y,"[Invalid Chunked Response]"),za(this),np(this)}else yl(this.i,this.l,Y,null),MM(this,Y);4==Rn&&za(this),this.o&&!this.J&&(4==Rn?aq(this.j,this):(this.o=!1,wv(this)))}else(function Bve(l){const p={};l=(l.g&&2<=Io(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(A(l[y]))continue;var m=R(l[y]);const M=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const L=p[M]||[];p[M]=L,L.push(m)}!function D(l,p){for(const m in l)p.call(void 0,l[m],m,l)}(p,function(y){return y.join(", ")})})(this.g),400==m&&0<Y.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),za(this),np(this)}}}catch{}},Es.prototype.cancel=function(){this.J=!0,za(this)},Es.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function Eve(l,p){l.info(function(){return"TIMEOUT: "+p})}(this.i,this.A),2!=this.L&&(Xf(),Hn(17)),za(this),this.s=2,np(this)):O3(this,this.S-l)};var Cve=class{constructor(l,p){this.g=l,this.map=p}};function V3(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function F3(l){return!!l.h||!!l.g&&l.g.size>=l.j}function L3(l){return l.h?1:l.g?l.g.size:0}function PM(l,p){return l.h?l.h==p:!!l.g&&l.g.has(p)}function NM(l,p){l.g?l.g.add(p):l.h=p}function U3(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}function B3(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let p=l.i;for(const m of l.g.values())p=p.concat(m.D);return p}return v(l.i)}function j3(l,p){if(l.forEach&&"function"==typeof l.forEach)l.forEach(p,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,p,void 0);else for(var m=function Dve(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var p=[];l=l.length;for(var m=0;m<l;m++)p.push(m);return p}p=[],m=0;for(const y in l)p[m++]=y;return p}}}(l),y=function bve(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var p=[],m=l.length,y=0;y<m;y++)p.push(l[y]);return p}for(y in p=[],m=0,l)p[m++]=l[y];return p}(l),M=y.length,L=0;L<M;L++)p.call(void 0,y[L],m&&m[L],l)}V3.prototype.cancel=function(){if(this.i=B3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var $3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ga){this.h=l.h,Tv(this,l.j),this.o=l.o,this.g=l.g,Cv(this,l.s),this.l=l.l;var p=l.i,m=new op;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),H3(this,m),this.m=l.m}else l&&(p=String(l).match($3))?(this.h=!1,Tv(this,p[1]||"",!0),this.o=rp(p[2]||""),this.g=rp(p[3]||"",!0),Cv(this,p[4]),this.l=rp(p[5]||"",!0),H3(this,p[6]||"",!0),this.m=rp(p[7]||"")):(this.h=!1,this.i=new op(null,this.h))}function vo(l){return new Ga(l)}function Tv(l,p,m){l.j=m?rp(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Cv(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function H3(l,p,m){p instanceof op?(l.i=p,function kve(l,p){p&&!l.j&&(ws(l),l.i=null,l.g.forEach(function(m,y){var M=y.toLowerCase();y!=M&&(G3(this,y),W3(this,M,m))},l)),l.j=p}(l.i,l.h)):(m||(p=ip(p,Pve)),l.i=new op(p,l.h))}function st(l,p,m){l.i.set(p,m)}function bv(l){return st(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function rp(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ip(l,p,m){return"string"==typeof l?(l=encodeURI(l).replace(p,Sve),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Sve(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Ga.prototype.toString=function(){var l=[],p=this.j;p&&l.push(ip(p,z3,!0),":");var m=this.g;return(m||"file"==p)&&(l.push("//"),(p=this.o)&&l.push(ip(p,z3,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(ip(m,"/"==m.charAt(0)?Mve:Rve,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",ip(m,Nve)),l.join("")};var z3=/[#\/\?@]/g,Rve=/[#\?:]/g,Mve=/[#\?]/g,Pve=/[#\?@]/g,Nve=/#/g;function op(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function ws(l){l.g||(l.g=new Map,l.h=0,l.i&&function Ave(l,p){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),M=null;if(0<=y){var L=l[m].substring(0,y);M=l[m].substring(y+1)}else L=l[m];p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}(l.i,function(p,m){l.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}function G3(l,p){ws(l),p=vl(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function q3(l,p){return ws(l),p=vl(l,p),l.g.has(p)}function W3(l,p,m){G3(l,p),0<m.length&&(l.i=null,l.g.set(vl(l,p),v(m)),l.h+=m.length)}function vl(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Ts(l,p,m,y,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),y(m)}catch{}}function Vve(){this.g=new yve}function Fve(l,p,m){const y=m||"";try{j3(l,function(M,L){let Y=M;c(M)&&(Y=wM(M)),p.push(y+L+"="+encodeURIComponent(Y))})}catch(M){throw p.push(y+"type="+encodeURIComponent("_badmap")),M}}function sp(l){this.l=l.Ub||null,this.j=l.eb||!1}function Dv(l,p){An.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function K3(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function ap(l){l.readyState=4,l.l=null,l.j=null,l.v=null,up(l)}function up(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Q3(l){let p="";return re(l,function(m,y){p+=y,p+=":",p+=m,p+="\r\n"}),p}function kM(l,p,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=Q3(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):st(l,p,m))}function St(l){An.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=op.prototype).add=function(l,p){ws(this),this.i=null,l=vl(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(p),this.h+=1,this},t.forEach=function(l,p){ws(this),this.g.forEach(function(m,y){m.forEach(function(M){l.call(p,M,y,this)},this)},this)},t.na=function(){ws(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let y=0;y<p.length;y++){const M=l[y];for(let L=0;L<M.length;L++)m.push(p[y])}return m},t.V=function(l){ws(this);let p=[];if("string"==typeof l)q3(this,l)&&(p=p.concat(this.g.get(vl(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)p=p.concat(l[m])}return p},t.set=function(l,p){return ws(this),this.i=null,q3(this,l=vl(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l&&0<(l=this.V(l)).length?String(l[0]):p},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var y=p[m];const L=encodeURIComponent(String(y)),Y=this.V(y);for(y=0;y<Y.length;y++){var M=L;""!==Y[y]&&(M+="="+encodeURIComponent(String(Y[y]))),l.push(M)}}return this.i=l.join("&")},_(sp,TM),sp.prototype.g=function(){return new Dv(this.l,this.j)},sp.prototype.i=function(l){return function(){return l}}({}),_(Dv,An),(t=Dv.prototype).open=function(l,p){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,up(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ap(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,up(this)),this.g&&(this.readyState=3,up(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K3(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?ap(this):up(this),3==this.readyState&&K3(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ap(this))},t.Qa=function(l){this.g&&(this.response=l,ap(this))},t.ga=function(){this.g&&ap(this)},t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var m=p.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=p.next();return l.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),_(St,An);var Lve=/^https?$/i,Uve=["POST","PUT"];function Y3(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Z3(l),Av(l)}function Z3(l){l.A||(l.A=!0,$n(l,"complete"),$n(l,"error"))}function J3(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=Io(l)||2!=l.Z()))if(l.u&&4==Io(l))I3(l.Ea,0,l);else if($n(l,"readystatechange"),4==Io(l)){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var y;if(y=0===Y){var M=String(l.D).match($3)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),y=!Lve.test(M?M.toLowerCase():"")}m=y}if(m)$n(l,"complete"),$n(l,"success");else{l.m=6;try{var L=2<Io(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",Z3(l)}}finally{Av(l)}}}function Av(l,p){if(l.g){X3(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||$n(l,"ready");try{m.onreadystatechange=y}catch{}}}function X3(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function Io(l){return l.g?l.g.readyState:0}function eq(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function cp(l,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||p}function tq(l){this.Aa=0,this.i=[],this.j=new tp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cp("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cp("baseRetryDelayMs",5e3,l),this.cb=cp("retryDelaySeedMs",1e4,l),this.Wa=cp("forwardChannelMaxRetries",2,l),this.wa=cp("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new V3(l&&l.concurrentRequestLimit),this.Da=new Vve,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function xM(l){if(nq(l),3==l.G){var p=l.U++,m=vo(l.I);if(st(m,"SID",l.K),st(m,"RID",p),st(m,"TYPE","terminate"),lp(l,m),(p=new Es(l,l.j,p)).L=2,p.v=bv(vo(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=p.v,m=!0),m||(p.g=dq(p.j,null),p.g.ea(p.v)),p.F=Date.now(),wv(p)}cq(l)}function Sv(l){l.g&&(VM(l),l.g.cancel(),l.g=null)}function nq(l){Sv(l),l.u&&(a.clearTimeout(l.u),l.u=null),Mv(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function Rv(l){if(!F3(l.h)&&!l.s){l.s=!0;var p=l.Ga;Wf||p3(),Kf||(Wf(),Kf=!0),fM.add(p,l),l.B=0}}function rq(l,p){var m;m=p?p.l:l.U++;const y=vo(l.I);st(y,"SID",l.K),st(y,"RID",m),st(y,"AID",l.T),lp(l,y),l.m&&l.o&&kM(y,l.m,l.o),m=new Es(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),p&&(l.i=p.D.concat(l.i)),p=iq(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),NM(l.h,m),SM(m,y,p)}function lp(l,p){l.H&&re(l.H,function(m,y){st(p,y,m)}),l.l&&j3({},function(m,y){st(p,y,m)})}function iq(l,p,m){m=Math.min(l.i.length,m);var y=l.l?f(l.l.Na,l.l,l):null;e:{var M=l.i;let L=-1;for(;;){const Y=["count="+m];-1==L?0<m?(L=M[0].g,Y.push("ofs="+L)):L=0:Y.push("ofs="+L);let Ze=!0;for(let pn=0;pn<m;pn++){let Ve=M[pn].g;const Sn=M[pn].map;if(Ve-=L,0>Ve)L=Math.max(0,M[pn].g-100),Ze=!1;else try{Fve(Sn,Y,"req"+Ve+"_")}catch{y&&y(Sn)}}if(Ze){y=Y.join("&");break e}}}return l=l.i.splice(0,m),p.D=l,y}function oq(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Wf||p3(),Kf||(Wf(),Kf=!0),fM.add(p,l),l.v=0}}function OM(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=ep(f(l.Fa,l),uq(l,l.v)),l.v++,0))}function VM(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function sq(l){l.g=new Es(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var p=vo(l.qa);st(p,"RID","rpc"),st(p,"SID",l.K),st(p,"AID",l.T),st(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&st(p,"TO",l.ja),st(p,"TYPE","xmlhttp"),lp(l,p),l.m&&l.o&&kM(p,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=bv(vo(p)),m.m=null,m.P=!0,k3(m,l)}function Mv(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function aq(l,p){var m=null;if(l.g==p){Mv(l),VM(l),l.g=null;var y=2}else{if(!PM(l.h,p))return;m=p.D,U3(l.h,p),y=1}if(0!=l.G)if(p.o)if(1==y){m=p.m?p.m.length:0,p=Date.now()-p.F;var M=l.B;$n(y=vv(),new R3(y,m)),Rv(l)}else oq(l);else if(3==(M=p.s)||0==M&&0<p.X||!(1==y&&function jve(l,p){return!(L3(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=p.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=ep(f(l.Ga,l,p),uq(l,l.B)),l.B++,0)))}(l,p)||2==y&&OM(l)))switch(m&&0<m.length&&(p=l.h,p.i=p.i.concat(m)),M){case 1:qa(l,5);break;case 4:qa(l,10);break;case 3:qa(l,6);break;default:qa(l,2)}}function uq(l,p){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*p}function qa(l,p){if(l.j.info("Error code "+p),2==p){var m=f(l.fb,l),y=l.Xa;const M=!y;y=new Ga(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Tv(y,"https"),bv(y),M?function xve(l,p){const m=new tp;if(a.Image){const y=new Image;y.onload=g(Ts,m,"TestLoadImage: loaded",!0,p,y),y.onerror=g(Ts,m,"TestLoadImage: error",!1,p,y),y.onabort=g(Ts,m,"TestLoadImage: abort",!1,p,y),y.ontimeout=g(Ts,m,"TestLoadImage: timeout",!1,p,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else p(!1)}(y.toString(),m):function Ove(l,p){new tp;const y=new AbortController,M=setTimeout(()=>{y.abort(),Ts(0,0,!1,p)},1e4);fetch(l,{signal:y.signal}).then(L=>{clearTimeout(M),Ts(0,0,!!L.ok,p)}).catch(()=>{clearTimeout(M),Ts(0,0,!1,p)})}(y.toString(),m)}else Hn(2);l.G=0,l.l&&l.l.sa(p),cq(l),nq(l)}function cq(l){if(l.G=0,l.ka=[],l.l){const p=B3(l.h);(0!=p.length||0!=l.i.length)&&(I(l.ka,p),I(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function lq(l,p,m){var y=m instanceof Ga?vo(m):new Ga(m);if(""!=y.g)p&&(y.g=p+"."+y.g),Cv(y,y.s);else{var M=a.location;y=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var L=new Ga(null);y&&Tv(L,y),p&&(L.g=p),M&&Cv(L,M),m&&(L.l=m),y=L}return p=l.ya,(m=l.D)&&p&&st(y,m,p),st(y,"VER",l.la),lp(l,y),y}function dq(l,p,m){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(p=new St(l.Ca&&!l.pa?new sp({eb:m}):l.pa)).Ha(l.J),p}function hq(){}function Pv(){}function vr(l,p){An.call(this),this.g=new tq(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!A(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.D=p,null!==(l=this.h)&&p in l&&p in(l=this.h)&&delete l[p]),this.j=new Il(this)}function fq(l){CM.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const m in p){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,p=null!==p&&l in p?p[l]:void 0),this.data=p}else this.data=l}function pq(){bM.call(this),this.status=1}function Il(l){this.g=l}(t=St.prototype).Ha=function(l){this.J=l},t.ea=function(l,p,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():DM.g(),this.v=function C3(l){return l.h||(l.h=l.i())}(this.o?this.o:DM),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){return void Y3(this,L)}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var M in y)m.set(M,y[M]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const L of y.keys())m.set(L,y.get(L))}y=Array.from(m.keys()).find(L=>"content-type"==L.toLowerCase()),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Uve,p,void 0))||y||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Y]of m)this.g.setRequestHeader(L,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{X3(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){Y3(this,L)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$n(this,"complete"),$n(this,"abort"),Av(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Av(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?J3(this):this.bb())},t.bb=function(){J3(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Io(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&0==p.indexOf(l)&&(p=p.substring(l.length)),_ve(p)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=tq.prototype).la=8,t.G=1,t.connect=function(l,p,m,y){Hn(0),this.W=l,this.H=p||{},m&&void 0!==y&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=lq(this,null,this.W),Rv(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Es(this,this.j,l);let L=this.o;if(this.S&&(L?(L=w(L),S(L,this.S)):L=this.S),null!==this.m||this.O||(M.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){var y=this.i[m];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(p+=y)){p=m;break e}if(4096===p||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=iq(this,M,p),st(m=vo(this.I),"RID",l),st(m,"CVER",22),this.D&&st(m,"X-HTTP-Session-Id",this.D),lp(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(Q3(L)))+"&"+p:this.m&&kM(m,this.m,L)),NM(this.h,M),this.Ua&&st(m,"TYPE","init"),this.P?(st(m,"$req",p),st(m,"SID","null"),M.T=!0,SM(M,m,null)):SM(M,m,p),this.G=2}}else 3==this.G&&(l?rq(this,l):0==this.i.length||F3(this.h)||rq(this))},t.Fa=function(){if(this.u=null,sq(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ep(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hn(10),Sv(this),sq(this))},t.Za=function(){null!=this.C&&(this.C=null,Sv(this),OM(this),Hn(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=hq.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},Pv.prototype.g=function(l,p){return new vr(l,p)},_(vr,An),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){xM(this.g)},vr.prototype.o=function(l){var p=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=wM(l),l=m);p.i.push(new Cve(p.Ya++,l)),3==p.G&&Rv(p)},vr.prototype.N=function(){this.g.l=null,delete this.j,xM(this.g),delete this.g,vr.aa.N.call(this)},_(fq,CM),_(pq,bM),_(Il,hq),Il.prototype.ua=function(){$n(this.g,"a")},Il.prototype.ta=function(l){$n(this.g,new fq(l))},Il.prototype.sa=function(l){$n(this.g,new pq)},Il.prototype.ra=function(){$n(this.g,"b")},Pv.prototype.createWebChannel=Pv.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,Zj=co.createWebChannelTransport=function(){return new Pv},Yj=co.getStatEventTarget=function(){return vv()},Qj=co.Event=Ha,QA=co.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iv.NO_ERROR=0,Iv.TIMEOUT=8,Iv.HTTP_ERROR=6,L_=co.ErrorCode=Iv,M3.COMPLETE="complete",Kj=co.EventType=M3,b3.EventType=Jf,Jf.OPEN="a",Jf.CLOSE="b",Jf.ERROR="c",Jf.MESSAGE="d",An.prototype.listen=An.prototype.K,Hh=co.WebChannel=b3,co.FetchXmlHttpFactory=sp,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,Wj=co.XhrIo=St}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});const Jj="@firebase/firestore";class tn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Ec="11.5.0";const Qo=new s_("@firebase/firestore");function wc(){return Qo.logLevel}function $(t,...e){if(Qo.logLevel<=Ae.DEBUG){const n=e.map(YA);Qo.debug(`Firestore (${Ec}): ${t}`,...n)}}function kt(t,...e){if(Qo.logLevel<=Ae.ERROR){const n=e.map(YA);Qo.error(`Firestore (${Ec}): ${t}`,...n)}}function xr(t,...e){if(Qo.logLevel<=Ae.WARN){const n=e.map(YA);Qo.warn(`Firestore (${Ec}): ${t}`,...n)}}function YA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function X(t="Unexpected state"){const e=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: `+t;throw kt(e),new Error(e)}function ne(t,e){t||X()}function Q(t,e){return t}const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class e${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ghe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class qhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Whe{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;ne(void 0===this.o);let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(E(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne("string"==typeof r.accessToken),new e$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ne(null===e||"string"==typeof e),new tn(e)}}class Khe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qhe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Khe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yhe{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ne(void 0===this.o);const r=o=>{null!=o.error&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ZA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ne("string"==typeof n.token),this.R=n.token,new ZA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zhe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function JA(){return new TextEncoder}class t${static newId(){const n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Zhe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function XA(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ue(r,i);{const o=JA(),s=Jhe(o.encode(n$(t,n)),o.encode(n$(e,n)));return 0!==s?s:ue(r,i)}}n+=r>65535?2:1}return ue(t.length,e.length)}function n$(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Jhe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ue(t[n],e[n]);return ue(t.length,e.length)}function Tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const i$=-62135596800;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i$)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-i$).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new _t(0,0))}static max(){return new ie(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eS="__name__";class Ei{constructor(e,n,r){void 0===n?n=0:n>e.length&&X(),void 0===r?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ei.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ei.compareSegments(e.get(i),n.get(i));if(0!==o)return o}return ue(e.length,n.length)}static compareSegments(e,n){const r=Ei.isNumericId(e),i=Ei.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):XA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ko.fromString(e.substring(4,e.length-2))}}class Se extends Ei{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const Xhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Ei{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return Xhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===eS}static keyField(){return new ht([eS])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(Se.fromString(e))}static fromName(e){return new J(Se.fromString(e).popFirst(5))}static empty(){return new J(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Se(e.slice()))}}class mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mr(ie.min(),J.empty(),-1)}static max(){return new mr(ie.max(),J.empty(),-1)}}function nS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:ue(t.largestBatchId,e.largestBatchId))}class c${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yo(t){return rS.apply(this,arguments)}function rS(){return(rS=E(function*(t){if(t.code!==k.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;$("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Zo(t){return"IndexedDbTransactionError"===t.name}let yr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return t.ae=-1,t})();function qh(t){return null==t}function Wh(t){return 0===t&&1/t==-1/0}function sfe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function f$(t){return t+"\x01\x01"}const Qh="mutationQueues",Xr="mutations",Sc="documentMutations",Yh="remoteDocumentGlobal",Rc="targets",Mc="targetDocuments",Ea="targetGlobal",Zh="collectionParents",Pc="clientMetadata",G_="bundles",q_="namedQueries";function b$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Y_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Y_(this.root,e,this.comparator,!1)}getReverseIterator(){return new Y_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Y_(this.root,e,this.comparator,!0)}}class Y_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1,dn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S$(this.data.getIterator())}getIteratorFrom(e){return new S$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class S${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rr{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new rr([])}unionWith(e){let n=new He(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class R$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new R$("Invalid base64 string: "+o):o}}(e);return new At(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Nfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(ne(!!t),"string"==typeof t){let e=0;const n=Nfe.exec(t);if(ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ho(t){return"string"==typeof t?At.fromBase64String(t):At.fromUint8Array(t)}const M$="server_timestamp",P$="__type__",N$="__previous_value__",k$="__local_write_time__";function Z_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[P$])||void 0===n?void 0:n.stringValue)===M$}function J_(t){const e=t.mapValue.fields[N$];return Z_(e)?J_(e):e}function Jh(t){const e=lo(t.mapValue.fields[k$].timestampValue);return new _t(e.seconds,e.nanos)}class kfe{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const Xh="(default)";class wa{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}const fS="__type__",x$="__max__",es_mapValue={fields:{__type__:{stringValue:x$}}},pS="__vector__",kc="value";function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z_(t)?4:U$(t)?9007199254740991:ny(t)?10:11:X()}function Ci(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jh(t).isEqual(Jh(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=lo(i.timestampValue),a=lo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,ho(t.bytesValue).isEqual(ho(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?Wh(s)===Wh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Tc(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(b$(s)!==b$(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Ci(s[u],a[u])))return!1;return!0}(t,e);default:return X()}var o}function ef(t,e){return void 0!==(t.values||[]).find(n=>Ci(n,e))}function ns(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),u=ft(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return O$(t.timestampValue,e.timestampValue);case 4:return O$(Jh(t),Jh(e));case 5:return XA(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ho(o),u=ho(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ue(a[c],u[c]);if(0!==d)return d}return ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ue(ft(o.latitude),ft(s.latitude));return 0!==a?a:ue(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return V$(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const g=null===(a=(o.fields||{})[kc])||void 0===a?void 0:a.arrayValue,_=null===(u=(s.fields||{})[kc])||void 0===u?void 0:u.arrayValue,v=ue((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=_?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:V$(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===es_mapValue&&s===es_mapValue)return 0;if(o===es_mapValue)return 1;if(s===es_mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const f=XA(u[h],d[h]);if(0!==f)return f;const g=ns(a[u[h]],c[d[h]]);if(0!==g)return g}return ue(u.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function O$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ue(t,e);const n=lo(t),r=lo(e),i=ue(n.seconds,r.seconds);return 0!==i?i:ue(n.nanos,r.nanos)}function V$(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ns(n[i],r[i]);if(o)return o}return ue(n.length,r.length)}function xc(t){return gS(t)}function gS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ho(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=gS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${gS(n.fields[s])}`;return i+"}"}(t.mapValue):X()}function ey(t){switch(ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=J_(t);return e?16+ey(e):16;case 5:return 2*t.stringValue.length;case 6:return ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+ey(o),0);case 10:case 11:return function(r){let i=0;return Xo(r.fields,(o,s)=>{i+=o.length+ey(s)}),i}(t.mapValue);default:throw X()}}function mS(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function F$(t){return!!t&&"nullValue"in t}function L$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ty(t){return!!t&&"mapValue"in t}function ny(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[fS])||void 0===n?void 0:n.stringValue)===pS}function nf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x$}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ty(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ty(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ty(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new hn(nf(this.value))}}function H$(t){const e=[];return Xo(t.fields,(n,r)=>{const i=new ht([n]);if(ty(r)){const o=H$(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new rr(e)}class ot{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,ie.min(),ie.min(),ie.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,ie.min(),ie.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,ie.min(),ie.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rs{constructor(e,n){this.position=e,this.inclusive=n}}function z$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?J.comparator(J.fromName(s.referenceValue),n.key):ns(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function G$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}class rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class q${}class Re extends q${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Ffe(e,n,r):"array-contains"===n?new Bfe(e,r):"in"===n?new J$(e,r):"not-in"===n?new jfe(e,r):"array-contains-any"===n?new $fe(e,r):new Re(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Lfe(e,r):new Ufe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ns(n,this.value)):null!==n&&ts(this.value)===ts(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ze extends q${constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ze(e,n)}matches(e){return Oc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Oc(t){return"and"===t.op}function yS(t){return function W$(t){for(const e of t.filters)if(e instanceof ze)return!1;return!0}(t)&&Oc(t)}function vS(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+xc(t.value);if(yS(t))return t.filters.map(e=>vS(e)).join(",");{const e=t.filters.map(n=>vS(n)).join(",");return`${t.op}(${e})`}}function K$(t,e){return t instanceof Re?(r=t,(i=e)instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&Ci(r.value,i.value)):t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&K$(s,i.filters[a]),!0)}(t,e):void X();var r,i}function Y$(t){return t instanceof Re?`${(n=t).field.canonicalString()} ${n.op} ${xc(n.value)}`:t instanceof ze?function(n){return n.op.toString()+" {"+n.getFilters().map(Y$).join(" ,")+"}"}(t):"Filter";var n}class Ffe extends Re{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lfe extends Re{constructor(e,n){super(e,"in",n),this.keys=Z$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ufe extends Re{constructor(e,n){super(e,"not-in",n),this.keys=Z$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class Bfe extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tf(n)&&ef(n.arrayValue,this.value)}}class J$ extends Re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ef(this.value.arrayValue,n)}}class jfe extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ef(this.value.arrayValue,n)}}class $fe extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}class Hfe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function IS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Hfe(t,e,n,r,i,o,s)}function Ca(t){const e=Q(t);if(null===e.le){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xc(r)).join(",")),e.le=n}return e.le}function sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G$(t.startAt,e.startAt)&&G$(t.endAt,e.endAt)}function ry(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class fo{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null}}function Vc(t){return new fo(t)}function nH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Fc(t){const e=Q(t);if(null===e.he){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new He(ht.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new rf(o,r))}),n.has(ht.keyField().canonicalString())||e.he.push(new rf(ht.keyField(),r))}return e.he}function wn(t){const e=Q(t);return e.Pe||(e.Pe=function iH(t,e){if("F"===t.limitType)return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new rf(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new rs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rs(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Fc(t))),e.Pe}function oy(t,e,n){return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return sf(wn(t),wn(e))&&t.limitType===e.limitType}function oH(t){return`${Ca(wn(t))}|lt:${t.limitType}`}function Lc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y$(i)).join(", ")}]`),qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xc(i)).join(",")),`Target(${r})`}(wn(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Fc(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=z$(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Fc(r),i)||r.endAt&&!function(s,a,u){const c=z$(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Fc(r),i)));var r,i}function aH(t){return(e,n)=>{let r=!1;for(const i of Fc(t)){const o=zfe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function zfe(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?ns(u,c):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return A$(this.inner)}size(){return this.innerSize}}const Gfe=new tt(J.comparator);function ir(){return Gfe}const uH=new tt(J.comparator);function cf(...t){let e=uH;for(const n of t)e=e.insert(n.key,n);return e}function cH(t){let e=uH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return lf()}function lH(){return lf()}function lf(){return new po(t=>t.toString(),(t,e)=>t.isEqual(e))}const qfe=new tt(J.comparator),Wfe=new He(J.comparator);function ve(...t){let e=Wfe;for(const n of t)e=e.add(n);return e}const Kfe=new He(ue);function CS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function dH(t){return{integerValue:""+t}}function hH(t,e){return function h$(t){return"number"==typeof t&&Number.isInteger(t)&&!Wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?dH(e):CS(t,e)}class sy{constructor(){this._=void 0}}function Qfe(t,e,n){return t instanceof Uc?function(i,o){const s={fields:{[P$]:{stringValue:M$},[k$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Z_(o)&&(o=J_(o)),o&&(s.fields[N$]=o),{mapValue:s}}(n,e):t instanceof ba?pH(t,e):t instanceof Da?gH(t,e):function(i,o){const s=fH(i,o),a=mH(s)+mH(i.Ie);return mS(s)&&mS(i.Ie)?dH(a):CS(i.serializer,a)}(t,e)}function Yfe(t,e,n){return t instanceof ba?pH(t,e):t instanceof Da?gH(t,e):n}function fH(t,e){return t instanceof Bc?mS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Uc extends sy{}class ba extends sy{constructor(e){super(),this.elements=e}}function pH(t,e){const n=_H(e);for(const r of t.elements)n.some(i=>Ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class Da extends sy{constructor(e){super(),this.elements=e}}function gH(t,e){let n=_H(e);for(const r of t.elements)n=n.filter(i=>!Ci(i,r));return{arrayValue:{values:n}}}class Bc extends sy{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mH(t){return ft(t.integerValue||t.doubleValue)}function _H(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Jfe{constructor(e,n){this.version=e,this.transformResults=n}}class pt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pt}static exists(e){return new pt(void 0,e)}static updateTime(e){return new pt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ay(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class uy{}function yH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new $c(t.key,pt.none()):new jc(t.key,t.data,pt.none());{const n=t.data,r=hn.empty();let i=new He(ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new go(t.key,r,new rr(i.toArray()),pt.none())}}function Xfe(t,e,n){t instanceof jc?function(i,o,s){const a=i.value.clone(),u=EH(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof go?function(i,o,s){if(!ay(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=EH(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IH(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hf(t,e,n,r){return t instanceof jc?function(o,s,a,u){if(!ay(o.precondition,s))return a;const c=o.value.clone(),d=wH(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof go?function(o,s,a,u){if(!ay(o.precondition,s))return a;const c=wH(o.fieldTransforms,u,s),d=s.data;return d.setAll(IH(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,ay(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function epe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=fH(r.transform,i||null);null!=o&&(null===n&&(n=hn.empty()),n.set(r.field,o))}return n||null}function vH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Tc(r,i,(o,s)=>function Zfe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ba&&i instanceof ba||r instanceof Da&&i instanceof Da?Tc(r.elements,i.elements,Ci):r instanceof Bc&&i instanceof Bc?Ci(r.Ie,i.Ie):r instanceof Uc&&i instanceof Uc);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class jc extends uy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends uy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EH(t,e,n){const r=new Map;ne(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Yfe(s,a,n[i]))}return r}function wH(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Qfe(o,s,e))}return r}class $c extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bS extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Xfe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lH();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=yH(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,(n,r)=>vH(n,r))&&Tc(this.baseMutations,e.baseMutations,(n,r)=>vH(n,r))}}class AS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ne(e.mutations.length===r.length);let i=function(){return qfe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new AS(e,n,r,i)}}class SS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tpe{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,Ne;function bH(t){if(void 0===t)return kt("GRPC error has no .code"),k.UNKNOWN;switch(t){case $t.OK:return k.OK;case $t.CANCELLED:return k.CANCELLED;case $t.UNKNOWN:return k.UNKNOWN;case $t.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case $t.INTERNAL:return k.INTERNAL;case $t.UNAVAILABLE:return k.UNAVAILABLE;case $t.UNAUTHENTICATED:return k.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case $t.NOT_FOUND:return k.NOT_FOUND;case $t.ALREADY_EXISTS:return k.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return k.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case $t.ABORTED:return k.ABORTED;case $t.OUT_OF_RANGE:return k.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return k.UNIMPLEMENTED;case $t.DATA_LOSS:return k.DATA_LOSS;default:return X()}}(Ne=$t||($t={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";const npe=new Ko([4294967295,4294967295],0);function DH(t){const e=JA().encode(t),n=new qj;return n.update(e),new Uint8Array(n.digest())}function AH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ko([n,r],0),new Ko([i,o],0)]}class RS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ff(`Invalid padding: ${n}`);if(r<0)throw new ff(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ff(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ff(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ko.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Ko.fromNumber(r)));return 1===i.compare(npe)&&(i=new Ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const n=DH(e),[r,i]=AH(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new RS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ee)return;const n=DH(e),[r,i]=AH(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pf(ie.min(),i,new tt(ue),ir(),ve())}}class gf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,ve(),ve(),ve())}}class ly{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class SH{constructor(e,n){this.targetId=e,this.ge=n}}class RH{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MH{constructor(){this.pe=0,this.ye=PH(),this.we=At.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ve(),n=ve(),r=ve();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new gf(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=PH()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ne(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class rpe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=dy(),this.Ue=dy(),this.Ke=new tt(ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(ry(o))if(0===r){const s=new J(o.path);this.ze(n,s,ot.newNoDocument(s,ie.min()))}else ne(1===r);else{const s=this.et(n);if(s!==r){const a=this.tt(e),u=a?this.nt(a,e,s):1;0!==u&&(this.Ye(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ho(r).toUint8Array()}catch(u){if(u instanceof R$)return xr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new RS(s,i,o)}catch(u){return xr(u instanceof ff?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ee?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&ry(a.target)){const u=new J(a.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,ot.newNoDocument(u,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=ve();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Xe(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new pf(e,n,this.Ke,this.Qe,r);return this.Qe=ir(),this.$e=dy(),this.Ue=dy(),this.Ke=new tt(ue),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new MH,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new He(ue),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new He(ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=null!==this.Xe(e);return n||$("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new MH),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function dy(){return new tt(J.comparator)}function PH(){return new tt(J.comparator)}const ipe={asc:"ASCENDING",desc:"DESCENDING"},ope={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},spe={and:"AND",or:"OR"};class ape{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function MS(t,e){return t.useProto3Json||qh(e)?e:{value:e}}function Hc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function upe(t,e){return Hc(t,e.toTimestamp())}function xt(t){return ne(!!t),ie.fromTimestamp(function(n){const r=lo(n);return new _t(r.seconds,r.nanos)}(t))}function PS(t,e){return NS(t,e).canonicalString()}function NS(t,e){const n=(i=t,new Se(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function kH(t){const e=Se.fromString(t);return ne(zH(e)),e}function mf(t,e){return PS(t.databaseId,e.path)}function Di(t,e){const n=kH(e);if(n.get(1)!==t.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(VH(n))}function xH(t,e){return PS(t.databaseId,e)}function kS(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VH(t){return ne(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function FH(t,e,n){return{name:mf(t,e),fields:n.value.mapValue.fields}}function UH(t,e){return{documents:[xH(t,e.path)]}}function hy(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xH(t,i);const o=function(c){if(0!==c.length)return HH(ze.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:is((f=d).field),direction:fpe(f.dir)};var f})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=MS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i};var c}function jH(t){let e=function OH(t){const e=kH(t);return 4===e.length?Se.emptyPath():VH(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ne(1===r);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=$H(h);return f instanceof ze&&yS(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new rf(zc((_=f).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;n.limit&&(a=function(h){let f;return f="object"==typeof h?h.value:h,qh(f)?null:f}(n.limit));let u=null;var h;n.startAt&&(u=new rs((h=n.startAt).values||[],!!h.before));let c=null;return n.endAt&&(c=function(h){return new rs(h.values||[],!h.before)}(n.endAt)),function tH(t,e,n,r,i,o,s,a){return new fo(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function $H(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zc(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zc(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zc(n.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zc(n.unaryFilter.field);return Re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):void 0!==t.fieldFilter?Re.create(zc((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return ze.create(n.compositeFilter.filters.map(r=>$H(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X();var n}function fpe(t){return ipe[t]}function ppe(t){return ope[t]}function gpe(t){return spe[t]}function is(t){return{fieldPath:t.canonicalString()}}function zc(t){return ht.fromServerFormat(t.fieldPath)}function HH(t){return t instanceof Re?function(n){if("=="===n.op){if(L$(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(F$(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(L$(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(F$(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:ppe(n.op),value:n.value}}}(t):t instanceof ze?function(n){const r=n.getFilters().map(i=>HH(i));return 1===r.length?r[0]:{compositeFilter:{op:gpe(n.op),filters:r}}}(t):X()}function mpe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zH(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mo{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=At.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GH{constructor(e){this.Tt=e}}function OS(t){const e=jH({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?oy(e,e.limit,"L"):e}class Ma{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(ft(e.integerValue));else if("doubleValue"in e){const r=ft(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),Wh(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),"string"==typeof r&&(r=lo(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.St(n);else if("bytesValue"in e)this.ft(n,30),n.bt(ho(e.bytesValue)),this.St(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?U$(e)?this.ft(n,Number.MAX_SAFE_INTEGER):ny(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.St(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.St(n)):X()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){const r=e.fields||{};this.ft(n,55);for(const i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;const o=e.fields||{};this.ft(n,53);const s=kc,a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.ft(n,15),n.gt(ft(a)),this.wt(s,n),this.Rt(o[s],n)}Ft(e,n){const r=e.values||[];this.ft(n,50);for(const i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),J.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}St(e){e.gt(2)}}Ma.xt=new Ma;class bpe{constructor(){this.Tn=new jS}addToCollectionParentIndex(e,n){return this.Tn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(mr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class jS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Se.comparator)).toArray()}}new Uint8Array(0);const az={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Na{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Na(0)}static Kn(){return new Na(-1)}}const fz="LruGarbageCollector";function gz([t,e],[n,r]){const i=ue(t,n);return 0===i?ue(e,r):i}class Spe{constructor(e){this.Hn=e,this.buffer=new He(gz),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gz(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){var n=this;$(fz,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,E(function*(){n.Xn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Zo(r)?$(fz,"Ignoring IndexedDB error during garbage collection: ",r):yield Yo(r)}yield n.er(3e5)}))}}class Rpe{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return P.resolve(yr.ae);const r=new Spe(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(az)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),az):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),wc()<=Ae.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${h} documents in `+(c-u)+`ms\nTotal Duration: ${c-d}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class yz{constructor(){this.changes=new po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kpe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Tz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&hf(r.mutation,i,rr.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=cf();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ir();const s=lf(),a=lf();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof go)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),hf(d.mutation,c,d.mutation.getFieldMask(),_t.now())):s.set(c.key,rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new kpe(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=lf();let i=new tt((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let d=r.get(u)||rr.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=lH();d.forEach(f=>{if(!o.has(f)){const g=yH(n.get(f),r.get(f));null!==g&&h.set(f,g),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return J.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ES(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(bi());let a=-1,u=o;return s.next(c=>P.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?P.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ve())).next(d=>({batchId:a,changes:cH(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=cf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=cf();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{const c=(h=n,f=u.child(o),new fo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,f;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,ot.newInvalidDocument(d)))});let a=cf();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&hf(d.mutation,c,rr.empty(),_t.now()),uf(n,c)&&(a=a.insert(u,c))}),a})}}class xpe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return P.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,{id:(i=n).id,version:i.version,createTime:xt(i.createTime)}),P.resolve();var i}getNamedQuery(e,n){return P.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,{name:(i=n).name,query:OS(i.bundledQuery),readTime:xt(i.readTime)}),P.resolve();var i}}class Ope{constructor(){this.overlays=new tt(J.comparator),this.Rr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=bi(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new tt((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=bi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=bi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return P.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SS(n,r));let o=this.Rr.get(n);void 0===o&&(o=ve(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}class Vpe{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}}class $S{constructor(){this.Vr=new He(rn.mr),this.gr=new He(rn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new rn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new rn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new J(new Se([])),r=new rn(n,e),i=new rn(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new J(new Se([])),r=new rn(n,e),i=new rn(n,e+1);let o=ve();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new rn(e,0),r=this.Vr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return J.comparator(e.key,n.key)||ue(e.Cr,n.Cr)}static pr(e,n){return ue(e.Cr,n.Cr)||J.comparator(e.key,n.key)}}class Fpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new He(rn.mr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++;const s=new DS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new rn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Nr(n+1),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),i=new rn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ue);return n.forEach(i=>{const o=new rn(i,0),s=new rn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),P.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;J.isDocumentKey(o)||(o=o.child(""));const s=new rn(new J(o),0);let a=new He(ue);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Cr)),!0)},s),P.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ne(0===this.Lr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Mr;return P.forEach(n.mutations,i=>{const o=new rn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new rn(n,0),i=this.Mr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Lpe{constructor(e){this.kr=e,this.docs=new tt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ot.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ir();const s=n.path,a=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||nS(new mr((t=d).readTime,t.key,-1),r)<=0||(i.has(d.key)||uf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}var t;return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X()}qr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Upe(this)}getSize(e){return P.resolve(this.size)}}class Upe extends yz{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}class Bpe{constructor(e){this.persistence=e,this.Qr=new po(n=>Ca(n),sf),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new $S,this.targetCount=0,this.Kr=Na.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),P.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Na(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.zn(n),P.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Ur.containsKey(n))}}class HS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new yr(0),this.zr=!1,this.zr=!0,this.jr=new Vpe,this.referenceDelegate=e(this),this.Hr=new Bpe(this),this.indexManager=new bpe,this.remoteDocumentCache=new Lpe(r=>this.referenceDelegate.Jr(r)),this.serializer=new GH(n),this.Yr=new xpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ope,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Fpe(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new jpe(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return P.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class jpe extends c${constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.ti=new $S,this.ni=null}static ri(e){return new Iy(e)}get ii(){if(this.ni)return this.ni;throw X()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),P.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.ii,r=>{const i=J.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return P.or([()=>P.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ey{constructor(e,n){this.persistence=e,this.oi=new po(r=>function En(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=f$(e)),e=sfe(t.get(n),e);return f$(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function _z(t,e){return new Rpe(t,e)}(this,n)}static ri(e,n){return new Ey(e,n)}Zr(){}Xr(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return P.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),P.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ey(e.data.value)),n}ar(e,n,r){return P.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return P.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class QS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new QS(e,n.fromCache,r,i)}}class Hpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function UU(){return!function tae(){var t;const e=null===(t=r_())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function l$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Pt())>0?6:4}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Hpe;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(wc()<=Ae.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),P.resolve()):(wc()<=Ae.DEBUG&&$("QueryEngine","Query:",Lc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(wc()<=Ae.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):P.resolve())}rs(e,n){if(nH(n))return P.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=oy(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ve(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.cs(n,a);return this.ls(n,c,s,u.readTime)?this.rs(e,oy(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,r,i){return nH(n)||i.isEqual(ie.min())?P.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?P.resolve(null):(wc()<=Ae.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lc(n)),this.hs(e,s,n,function s$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(1e9===r?new _t(n+1,0):new _t(n,r));return new mr(i,J.empty(),e)}(i,-1)).next(a=>a))})}cs(e,n){let r=new He(aH(e));return n.forEach((i,o)=>{uf(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return wc()<=Ae.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Lc(n)),this.ns.getDocumentsMatchingQuery(e,n,mr.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}const YS="LocalStore";class Gpe{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new tt(ue),this.Is=new po(o=>Ca(o),sf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Sz(t,e){return ZS.apply(this,arguments)}function ZS(){return(ZS=E(function*(t,e){const n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ve();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function Rz(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Kpe(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zc(t,e,n){return JS.apply(this,arguments)}function JS(){return(JS=E(function*(t,e,n){const r=Q(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zo(s))throw s;$(YS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})).apply(this,arguments)}function Ty(t,e,n){const r=Q(t);let i=ie.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=Q(u),f=h.Is.get(d);return void 0!==f?P.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,d)}(r,s,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ve())).next(a=>(function kz(t,e,n){let r=t.Es.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}(r,function sH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,gs:o})))}class r0{constructor(){this.activeTargetIds=function TS(){return Kfe}()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uz{constructor(){this.ho=new r0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new r0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zpe{To(e){}shutdown(){}}const Bz="ConnectivityMonitor";class jz{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(Bz,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){$(Bz,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dy=null;function s0(){return null===Dy?Dy=268435456+Math.round(2147483648*Math.random()):Dy++,"0x"+Dy.toString(16)}const a0="RestConnection",Jpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xpe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=s0(),a=this.bo(e,n.toUriEncodedString());$(a0,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,a,u,r).then(c=>($(a0,`Received RPC '${e}' ${s}: `,c),c),c=>{throw xr(a0,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ec,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){return`${this.po}/v1/${n}:${Jpe[e]}`}terminate(){}}class ege{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Cn="WebChannelConnection";class tge extends Xpe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=s0();return new Promise((s,a)=>{const u=new Wj;u.setWithCredentials(!0),u.listenOnce(Kj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case L_.NO_ERROR:const d=u.getResponseJson();$(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case L_.TIMEOUT:$(Cn,`RPC '${e}' ${o} timed out`),a(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case L_.HTTP_ERROR:const h=u.getStatus();if($(Cn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f?.error;if(g&&g.status&&g.message){const _=function(I){const b=I.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(b)>=0?b:k.UNKNOWN}(g.status);a(new H(_,g.message))}else a(new H(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(k.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{$(Cn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);$(Cn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=s0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zj(),a=Yj(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");$(Cn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let f=!1,g=!1;const _=new ege({Fo:I=>{g?$(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||($(Cn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),$(Cn,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},Mo:()=>h.close()}),v=(I,b,A)=>{I.listen(b,O=>{try{A(O)}catch(W){setTimeout(()=>{throw W},0)}})};return v(h,Hh.EventType.OPEN,()=>{g||($(Cn,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),v(h,Hh.EventType.CLOSE,()=>{g||(g=!0,$(Cn,`RPC '${e}' stream ${i} transport closed`),_.Uo())}),v(h,Hh.EventType.ERROR,I=>{g||(g=!0,xr(Cn,`RPC '${e}' stream ${i} transport errored:`,I),_.Uo(new H(k.UNAVAILABLE,"The operation could not be completed")))}),v(h,Hh.EventType.MESSAGE,I=>{var b;if(!g){const A=I.data[0];ne(!!A);const O=A,W=O?.error||(null===(b=O[0])||void 0===b?void 0:b.error);if(W){$(Cn,`RPC '${e}' stream ${i} received error:`,W);const Z=W.status;let re=function(T){const S=$t[T];if(void 0!==S)return bH(S)}(Z),D=W.message;void 0===re&&(re=k.INTERNAL,D="Unknown error status: "+Z+" with message "+W.message),g=!0,_.Uo(new H(re,D)),h.close()}else $(Cn,`RPC '${e}' stream ${i} received:`,A),_.Ko(A)}}),v(a,Qj.STAT_EVENT,I=>{I.stat===QA.PROXY?$(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===QA.NOPROXY&&$(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function Ay(){return typeof document<"u"?document:null}function bf(t){return new ape(t,!0)}class u0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Hz="PersistentStream";class zz{constructor(e,n,r,i,o,s,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new u0(e,n)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}stop(){var e=this;return E(function*(){e.u_()&&(yield e.close(0))})()}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){var e=this;return E(function*(){if(e.c_())return e.close(0)})()}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){var r=this;return E(function*(){r.E_(),r.d_(),r.a_.cancel(),r.i_++,4!==e?r.a_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(kt(n.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),r.a_.Zo()):n&&n.code===k.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.A_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Lo(n)})()}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.__?this.g_(i):this.onNext(i))})}l_(){var e=this;this.state=5,this.a_.Xo(E(function*(){e.state=0,e.start()}))}m_(e){return $(Hz,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():($(Hz,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nge extends zz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=function lpe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:X(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(ne(void 0===d||"string"==typeof d),At.fromBase64String(d||"")):(ne(void 0===d||d instanceof Buffer||d instanceof Uint8Array),At.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?k.UNKNOWN:bH(c.code);return new H(d,c.message||"")}(s);n=new RH(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Di(t,r.document.name),o=xt(r.document.updateTime),s=r.document.createTime?xt(r.document.createTime):ie.min(),a=new hn({mapValue:{fields:r.document.fields}}),u=ot.newFoundDocument(i,o,s,a);n=new ly(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Di(t,r.document),o=r.readTime?xt(r.readTime):ie.min(),s=ot.newNoDocument(i,o);n=new ly([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Di(t,r.document);n=new ly([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return X();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new tpe(i,o);n=new SH(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?xt(s.readTime):ie.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=kS(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=ry(u)?{documents:UH(o,u)}:{query:hy(o,u).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=NH(o,s.resumeToken);const c=MS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Hc(o,s.snapshotVersion.toTimestamp());const c=MS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function hpe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=kS(this.serializer),n.removeTarget=e,this.I_(n)}}class rge extends zz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ne(!!e.streamToken),this.lastStreamToken=e.streamToken,ne(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=function dpe(t,e){return t&&t.length>0?(ne(void 0!==e),t.map(n=>function(i,o){let s=xt(i.updateTime?i.updateTime:o);return s.isEqual(ie.min())&&(s=xt(o)),new Jfe(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=xt(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=kS(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function _f(t,e){let n;if(e instanceof jc)n={update:FH(t,e.key,e.value)};else if(e instanceof $c)n={delete:mf(t,e.key)};else if(e instanceof go)n={update:FH(t,e.key,e.data),updateMask:mpe(e.fieldMask)};else{if(!(e instanceof bS))return X();n={verify:mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Uc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ba)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:upe(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:X()),n;var o}(this.serializer,r))};this.I_(n)}}class ige{}class oge extends ige{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,NS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,NS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class sge{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(kt(n),this.N_=!1):$("OnlineStateTracker",n)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const xa="RemoteStore";class age{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(a=>{r.enqueueAndForget(E(function*(){var u;cs(s)&&($(xa,"Restarting streams for network reachability change."),yield(u=E(function*(d){const h=Q(d);h.W_.add(4),yield Jc(h),h.j_.set("Unknown"),h.W_.delete(4),yield Df(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.j_=new sge(r,i)}}function Df(t){return c0.apply(this,arguments)}function c0(){return(c0=E(function*(t){if(cs(t))for(const e of t.G_)yield e(!0)})).apply(this,arguments)}function Jc(t){return l0.apply(this,arguments)}function l0(){return(l0=E(function*(t){for(const e of t.G_)yield e(!1)})).apply(this,arguments)}function Sy(t,e){const n=Q(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),f0(n)?h0(n):tl(n).c_()&&d0(n,e))}function Xc(t,e){const n=Q(t),r=tl(n);n.K_.delete(e),r.c_()&&Gz(n,e),0===n.K_.size&&(r.c_()?r.P_():cs(n)&&n.j_.set("Unknown"))}function d0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(t).y_(e)}function Gz(t,e){t.H_.Ne(e),tl(t).w_(e)}function h0(t){t.H_=new rpe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),tl(t).start(),t.j_.B_()}function f0(t){return cs(t)&&!tl(t).u_()&&t.K_.size>0}function cs(t){return 0===Q(t).W_.size}function qz(t){t.H_=void 0}function uge(t){return p0.apply(this,arguments)}function p0(){return(p0=E(function*(t){t.j_.set("Online")})).apply(this,arguments)}function cge(t){return g0.apply(this,arguments)}function g0(){return(g0=E(function*(t){t.K_.forEach((e,n)=>{d0(t,e)})})).apply(this,arguments)}function lge(t,e){return m0.apply(this,arguments)}function m0(){return(m0=E(function*(t,e){qz(t),f0(t)?(t.j_.q_(e),h0(t)):t.j_.set("Unknown")})).apply(this,arguments)}function dge(t,e,n){return _0.apply(this,arguments)}function _0(){return _0=E(function*(t,e,n){if(t.j_.set("Online"),e instanceof RH&&2===e.state&&e.cause)try{yield(r=E(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.K_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.K_.delete(u),o.H_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){$(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ry(t,r)}else if(e instanceof ly?t.H_.We(e):e instanceof SH?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ie.min()))try{const r=yield Rz(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.K_.get(c);d&&o.K_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.K_.get(u);if(!d)return;o.K_.set(u,d.withResumeToken(At.EMPTY_BYTE_STRING,d.snapshotVersion)),Gz(o,u);const h=new mo(d.target,u,c,d.sequenceNumber);d0(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$(xa,"Failed to raise snapshot:",r),yield Ry(t,r)}var r}),_0.apply(this,arguments)}function Ry(t,e,n){return y0.apply(this,arguments)}function y0(){return(y0=E(function*(t,e,n){if(!Zo(e))throw e;t.W_.add(1),yield Jc(t),t.j_.set("Offline"),n||(n=()=>Rz(t.localStore)),t.asyncQueue.enqueueRetryable(E(function*(){$(xa,"Retrying IndexedDB access"),yield n(),t.W_.delete(1),yield Df(t)}))})).apply(this,arguments)}function Wz(t,e){return e().catch(n=>Ry(t,n,e))}function el(t){return v0.apply(this,arguments)}function v0(){return(v0=E(function*(t){const e=Q(t),n=ls(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:-1;for(;hge(e);)try{const i=yield Kpe(e.localStore,r);if(null===i){0===e.U_.length&&n.P_();break}r=i.batchId,fge(e,i)}catch(i){yield Ry(e,i)}Kz(e)&&Qz(e)})).apply(this,arguments)}function hge(t){return cs(t)&&t.U_.length<10}function fge(t,e){t.U_.push(e);const n=ls(t);n.c_()&&n.S_&&n.b_(e.mutations)}function Kz(t){return cs(t)&&!ls(t).u_()&&t.U_.length>0}function Qz(t){ls(t).start()}function pge(t){return I0.apply(this,arguments)}function I0(){return(I0=E(function*(t){ls(t).C_()})).apply(this,arguments)}function gge(t){return E0.apply(this,arguments)}function E0(){return(E0=E(function*(t){const e=ls(t);for(const n of t.U_)e.b_(n.mutations)})).apply(this,arguments)}function mge(t,e,n){return w0.apply(this,arguments)}function w0(){return(w0=E(function*(t,e,n){const r=t.U_.shift(),i=AS.from(r,e,n);yield Wz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield el(t)})).apply(this,arguments)}function _ge(t,e){return T0.apply(this,arguments)}function T0(){return T0=E(function*(t,e){var n;e&&ls(t).S_&&(yield(n=E(function*(i,o){if(function CH(t){switch(t){case k.OK:return X();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return X()}}(a=o.code)&&a!==k.ABORTED){const s=i.U_.shift();ls(i).h_(),yield Wz(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield el(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),Kz(t)&&Qz(t)}),T0.apply(this,arguments)}function Yz(t,e){return C0.apply(this,arguments)}function C0(){return(C0=E(function*(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),$(xa,"RemoteStore received new credentials");const r=cs(n);n.W_.add(3),yield Jc(n),r&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield Df(n)})).apply(this,arguments)}function D0(){return(D0=E(function*(t,e){const n=Q(t);e?(n.W_.delete(2),yield Df(n)):e||(n.W_.add(2),yield Jc(n),n.j_.set("Unknown"))})).apply(this,arguments)}function tl(t){return t.J_||(t.J_=function(n,r,i){const o=Q(n);return o.M_(),new nge(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:uge.bind(null,t),No:cge.bind(null,t),Lo:lge.bind(null,t),p_:dge.bind(null,t)}),t.G_.push(function(){var e=E(function*(n){n?(t.J_.h_(),f0(t)?h0(t):t.j_.set("Unknown")):(yield t.J_.stop(),qz(t))});return function(n){return e.apply(this,arguments)}}())),t.J_}function ls(t){return t.Y_||(t.Y_=function(n,r,i){const o=Q(n);return o.M_(),new rge(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:pge.bind(null,t),Lo:_ge.bind(null,t),D_:gge.bind(null,t),v_:mge.bind(null,t)}),t.G_.push(function(){var e=E(function*(n){n?(t.Y_.h_(),yield el(t)):(yield t.Y_.stop(),t.U_.length>0&&($(xa,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))});return function(n){return e.apply(this,arguments)}}())),t.Y_}class A0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new A0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nl(t,e){if(kt("AsyncQueue",`${e}: ${t}`),Zo(t))return new H(k.UNAVAILABLE,`${e}: ${t}`);throw t}class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=cf(),this.sortedSet=new tt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Zz{constructor(){this.Z_=new tt(J.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?0!==e.type&&3===r.type?this.Z_=this.Z_.insert(n,e):3===e.type&&1!==r.type?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Z_=this.Z_.remove(n):1===e.type&&2===r.type?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):X():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class il{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new il(e,n,rl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class yge{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class vge{constructor(){this.queries=Jz(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(n,r){const i=Q(n),o=i.queries;i.queries=Jz(),o.forEach((s,a)=>{for(const u of a.ta)u.onError(r)})}(this,new H(k.ABORTED,"Firestore shutting down"))}}function Jz(){return new po(t=>oH(t),af)}function R0(){return(R0=E(function*(t,e){const n=Q(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new yge,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield n.onListen(i,!0);break;case 1:o.ea=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=nl(s,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&N0(n)})).apply(this,arguments)}function P0(){return(P0=E(function*(t,e){const n=Q(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),0===o.ta.length?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Ige(t,e){const n=Q(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&N0(n)}function Ege(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function N0(t){t.ia.forEach(e=>{e.next()})}var k0,Xz;(Xz=k0||(k0={}))._a="default",Xz.Cache="cache";class x0{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){return!e.fromCache||!this.ra()||(!this.options.Ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}la(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Pa(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==k0.Cache}}class n4{constructor(e){this.key=e}}class r4{constructor(e){this.key=e}}class i4{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ve(),this.mutatedKeys=ve(),this.ya=aH(e),this.wa=new rl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Zz,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=uf(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),I=!0):this.va(f,g)||(r.track({type:2,doc:g}),I=!0,(u&&this.ya(g,u)>0||c&&this.ya(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),I=!0):f&&!g&&(r.track({type:1,doc:f}),I=!0,(u||c)&&(a=!0)),I&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((d,h)=>function(g,_){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return v(g)-v(_)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=null!=i&&i;const a=n&&!i?this.Fa():[],u=0===this.pa.size&&this.current&&!i?1:0,c=u!==this.ga;return this.ga=u,0!==s.length||c?{snapshot:new il(this.query,e.wa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Zz,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new r4(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new n4(r))}),n}Oa(e){this.fa=e.gs,this.pa=ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return il.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const ds="SyncEngine";class Cge{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bge{constructor(e){this.key=e,this.Ba=!1}}class Dge{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new po(a=>oH(a),af),this.qa=new Map,this.Qa=new Set,this.$a=new tt(J.comparator),this.Ua=new Map,this.Ka=new $S,this.Wa={},this.Ga=new Map,this.za=Na.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}function Age(t,e){return O0.apply(this,arguments)}function O0(){return(O0=E(function*(t,e,n=!0){const r=My(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield o4(r,e,n,!0),i})).apply(this,arguments)}function Sge(t,e){return V0.apply(this,arguments)}function V0(){return(V0=E(function*(t,e){const n=My(t);yield o4(n,e,!0,!1)})).apply(this,arguments)}function o4(t,e,n,r){return F0.apply(this,arguments)}function F0(){return(F0=E(function*(t,e,n,r){const i=yield function Yc(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new mo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}(t.localStore,wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function L0(t,e,n,r,i){return U0.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&Sy(t.remoteStore,i),a})).apply(this,arguments)}function U0(){return U0=E(function*(t,e,n,r,i){t.Ha=(h,f,g)=>{return(_=E(function*(I,b,A,O){let W=b.view.ba(A);W.ls&&(W=yield Ty(I.localStore,b.query,!1).then(({documents:w})=>b.view.ba(w,W)));const Z=O&&O.targetChanges.get(b.targetId),re=O&&null!=O.targetMismatches.get(b.targetId),D=b.view.applyChanges(W,I.isPrimaryClient,Z,re);return Y0(I,b.targetId,D.Ma),D.snapshot}),function v(I,b,A,O){return _.apply(this,arguments)})(t,h,f,g);var _};const o=yield Ty(t.localStore,e,!0),s=new i4(e,o.gs),a=s.ba(o.documents),u=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);Y0(t,n,c.Ma);const d=new Cge(e,n,s);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}),U0.apply(this,arguments)}function Rge(t,e,n){return B0.apply(this,arguments)}function B0(){return(B0=E(function*(t,e,n){const r=Q(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!af(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xc(r.remoteStore,i.targetId),ol(r,i.targetId)}).catch(Yo))):(ol(r,i.targetId),yield Zc(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Mge(t,e){return j0.apply(this,arguments)}function j0(){return(j0=E(function*(t,e){const n=Q(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xc(n.remoteStore,r.targetId))})).apply(this,arguments)}function $0(){return($0=E(function*(t,e,n){const r=function aR(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xge.bind(null,e),e}(t);try{const i=yield function(s,a){const u=Q(s),c=_t.now(),d=a.reduce((g,_)=>g.add(_.key),ve());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=ir(),v=ve();return u.ds.getEntries(g,d).next(I=>{_=I,_.forEach((b,A)=>{A.isValidDocument()||(v=v.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(I=>{h=I;const b=[];for(const A of a){const O=epe(A,h.get(A.key).overlayedDocument);null!=O&&b.push(new go(A.key,O,H$(O.value.mapValue),pt.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,b,a)}).next(I=>{f=I;const b=I.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(g,I.batchId,b)})}).then(()=>({batchId:f.batchId,changes:cH(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Wa[s.currentUser.toKey()];c||(c=new tt(ue)),c=c.insert(a,u),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),yield _o(r,i.changes),yield el(r.remoteStore)}catch(i){const o=nl(i,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function s4(t,e){return H0.apply(this,arguments)}function H0(){return(H0=E(function*(t,e){const n=Q(t);try{const r=yield function Wpe(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(o,d.addedDocuments,h)));let g=f.withSequenceNumber(o.currentSequenceNumber);var v,I,b;null!==e.targetMismatches.get(h)?g=g.withResumeToken(At.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),I=g,b=d,(0===(v=f).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(n.Hr.updateTargetData(o,g))});let u=ir(),c=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function Mz(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ir();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$(YS,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Vs:s,fs:i}})}(o,s,e.documentUpdates).next(d=>{u=d.Vs,c=d.fs})),!r.isEqual(ie.min())){const d=n.Hr.getLastRemoteSnapshotVersion(o).next(h=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?ne(s.Ba):i.removedDocuments.size>0&&(ne(s.Ba),s.Ba=!1))}),yield _o(n,r,e)}catch(r){yield Yo(r)}})).apply(this,arguments)}function a4(t,e,n){const r=Q(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Q(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&N0(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nge(t,e,n){return z0.apply(this,arguments)}function z0(){return(z0=E(function*(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new tt(J.comparator);s=s.insert(o,ot.newNoDocument(o,ie.min()));const a=ve().add(o),u=new pf(ie.min(),new Map,new tt(ue),s,a);yield s4(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),Z0(r)}else yield Zc(r.localStore,e,!1).then(()=>ol(r,e,n)).catch(Yo)})).apply(this,arguments)}function kge(t,e){return G0.apply(this,arguments)}function G0(){return(G0=E(function*(t,e){const n=Q(t),r=e.batch.batchId;try{const i=yield function qpe(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,f=h.keys();let g=P.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(v=>{const I=c.docVersions.get(_);ne(null!==I),v.version.compareTo(I)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Q0(n,r,null),K0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _o(n,i)}catch(i){yield Yo(i)}})).apply(this,arguments)}function xge(t,e,n){return q0.apply(this,arguments)}function q0(){return(q0=E(function*(t,e,n){const r=Q(t);try{const i=yield function(s,a){const u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(ne(null!==h),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);Q0(r,e,n),K0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _o(r,i)}catch(i){yield Yo(i)}})).apply(this,arguments)}function K0(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Q0(t,e,n){const r=Q(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ol(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||u4(t,r)})}function u4(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);null!==n&&(Xc(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Z0(t))}function Y0(t,e,n){for(const r of n)r instanceof n4?(t.Ka.addReference(r.key,e),Vge(t,r)):r instanceof r4?($(ds,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||u4(t,r.key)):X()}function Vge(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||($(ds,"New document in limbo: "+n),t.Qa.add(r),Z0(t))}function Z0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new J(Se.fromString(e)),r=t.za.next();t.Ua.set(r,new bge(n)),t.$a=t.$a.insert(n,r),Sy(t.remoteStore,new mo(wn(Vc(n.path)),r,"TargetPurposeLimboResolution",yr.ae))}}function _o(t,e,n){return J0.apply(this,arguments)}function J0(){return J0=E(function*(t,e,n){const r=Q(t),i=[],o=[],s=[];var a;r.ka.isEmpty()||(r.ka.forEach((a,u)=>{s.push(r.Ha(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=QS.Yi(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.La.p_(i),yield(a=E(function*(c,d){const h=Q(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(d,g=>P.forEach(g.Hi,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>P.forEach(g.Ji,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!Zo(f))throw f;$(YS,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const _=h.Ts.get(g),I=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);h.Ts=h.Ts.insert(g,I)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),J0.apply(this,arguments)}function Fge(t,e){return X0.apply(this,arguments)}function X0(){return(X0=E(function*(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){$(ds,"User change. New user:",e.toKey());const r=yield Sz(n.localStore,e);n.currentUser=e,(o=n).Ga.forEach(a=>{a.forEach(u=>{u.reject(new H(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ga.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _o(n,r.Rs)}var o})).apply(this,arguments)}function Lge(t,e){const n=Q(t),r=n.Ua.get(e);if(r&&r.Ba)return ve().add(r.key);{let i=ve();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function My(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nge.bind(null,e),e.La.p_=Ige.bind(null,e.eventManager),e.La.Ja=Ege.bind(null,e.eventManager),e}let Py=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return E(function*(){r.serializer=bf(n.databaseInfo.databaseId),r.sharedClientState=r.Za(n),r.persistence=r.Xa(n),yield r.persistence.start(),r.localStore=r.eu(n),r.gcScheduler=r.tu(n,r.localStore),r.indexBackfillerScheduler=r.nu(n,r.localStore)})()}tu(n,r){return null}nu(n,r){return null}eu(n){return function Az(t,e,n,r){return new Gpe(t,e,n,r)}(this.persistence,new Dz,n.initialUser,this.serializer)}Xa(n){return new HS(Iy.ri,this.serializer)}Za(n){return new Uz}terminate(){var n=this;return E(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class uR extends Py{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){return ne(this.persistence.referenceDelegate instanceof Ey),new mz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Xa(e){const n=void 0!==this.cacheSizeBytes?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new HS(r=>Ey.ri(r,n),this.serializer)}}let sl=(()=>{class t{initialize(n,r){var i=this;return E(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>a4(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Fge.bind(null,i.syncEngine),yield function b0(t,e){return D0.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new vge}createDatastore(n){const r=bf(n.databaseInfo.databaseId),i=new tge(n.databaseInfo);return new oge(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>a4(this.syncEngine,r,0),u=jz.D()?new jz:new Zpe,new age(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,c,d,h){const f=new Dge(o,s,a,u,c,d);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return E(function*(){var r,i,o;yield(o=E(function*(a){const u=Q(a);$(xa,"RemoteStore shutting down."),u.W_.add(5),yield Jc(u),u.z_.shutdown(),u.j_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class Ny{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const hs="FirestoreClient";class Yge{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=t$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=E(function*(u){$(hs,"Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>($(hs,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=nl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function lR(t,e){return dR.apply(this,arguments)}function dR(){return dR=E(function*(t,e){t.asyncQueue.verifyOperationInProgress(),$(hs,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=E(function*(o){r.isEqual(o)||(yield Sz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),dR.apply(this,arguments)}function f4(t,e){return hR.apply(this,arguments)}function hR(){return(hR=E(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function fR(t){return pR.apply(this,arguments)}(t);$(hs,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yz(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Yz(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function pR(){return(pR=E(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(hs,"Using user provided OfflineComponentProvider");try{yield lR(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;xr("Error using user provided cache. Falling back to memory cache: "+e),yield lR(t,new Py)}}else $(hs,"Using default OfflineComponentProvider"),yield lR(t,new uR(void 0));var i;return t._offlineComponents})).apply(this,arguments)}function ky(t){return gR.apply(this,arguments)}function gR(){return(gR=E(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(hs,"Using user provided OnlineComponentProvider"),yield f4(t,t._uninitializedComponentsProvider._online)):($(hs,"Using default OnlineComponentProvider"),yield f4(t,new sl))),t._onlineComponents})).apply(this,arguments)}function _R(){return(_R=E(function*(t){const e=yield ky(t),n=e.eventManager;return n.onListen=Age.bind(null,e.syncEngine),n.onUnlisten=Rge.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sge.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mge.bind(null,e.syncEngine),n})).apply(this,arguments)}function _4(t,e,n={}){const r=new nn;return t.asyncQueue.enqueueAndForget(E(function*(){return function(o,s,a,u,c){const d=new Ny({next:f=>{d.su(),s.enqueueAndForget(()=>function M0(t,e){return P0.apply(this,arguments)}(o,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new H(k.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&u&&"server"===u.source?c.reject(new H(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new x0(Vc(a.path),d,{includeMetadataChanges:!0,Ta:!0});return function S0(t,e){return R0.apply(this,arguments)}(o,h)}(yield function ul(t){return _R.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function v4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const I4=new Map;function E4(t){if(!J.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":X()}function De(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xy(t);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const C4="firestore.googleapis.com";class D4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C4,this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ume(t,e,n,r){if(!0===e&&!0===r)throw new H(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=v4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D4(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ghe;switch(r.type){case"firstParty":return new Qhe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return E(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I4.get(n);r&&($("ComponentProvider","Removing Datastore"),I4.delete(n),r.terminate())}(this),Promise.resolve()}}class fn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fn(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Si extends fn{constructor(e,n,r){super(e,n,Vc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new J(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function A4(t,e,...n){if(t=Qt(t),1===arguments.length&&(e=t$.newId()),function yR(t,e,n){if(!n)throw new H(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("doc","path",e),t instanceof Af){const r=Se.fromString(e,...n);return E4(r),new Ot(t,null,new J(r))}{if(!(t instanceof Ot||t instanceof Si))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return E4(r),new Ot(t.firestore,t instanceof Si?t.converter:null,new J(r))}}const R4="AsyncQueue";class M4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new u0(this,"async_queue_retry"),this.Su=()=>{const r=Ay();r&&$(R4,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Ay();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ay();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new nn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){var e=this;return E(function*(){if(0!==e.Vu.length){try{yield e.Vu[0](),e.Vu.shift(),e.a_.reset()}catch(n){if(!Zo(n))throw n;$(R4,"Operation failed with retryable error: "+n)}e.Vu.length>0&&e.a_.Xo(()=>e.Cu())}})()}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{throw this.gu=r,this.pu=!1,kt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=A0.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&X()}verifyOperationInProgress(){}Mu(){var e=this;return E(function*(){let n;do{n=e.bu,yield n}while(n!==e.bu)})()}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ye extends Af{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new M4,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return E(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new M4(n),e._firestoreClient=void 0,yield n}})()}}function dme(t,e){const n="object"==typeof t?t:rb(),r="string"==typeof t?t:e||Xh,i=c_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(()=>{const e=VU("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function cme(t,e,n,r={}){var i;const o=(t=De(t,Af))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==C4&&o.host!==a&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!to(u,s)&&(t._setSettings(u),r.mockUserToken)){let c,d;if("string"==typeof r.mockUserToken)c=r.mockUserToken,d=tn.MOCK_USER;else{c=function Xse(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[n_(JSON.stringify({alg:"none",type:"JWT"})),n_(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new tn(h)}t._authCredentials=new qhe(new e$(c,d))}}(i,...o)}return i}function yt(t){if(t._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function P4(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new kfe(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,v4(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Yge(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(At.fromBase64String(e))}catch(n){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Va{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cl{constructor(e){this._methodName=e}}class ER{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}class Oy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const fme=/^__.*__$/;class pme{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}function x4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Vy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Uy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(x4(this.Lu)&&fme.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gme{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}ju(e,n,r,i=!1){return new Vy({Lu:e,methodName:n,zu:r,path:ht.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fa(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new gme(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fy(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);SR("Data must be an object, but it was:",s,r);const a=F4(r,s);let u,c;if(o.merge)u=new rr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=Mf(e,h,n);if(!s.contains(f))throw new H(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);U4(d,f)||d.push(f)}u=new rr(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new pme(new hn(a),u,c)}function La(t,e){if(L4(t=Qt(t)))return SR("Unsupported field value:",e,t),F4(t,e);if(t instanceof cl)return function(r,i){if(!x4(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&4!==e.Lu)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=La(a,i.Ku(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Qt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return hH(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=_t.fromDate(r);return{timestampValue:Hc(i.serializer,o)}}if(r instanceof _t){const o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hc(i.serializer,o)}}if(r instanceof ER)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:NH(i.serializer,r._byteString)};if(r instanceof Ot){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:PS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oy)return s=r,a=i,{mapValue:{fields:{[fS]:{stringValue:pS},[kc]:{arrayValue:{values:s.toArray().map(c=>{if("number"!=typeof c)throw a.Wu("VectorValues must only contain numeric values.");return CS(a.serializer,c)})}}}}};var s,a;throw i.Wu(`Unsupported field value: ${xy(r)}`)}(t,e)}function F4(t,e){const n={};return A$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{const o=La(i,e.qu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function L4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof ER||t instanceof Oa||t instanceof Ot||t instanceof cl||t instanceof Oy)}function SR(t,e,n){if(!L4(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=xy(n);throw e.Wu("an object"===r?t+" a custom object":t+" "+r)}var i}function Mf(t,e,n){if((e=Qt(e))instanceof Va)return e._internalPath;if("string"==typeof e)return Ly(t,e);throw Uy("Field path arguments must be of type string or ",t,!1,void 0,n)}const mme=new RegExp("[~\\*/\\[\\]]");function Ly(t,e,n){if(e.search(mme)>=0)throw Uy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Va(...e.split("."))._internalPath}catch{throw Uy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(k.INVALID_ARGUMENT,a+t+u)}function U4(t,e){return t.some(n=>n.isEqual(e))}class Pf{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _me(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(By("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class _me extends Pf{data(){return super.data()}}function By(t,e){return"string"==typeof e?Ly(t,e):e instanceof Va?e._internalPath:e._delegate._internalPath}class q4{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n[kc].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>ft(s.doubleValue));return new Oy(o)}convertGeoPoint(e){return new ER(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=J_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jh(e));default:return null}}convertTimestamp(e){const n=lo(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ne(zH(r));const i=new wa(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||kt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends Pf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(By("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gy extends dl{data(e={}){return super.data(e)}}function Eme(t){t=De(t,Ot);const e=De(t.firestore,Ye);return _4(yt(e),t._key).then(n=>function PR(t,e,n){const r=n.docs.get(e._key),i=new fs(t);return new dl(t,i,e._key,r,new Ua(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class fs extends q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function wme(t,e,n){t=De(t,Ot);const r=De(t.firestore,Ye),i=function zy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function xf(t,e){return function(r,i){const o=new nn;return r.asyncQueue.enqueueAndForget(E(function*(){return function Pge(t,e,n){return $0.apply(this,arguments)}(yield function mR(t){return ky(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(yt(t),e)}(r,[Fy(Fa(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,pt.none())])}!function(e,n=!0){Ec=fc,zo(new no("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ye(new Whe(r.getProvider("auth-internal")),new Yhe(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Bn(Jj,"4.7.10",e),Bn(Jj,"4.7.10","esm2017")}();class Wy{constructor(e){return e}}const Y4="firestore",kR=new q("angularfire2.firestore-instances");function Lme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wy(r)}}const Ume={provide:class Vme{constructor(){return cb(Y4)}},deps:[[new Wn,kR]]},Bme={provide:Wy,useFactory:function Fme(t,e){const n=ub(Y4,t,e);return n&&new Wy(n)},deps:[[new Wn,kR],gc]},Z4=vi(A4,!0,2),$me=vi(Eme,!0),Hme=vi(dme,!0),zme=vi(wme,!0,2);let xR=(()=>{class t{platformId;isBrowser;constructor(n){this.platformId=n,this.isBrowser=function tte(t){return t===EL}(this.platformId)}login(n){this.isBrowser&&localStorage.setItem("token",n)}logout(){this.isBrowser&&(localStorage.removeItem("token"),localStorage.removeItem("user"))}isLoggedIn(){return!!this.isBrowser&&!!localStorage.getItem("token")}static \u0275fac=function(r){return new(r||t)(oe(Ao))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OR=(()=>{class t{platformId;auth=V(V_);firestore=V(Wy);router=V(tr);ngZone=V(we);constructor(n){this.platformId=n}signup(n,r,i,o,s){var a=this;return E(function*(){try{const u=yield Bhe(a.auth,r,i),c=u.user;if(c){const d=Z4(a.firestore,`users/${c.uid}`);return yield zme(d,{name:n,email:r,phone:o,age:s,uid:c.uid}),u}throw new Error("User creation failed")}catch(u){throw u}})()}login(n,r){var i=this;return E(function*(){try{const o=yield $he(i.auth,n,r),s=o.user;if(s){const a=yield i.getUserData(s.uid);if(a.exists()){const u=a.data();localStorage.setItem("user",JSON.stringify(u))}}return o}catch(o){throw console.error("Login error:",o),new Error(o.message||"Login failed")}})()}getLoggedInUser(){const n=localStorage.getItem("user");return n?JSON.parse(n):null}logout(){return Hhe(this.auth).then(()=>this.router.navigate(["/login"]))}isLoggedIn(){return Uhe(this.auth)}getUserData(n){var r=this;return E(function*(){const i=Z4(r.firestore,`users/${n}`);return yield $me(i)})()}static \u0275fac=function(r){return new(r||t)(oe(Ao))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gme=(()=>{class t{router;loginService;authService;userName="";isSidebarOpen=!1;ngOnInit(){const n=this.authService.getLoggedInUser();n&&(this.userName=n.name)}constructor(n,r,i){this.router=n,this.loginService=r,this.authService=i}logout(){alert("Logout successfully...!"),this.loginService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||t)(z(tr),z(xR),z(OR))};static \u0275cmp=Hr({type:t,selectors:[["app-sidebar"]],inputs:{isSidebarOpen:"isSidebarOpen"},decls:18,vars:3,consts:[[1,"sidebar"],["id","logo","src","/assets/logo.png","alt","Logo"],[3,"click"],["routerLink","/about","routerLinkActive","active-link"],["routerLink","/demo","routerLinkActive","active-link"],["routerLink","/article","routerLinkActive","active-link"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"nav"),be(2,"img",1),F(3,"span")(4,"p"),j(5),U(),F(6,"button",2),bt("click",function(){return i.logout()}),j(7,"Logout"),U()(),F(8,"ul")(9,"li")(10,"a",3),j(11,"About"),U()(),F(12,"li")(13,"a",4),j(14,"Demo"),U()(),F(15,"li")(16,"a",5),j(17,"Articles"),U()()()()()),2&r&&(Yu("open",i.isSidebarOpen),ge(5),Fd("Hi, ",i.userName,""))},dependencies:[dc,bU],styles:["#logo[_ngcontent-%COMP%]{width:65%;margin:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:#960c0c;padding:5px 30px 5px 20px;display:block;font-size:1rem;font-weight:700;color:#584d4e}a.active-link[_ngcontent-%COMP%]{color:#000;font-weight:700;background-color:#f4d5a9;border-radius:4px}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 25px 5px 10px;border-radius:10px;list-style-type:none}a[_ngcontent-%COMP%]:hover{background-color:#faddb1}span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f66;color:#fff;border:none;padding:8px 16px;border-radius:5px;font-size:14px;cursor:pointer;transition:all .3s}span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c00}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-250px;width:250px;height:100vh;background-color:#f7e8d2;transition:left .3s ease;z-index:1000;overflow-y:auto;padding:20px}.sidebar.open[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{position:fixed;height:100%}}"]})}return t})(),qme=(()=>{class t{isSidebarOpen=!1;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}onDocumentClick(n){const r=document.querySelector(".sidebar"),i=document.querySelector(".hamburger");!r?.contains(n.target)&&!i?.contains(n.target)&&(this.isSidebarOpen=!1)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Hr({type:t,selectors:[["app-main-layout"]],hostBindings:function(r,i){1&r&&bt("click",function(s){return i.onDocumentClick(s)},0,ex)},decls:7,vars:3,consts:[[1,"main-container"],[1,"hamburger",3,"click"],[1,"main"],[3,"isSidebarOpen"],[1,"content"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"button",1),bt("click",function(){return i.toggleSidebar()}),j(2,"\u2630"),U(),F(3,"div",2),be(4,"app-sidebar",3),F(5,"div",4),be(6,"router-outlet"),U()()()),2&r&&(ge(3),Yu("shifted",i.isSidebarOpen),ge(),xe("isSidebarOpen",i.isSidebarOpen))},dependencies:[ch,Gme],styles:[".main-container[_ngcontent-%COMP%]{height:100vh}.main[_ngcontent-%COMP%]{display:flex;transition:margin-left .3s ease}.main.shifted[_ngcontent-%COMP%]{margin-left:250px}.content[_ngcontent-%COMP%]{width:100vw;padding:20px;overflow:hidden}.hamburger[_ngcontent-%COMP%]{position:fixed;top:15px;font-size:28px;background:none;border:none;cursor:pointer;z-index:1001;background-color:#f7e8d2;padding:0 .5em;border-top-right-radius:10px;border-bottom-right-radius:10px}@media (max-width: 480px){.main[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{width:100%;padding:2rem 1rem}}"]})}return t})(),Wme=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Hr({type:t,selectors:[["app-auth-layout"]],decls:19,vars:0,consts:[[1,"auth-wrapper"],[1,"auth-left"],[1,"info"],["src","https://lottie.host/1e6191a5-e7db-4462-a5a9-f6b0dda50303/5DJqrVyCMi.lottie","background","transparent","speed","1","loop","","autoplay","",1,"img"],[1,"auth-right"],[1,"content"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"h1"),j(3,"Skin Scan AI"),U(),F(4,"div",2)(5,"div")(6,"p"),j(7,"Your AI-powered tool to detect skin cancer early and accurately."),U(),F(8,"ul")(9,"li"),j(10,"\u2714 Upload dermatoscopic images securely"),U(),F(11,"li"),j(12,"\u2714 Get instant predictions with confidence score"),U(),F(13,"li"),j(14,"\u2714 Learn about early skin cancer signs"),U()()(),be(15,"dotlottie-player",3),U()(),F(16,"div",4)(17,"div",5),be(18,"router-outlet"),U()()())},dependencies:[ch],styles:[".auth-wrapper[_ngcontent-%COMP%]{display:flex;height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.auth-left[_ngcontent-%COMP%]{width:50%;background-color:#f7e8d2;color:#5c0909;padding:60px;display:flex;flex-direction:column;justify-content:center}.auth-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:20px}.auth-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:30px;line-height:1.5}.auth-left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.auth-left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1rem}.auth-right[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]{display:flex}.img[_ngcontent-%COMP%]{margin-top:-12%;height:25rem;width:25rem}.content[_ngcontent-%COMP%]{width:80%;padding:auto;display:flex;justify-content:center}@media (max-width: 480px){.auth-wrapper[_ngcontent-%COMP%]{width:100vw;flex-direction:column;align-items:center}.info[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.img[_ngcontent-%COMP%]{height:20rem;width:20rem;margin-top:10%}.auth-left[_ngcontent-%COMP%]{width:100%}.auth-right[_ngcontent-%COMP%]{width:100%;padding:20px 0}.content[_ngcontent-%COMP%]{padding:10px 0}}@media (min-width: 481px) and (max-width:1024px){.auth-wrapper[_ngcontent-%COMP%]{flex-direction:column}.auth-left[_ngcontent-%COMP%]{width:100%}.auth-right[_ngcontent-%COMP%]{width:100%;padding:20px 0}.content[_ngcontent-%COMP%]{padding:20px 0}}"]})}return t})(),Kme=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Hr({type:t,selectors:[["app-about"]],decls:43,vars:0,consts:[[1,"container"],[1,"welcome"],["id","welcome-img","src","https://lottie.host/3dedc5fb-f0a0-4201-a72c-56f8a422b69c/4Q0rqf8D3u.lottie","background","transparent","speed","1","loop","","autoplay",""],[1,"health-screening"],[1,"info"],[1,"image"],["id","health","src","https://lottie.host/673acb3f-03d5-4455-9b6e-0138c7b6d020/48Kax6wRb4.lottie","background","transparent","speed","1","loop","","autoplay",""],[1,"work"],["id","healthcare","src","https://lottie.host/1e6191a5-e7db-4462-a5a9-f6b0dda50303/5DJqrVyCMi.lottie","background","transparent","speed","1","loop","","autoplay","",2,"width","300px","height","300px"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"h1"),j(3,"Welcome To Our Skin Cancer Detection Web-App"),U(),be(4,"dotlottie-player",2),U(),F(5,"div",3)(6,"div",4)(7,"p"),j(8," Skin cancer, particularly melanoma, poses significant health risks when not identified promptly. Early detection is crucial as melanoma alone contributes to a substantial portion of skin cancer-related fatalities. Our AI-powered solution assists medical professionals by analyzing skin images, potentially streamlining the diagnostic process and reducing manual screening efforts. "),U(),be(9,"br"),F(10,"p"),j(11," The system is trained to identify various skin conditions including: "),U(),be(12,"br"),F(13,"ul")(14,"li"),j(15,"Actinic keratosis (solar keratosis)"),U(),F(16,"li"),j(17,"Basal cell carcinoma (BCC)"),U(),F(18,"li"),j(19,"Dermatofibroma (benign fibrous histiocytoma)"),U(),F(20,"li"),j(21,"Malignant melanoma"),U(),F(22,"li"),j(23,"Melanocytic nevus (mole)"),U(),F(24,"li"),j(25,"Pigmented actinic keratosis"),U(),F(26,"li"),j(27,"Seborrheic keratosis (senile wart)"),U(),F(28,"li"),j(29,"Squamous cell carcinoma (SCC)"),U(),F(30,"li"),j(31,"Vascular skin lesions"),U()()(),F(32,"div",5),be(33,"dotlottie-player",6),U()(),F(34,"div",7)(35,"div",4)(36,"h1"),j(37,"How it works?"),U(),be(38,"br"),F(39,"p"),j(40," Using Model we have trained, our system uses it and analyzes skin images to identify potential abnormalities.This is not a accurate result but will give you a slight idea. "),U()(),F(41,"div",5),be(42,"dotlottie-player",8),U()()())},styles:[".container[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px}.col[_ngcontent-%COMP%]{flex:1;padding:10px}p[_ngcontent-%COMP%]{line-height:1.5rem}.welcome[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:min-content;border-bottom:1px solid #30273033}#welcome-img[_ngcontent-%COMP%]{height:500px;width:500px;margin-top:-5%}.health-screening[_ngcontent-%COMP%]{padding:2em 0 2em 5em;display:flex;justify-content:center;border-bottom:1px solid #30273033}.health-screening[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:2em;line-height:2.5em}#health[_ngcontent-%COMP%]{margin-top:-10%;margin-bottom:-15%;margin-left:-20%;height:450px;width:450px}.info[_ngcontent-%COMP%]{padding:20px;width:55%}.image[_ngcontent-%COMP%]{width:45%;padding-left:5rem;height:fit-content}.work[_ngcontent-%COMP%]{display:flex;width:100%;padding:2em 4em}@media (max-width: 480px){.container[_ngcontent-%COMP%]{width:100%;margin-top:10%;overflow:hidden}.welcome[_ngcontent-%COMP%]{width:inherit;flex-direction:column}#welcome-img[_ngcontent-%COMP%]{width:22rem;height:22rem;margin-top:0%}.health-screening[_ngcontent-%COMP%]{padding:1em;flex-direction:column}.info[_ngcontent-%COMP%]{width:100%;padding:5px}#health[_ngcontent-%COMP%]{margin-left:-7rem;width:400px;height:400px}.work[_ngcontent-%COMP%]{flex-direction:column;padding:1em}#healthcare[_ngcontent-%COMP%]{margin-left:-4rem}}"]})}return t})();class Ky{}class Qy{}class ei{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ei?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ei;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ei?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(e,n){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Qme{encodeKey(e){return J4(e)}encodeValue(e){return J4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Zme=/%(\d[a-f0-9])/gi,Jme={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function J4(t){return encodeURIComponent(t).replace(Zme,(e,n)=>Jme[n]??e)}function Yy(t){return`${t}`}class gs{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Qme,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=function Yme(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Yy):[Yy(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new gs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Yy(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Yy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Xme{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function X4(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eG(t){return typeof Blob<"u"&&t instanceof Blob}function tG(t){return typeof FormData<"u"&&t instanceof FormData}const Of="Content-Type",VR="X-Request-URL",nG="text/plain",rG="application/json",iG=`${rG}, ${nG}, */*`;class Vf{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){let o;if(this.url=n,this.method=e.toUpperCase(),function e_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ei,this.context??=new Xme,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new gs,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||X4(this.body)||eG(this.body)||tG(this.body)||function t_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof gs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tG(this.body)?null:eG(this.body)?this.body.type||null:X4(this.body)?null:"string"==typeof this.body?nG:this.body instanceof gs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?rG:null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,g)=>f.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,g)=>f.set(g,e.setParams[g]),d)),new Vf(n,r,s,{params:d,headers:c,context:h,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}}var ms=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ms||{});class FR{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ei,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jy extends FR{constructor(e={}){super(e)}type=ms.ResponseHeader;clone(e={}){return new Jy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ff extends FR{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=ms.Response;clone(e={}){return new Ff({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fl extends FR{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function LR(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let sG=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Vf)o=n;else{let u,c;u=i.headers instanceof ei?i.headers:new ei(i.headers),i.params&&(c=i.params instanceof gs?i.params:new gs({fromObject:i.params})),o=new Vf(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=de(o).pipe(nc(u=>this.handler.handle(u)));if(n instanceof Vf||"events"===i.observe)return s;const a=s.pipe(Ji(u=>u instanceof Ff));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ke(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new B(2806,!1);return u.body}));case"blob":return a.pipe(ke(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new B(2807,!1);return u.body}));case"text":return a.pipe(ke(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new B(2808,!1);return u.body}));default:return a.pipe(ke(u=>u.body))}case"response":return a;default:throw new B(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new gs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,LR(i,r))}post(n,r,i={}){return this.request("POST",n,LR(i,r))}put(n,r,i={}){return this.request("PUT",n,LR(i,r))}static \u0275fac=function(r){return new(r||t)(oe(Ky))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();const uG=new q("");function cG(t,e){return e(t)}function a_e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const c_e=new q(""),Lf=new q(""),l_e=new q(""),lG=new q("",{providedIn:"root",factory:()=>!0});function d_e(){let t=null;return(e,n)=>{null===t&&(t=(V(c_e,{optional:!0})??[]).reduceRight(a_e,cG));const r=V(si);if(V(lG)){const o=r.add();return t(e,n).pipe(Xd(()=>r.remove(o)))}return t(e,n)}}let dG=(()=>{class t extends Ky{backend;injector;chain=null;pendingTasks=V(si);contributeToStability=V(lG);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Lf),...this.injector.get(l_e,[])]));this.chain=r.reduceRight((i,o)=>function u_e(t,e,n){return(r,i)=>Mn(n,()=>e(r,o=>t(o,i)))}(i,o,this.injector),cG)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Xd(()=>this.pendingTasks.remove(r)))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(oe(Qy),oe(mn))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();const g_e=/^\)\]\}',?\n/,m_e=RegExp(`^${VR}:`,"m");let fG=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new B(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kt(r.\u0275loadImpl()):de(null)).pipe(Qr(()=>new at(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,I)=>s.setRequestHeader(v,I.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",iG),!n.headers.has(Of)){const v=n.detectContentTypeHeader();null!==v&&s.setRequestHeader(Of,v)}if(n.responseType){const v=n.responseType.toLowerCase();s.responseType="json"!==v?v:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const v=s.statusText||"OK",I=new ei(s.getAllResponseHeaders()),b=function __e(t){return"responseURL"in t&&t.responseURL?t.responseURL:m_e.test(t.getAllResponseHeaders())?t.getResponseHeader(VR):null}(s)||n.url;return u=new Jy({headers:I,status:s.status,statusText:v,url:b}),u},d=()=>{let{headers:v,status:I,statusText:b,url:A}=c(),O=null;204!==I&&(O=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=O?200:0);let W=I>=200&&I<300;if("json"===n.responseType&&"string"==typeof O){const Z=O;O=O.replace(g_e,"");try{O=""!==O?JSON.parse(O):null}catch(re){O=Z,W&&(W=!1,O={error:re,text:O})}}W?(o.next(new Ff({body:O,headers:v,status:I,statusText:b,url:A||void 0})),o.complete()):o.error(new fl({error:O,headers:v,status:I,statusText:b,url:A||void 0}))},h=v=>{const{url:I}=c(),b=new fl({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(b)};let f=!1;const g=v=>{f||(o.next(c()),f=!0);let I={type:ms.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(I.total=v.total),"text"===n.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},_=v=>{let I={type:ms.UploadProgress,loaded:v.loaded};v.lengthComputable&&(I.total=v.total),o.next(I)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:ms.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(oe(TL))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();const jR=new q(""),pG=new q("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gG=new q("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mG{}let I_e=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=IL(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(oe(fr),oe(Ao),oe(pG))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function E_e(t,e){const n=t.url.toLowerCase();if(!V(jR)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=V(mG).getToken(),i=V(gG);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var _s=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(_s||{});function w_e(...t){const e=[sG,fG,dG,{provide:Ky,useExisting:dG},{provide:Qy,useFactory:()=>V(uG,{optional:!0})??V(fG)},{provide:Lf,useValue:E_e,multi:!0},{provide:jR,useValue:!0},{provide:mG,useClass:I_e}];for(const n of t)e.push(...n.\u0275providers);return wr(e)}const _G=new q("");function T_e(){return function Ba(t,e){return{\u0275kind:t,\u0275providers:e}}(_s.LegacyInterceptors,[{provide:_G,useFactory:d_e},{provide:Lf,useExisting:_G,multi:!0}])}let C_e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Js({type:t});static \u0275inj=To({providers:[w_e(T_e())]})}return t})();function D_e(t,e){if(1&t&&(F(0,"div",16),be(1,"div",17),U()),2&t){const n=Ar(2);ge(),aT("width",n.uploadProgress,"%")}}function A_e(t,e){if(1&t){const n=Md();F(0,"div",11)(1,"div"),VI(),F(2,"svg",12),be(3,"path",13),U(),FI(),F(4,"span"),j(5),U()(),Ft(6,D_e,2,2,"div",14),F(7,"button",15),bt("click",function(){return yn(n),vn(Ar().reset())}),j(8,"\xd7"),U()()}if(2&t){const n=Ar();ge(5),Vd(n.fileName),ge(),xe("ngIf",n.uploadProgress>0&&n.uploadProgress<100)}}function S_e(t,e){1&t&&(F(0,"div",18),j(1," Please upload image "),U())}function R_e(t,e){1&t&&(F(0,"div",18),j(1," Internal Server Error...! Please try again later. "),U())}function M_e(t,e){if(1&t&&(F(0,"div",19)(1,"h2"),j(2,"Results"),U(),F(3,"div",20),be(4,"img",21),F(5,"div")(6,"span")(7,"h5")(8,"strong"),j(9,"Prediction:"),U()(),F(10,"h2"),j(11),U()(),F(12,"span")(13,"h5")(14,"strong"),j(15,"Confidence:"),U()(),F(16,"h2"),j(17),U()()()()()),2&t){const n=Ar();ge(4),xe("src",n.imageURL,UE),ge(7),Vd(n.prediction.class),ge(6),Fd("",n.prediction.confidence,"%")}}function P_e(t,e){1&t&&(F(0,"div",18),j(1," \u26a0\ufe0f This is not a medical diagnosis. Please consult a doctor for a professional diagnosis. "),U())}let N_e=(()=>{class t{http;selectedFile=null;imageURL=null;uploadProgress=0;fileName="";prediction=null;error=!1;serverError=!1;constructor(n){this.http=n}onFileSelected(n){if(this.error=!1,this.selectedFile=n.target.files[0],this.selectedFile){this.fileName=this.selectedFile.name;const r=new FileReader;r.onload=()=>this.imageURL=r.result,r.readAsDataURL(this.selectedFile)}}onDragOver(n){n.preventDefault()}onFileDrop(n){if(n.preventDefault(),n.dataTransfer?.files.length){this.selectedFile=n.dataTransfer.files[0],this.fileName=this.selectedFile.name;const r=new FileReader;r.onload=()=>this.imageURL=r.result,r.readAsDataURL(this.selectedFile)}}onPredict(){if(!this.selectedFile)return this.error=!0,void console.log(this.error);this.error=!1,console.log(this.error);const n=new FormData;n.append("image",this.selectedFile),this.http.post("http://localhost:5000/predict",n,{}).subscribe(r=>{console.log(r),this.prediction={class:r.class,confidence:r.confidence}},r=>{this.serverError=!0})}reset(){this.selectedFile=null,this.imageURL=null,this.prediction=null,this.fileName="",this.uploadProgress=0,this.error=!1,this.serverError=!1}static \u0275fac=function(r){return new(r||t)(z(sG))};static \u0275cmp=Hr({type:t,selectors:[["app-demo"]],decls:23,vars:5,consts:[["fileInput",""],[1,"container"],[1,"upload-box",3,"drop","dragover"],[1,"upload-info"],["xmlns","http://www.w3.org/2000/svg","height","32","width","40","viewBox","0 0 640 512"],["fill","#e9a84e","d","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39L296 392c0 13.3 10.7 24 24 24s24-10.7 24-24l0-134.1 39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"],["type","file","hidden","",3,"change"],[1,"btn",3,"click"],["class","file-info",4,"ngIf"],["class","disclaimer",4,"ngIf"],["class","results",4,"ngIf"],[1,"file-info"],["xmlns","http://www.w3.org/2000/svg","height","32","width","24","viewBox","0 0 384 512"],["fill","#e9a84e","d","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"],["class","progress-bar",4,"ngIf"],[1,"close-btn",3,"click"],[1,"progress-bar"],[1,"progress-inner"],[1,"disclaimer"],[1,"results"],[1,"card"],["alt","preview",1,"preview-img",3,"src"]],template:function(r,i){if(1&r){const o=Md();F(0,"div",1)(1,"h1"),j(2,"Skin-Cancer-Prediction"),U(),F(3,"div",2),bt("drop",function(a){return yn(o),vn(i.onFileDrop(a))})("dragover",function(a){return yn(o),vn(i.onDragOver(a))}),F(4,"div",3),VI(),F(5,"svg",4),be(6,"path",5),U(),FI(),F(7,"span")(8,"h3"),j(9,"Drag and drop file here"),U(),F(10,"h5"),j(11,"Limit 50MB per file \u2022 PNG, JPG, JPEG"),U()()(),F(12,"input",6,0),bt("change",function(a){return yn(o),vn(i.onFileSelected(a))}),U(),F(14,"button",7),bt("click",function(){return yn(o),vn(cn(13).click())}),j(15,"Browse files"),U()(),Ft(16,A_e,9,2,"div",8),F(17,"button",7),bt("click",function(){return yn(o),vn(i.onPredict())}),j(18," Predict "),U(),Ft(19,S_e,2,0,"div",9)(20,R_e,2,0,"div",9)(21,M_e,18,3,"div",10)(22,P_e,2,0,"div",9),U()}2&r&&(ge(16),xe("ngIf",i.fileName),ge(3),xe("ngIf",i.error),ge(),xe("ngIf",i.serverError),ge(),xe("ngIf",i.prediction),ge(),xe("ngIf",i.prediction))},dependencies:[lC,Mm,C_e],styles:[".container[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;gap:.7rem;margin:auto;padding:20px;font-family:Arial,sans-serif}h5[_ngcontent-%COMP%]{font-weight:100}.upload-box[_ngcontent-%COMP%]{background:#fff4e9;padding:10px 15px;border-radius:10px;position:relative;display:flex;justify-content:space-between}.upload-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:1rem;align-items:center}.upload-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.progress[_ngcontent-%COMP%]{height:5px;background:red;margin-top:10px;transition:width .3s ease}.btn[_ngcontent-%COMP%]{width:fit-content;padding:10px 20px;background:#fff;border:1px solid #ff6680;color:#ff6680;border-radius:5px;cursor:pointer;margin-top:10px}.file-info[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center;gap:10px}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px;cursor:pointer;color:red}.results[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]{display:flex;background:#fff;padding:15px;border-radius:10px;align-items:center;gap:20px}.card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.preview-img[_ngcontent-%COMP%]{height:120px;width:120px;border-radius:5px;object-fit:cover}.disclaimer[_ngcontent-%COMP%]{margin-top:10px;background:#fff4e9;padding:10px;border-radius:5px;color:#926c05}.file-info[_ngcontent-%COMP%]{margin-top:15px;padding:0 20px;font-size:16px;display:flex;justify-content:space-between;align-items:center;gap:10px}.file-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#ffe3e3;border-radius:2px;overflow:hidden;margin-top:4px}.progress-inner[_ngcontent-%COMP%]{height:100%;background:red;transition:width .4s ease}.close-btn[_ngcontent-%COMP%]{border:none;background:transparent;font-size:18px;cursor:pointer;color:#777}@media (max-width: 480px){.container[_ngcontent-%COMP%]{width:100%;margin-top:2em;padding:.5em}.upload-box[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (min-width: 481px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{width:100%;margin-top:2em;padding:.5em}.upload-box[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})}return t})(),k_e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Hr({type:t,selectors:[["app-article"]],decls:97,vars:0,consts:[[1,"article"],[1,"image"],["src","https://lottie.host/6720c90b-84d5-4ec0-a401-d7d8b566b98f/vFwjAwruUb.lottie","background","transparent","speed","1","loop","","autoplay","",2,"width","300px","height","300px"],[1,"box"],[1,"info"],["src","/assets/disease/Actinic_Keratosis.jpg","alt",""],["src","/assets/disease/basal-cell-carcinoma.jpg","alt",""],["src","/assets/disease/Dermatofibroma.jpg","alt",""],["src","/assets/disease/Melanoma.jpg","alt",""]],template:function(r,i){1&r&&(F(0,"div",0)(1,"h1"),j(2,"Learn More"),U(),F(3,"div",1),be(4,"dotlottie-player",2),U(),F(5,"h1"),j(6," Read articles about some common skin diseases that are usually found in people. "),U(),F(7,"div",3)(8,"div",4)(9,"h2"),j(10,"Actinic keratosis"),U(),be(11,"br"),F(12,"p"),j(13," Actinic keratoses (also called solar keratoses) are dry scaly patches of skin that have been damaged by the sun. The patches are not usually serious. But there's a small chance they could become skin cancer, so it's important to avoid further damage to your skin. Treatments for actinic keratoses include: "),U(),be(14,"br"),F(15,"ul")(16,"li"),j(17,"prescription creams and gels"),U(),F(18,"li"),j(19," freezing the patches (cryotherapy), this makes the patches turn into blisters and fall off after a few weeks "),U(),F(20,"li"),j(21," surgery to cut out or scrape away the patches - you will be given a local anaesthetic first, so it does not hurt "),U(),F(22,"li"),j(23," photodynamic therapy (PDT), where special cream is applied to the patches and a light is shone onto them to kill abnormal skin cells "),U()()(),be(24,"img",5),U(),F(25,"div",3),be(26,"img",6),F(27,"div",4)(28,"h2"),j(29,"Basal cell carcinoma"),U(),be(30,"br"),F(31,"p"),j(32," Basal cell carcinoma is a type of skin cancer. Basal cell carcinoma begins in the basal cells \u2014 a type of cell within the skin that produces new skin cells as old ones die off. Basal cell carcinoma often appears as a slightly transparent bump on the skin, though it can take other forms. Basal cell carcinoma occurs most often on areas of the skin that are exposed to the sun, such as your head and neck. Most basal cell carcinomas are thought to be caused by long-term exposure to ultraviolet (UV) radiation from sunlight. Avoiding the sun and using sunscreen may help protect against basal cell carcinoma. Basal cell carcinoma appears as a change in the skin, such as a growth or a sore that won't heal. These changes in the skin (lesions) usually have one of the following characteristics: "),U(),be(33,"br"),F(34,"ul")(35,"li"),j(36," A shiny, skin-colored bump that's translucent, meaning you can see a bit through the surface. The bump can look pearly white or pink on white skin. On brown and Black skin, the bump often looks brown or glossy black. Tiny blood vessels might be visible, though they may be difficult to see on brown and Black skin. The bump may bleed and scab over. "),U(),F(37,"li"),j(38," A brown, black or blue lesion \u2014 or a lesion with dark spots \u2014 with a slightly raised, translucent border. "),U(),F(39,"li"),j(40," A flat, scaly patch with a raised edge. Over time, these patches can grow quite large. "),U(),F(41,"li"),j(42," A white, waxy, scar-like lesion without a clearly defined border. To reduce your risk of basal cell carcinoma you can: "),U(),F(43,"li"),j(44,"Avoid the sun during the middle of the day"),U(),F(45,"li"),j(46,"Wear sunscreen year-round"),U(),F(47,"li"),j(48,"Wear protective clothing"),U(),F(49,"li"),j(50,"Avoid tanning beds"),U(),F(51,"li"),j(52,"Check your skin regularly and report changes to your doctor"),U()()()(),F(53,"div",3)(54,"div",4)(55,"h2"),j(56,"Dermatofibroma"),U(),be(57,"br"),F(58,"p"),j(59," Dermatofibromas are harmless growths within the skin that usually have a small diameter. They can vary in color but are typically pink to light brown in light skin and dark brown or black in dark skin. They may appear more pink or darker if a person accidentally irritates them \u2014 for example, when shaving. As they are dense and firm to the touch, many people say that they feel like a small stone underneath or raised above the skin. Most dermatofibromas are painless, but some people experience itching, irritation, or tenderness at the site of the growth. Some doctors or medical researchers may referTrusted Source to dermatofibromas as benign fibrous histiocytomas. Key markers of a dermatofibroma are: "),U(),be(60,"br"),F(61,"ul")(62,"li"),j(63,"Appearance: A dermatofibroma presents as a round bump that is mostly under the skin."),U(),F(64,"li"),j(65," Size: The normal range is about 0.5-1.5 centimeters (cm), with most lesions being 0.7-1.0 cm in diameter. The size will usually remain stable. "),U(),F(66,"li"),j(67," Color: The growths vary in color among individuals but will generally be pink, red, gray, brown, or black. "),U(),F(68,"li"),j(69," Location: Dermatofibromas are most common on the legs, but they sometimes appear on the arms, trunk, and, less commonly, elsewhere on the body. "),U(),F(70,"li"),j(71,"Additional symptoms: Although they are usually harmless and painless, these growths may occasionally be itchy, tender, painful, or inflamed."),U()()(),be(72,"img",7),U(),F(73,"div",3),be(74,"img",8),F(75,"div",4)(76,"h2"),j(77,"Melanoma"),U(),be(78,"br"),F(79,"p"),j(80," Melanoma, the most serious type of skin cancer, develops in the cells (melanocytes) that produce melanin \u2014 the pigment that gives your skin its color. Melanoma can also form in your eyes and, rarely, inside your body, such as in your nose or throat. The exact cause of all melanomas isn't clear, but exposure to ultraviolet (UV) radiation from sunlight or tanning lamps and beds increases your risk of developing melanoma. Limiting your exposure to UV radiation can help reduce your risk of melanoma. The risk of melanoma seems to be increasing in people under 40, especially women. Knowing the warning signs of skin cancer can help ensure that cancerous changes are detected and treated before the cancer has spread. Melanoma can be treated successfully if it is detected early. The first melanoma signs and symptoms often are: "),U(),be(81,"br"),F(82,"ul")(83,"li"),j(84," A change in an existing mole "),U(),F(85,"li"),j(86," The development of a new pigmented or unusual-looking growth on your skin "),U(),F(87,"p"),j(88," Melanoma doesn't always begin as a mole. It can also occur on otherwise normal-appearing skin. Hidden melanomas include: "),U(),F(89,"li"),j(90," Melanoma under a nail "),U(),F(91,"li"),j(92,"Melanoma in the mouth, digestive tract, urinary tract or vagina"),U(),F(93,"li"),j(94,"Melanoma in the eye"),U(),F(95,"p"),j(96,"Make an appointment with your doctor if you notice any skin changes that seem unusual."),U()()()()())},styles:[".article[_ngcontent-%COMP%]{padding-top:1.5em}h1[_ngcontent-%COMP%]{font-weight:bolder}.image[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.box[_ngcontent-%COMP%]{padding:1em;border:1px solid #30273033;border-radius:.5rem;display:flex;margin:1em 0;gap:1em}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:25%;height:80%;object-fit:cover}.info[_ngcontent-%COMP%]{width:75%}.info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:1em;line-height:1.5em}@media (max-width: 480px){.box[_ngcontent-%COMP%]{flex-direction:column}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{width:100%}}"]})}return t})(),yG=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(z(zi),z(dr))};static \u0275dir=pe({type:t})}return t})(),ja=(()=>{class t extends yG{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275dir=pe({type:t,features:[$e]})}return t})();const Ri=new q(""),V_e={provide:Ri,useExisting:Je(()=>Uf),multi:!0},L_e=new q("");let Uf=(()=>{class t extends yG{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function F_e(){const t=Uo()?Uo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(z(zi),z(dr),z(L_e,8))};static \u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&bt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[lt([V_e]),$e]})}return t})();function $R(t){return null==t||0===HR(t)}function HR(t){return null==t?null:Array.isArray(t)||"string"==typeof t?t.length:t instanceof Set?t.size:null}const bn=new q(""),ys=new q("");function wG(t){return $R(t.value)?{required:!0}:null}function Xy(t){return null}function SG(t){return null!=t}function RG(t){return Ad(t)?Kt(t):t}function MG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function PG(t,e){return e.map(n=>n(t))}function NG(t){return t.map(e=>function B_e(t){return!t.validate}(e)?e:n=>e.validate(n))}function zR(t){return null!=t?function kG(t){if(!t)return null;const e=t.filter(SG);return 0==e.length?null:function(n){return MG(PG(n,e))}}(NG(t)):null}function GR(t){return null!=t?function xG(t){if(!t)return null;const e=t.filter(SG);return 0==e.length?null:function(n){return function x_e(...t){const e=E2(t),{args:n,keys:r}=w2(t),i=new at(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;gi(n[d]).subscribe(Ht(o,f=>{h||(h=!0,c--),a[d]=f},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?C2(r,a):a),o.complete())}))}});return e?i.pipe(T2(e)):i}(PG(n,e).map(RG)).pipe(ke(MG))}}(NG(t)):null}function OG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qR(t){return t?Array.isArray(t)?t:[t]:[]}function ev(t,e){return Array.isArray(t)?t.includes(e):t===e}function LG(t,e){const n=qR(e);return qR(t).forEach(i=>{ev(n,i)||n.push(i)}),n}function UG(t,e){return qR(e).filter(n=>!ev(t,n))}class BG{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class jn extends BG{name;get formDirective(){return null}get path(){return null}}class vs extends BG{_parent=null;name=null;valueAccessor=null}class jG{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let WR=(()=>{class t extends jG{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(z(vs,2))};static \u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Yu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$e]})}return t})(),KR=(()=>{class t extends jG{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(z(jn,10))};static \u0275dir=pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Yu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$e]})}return t})();const Bf="VALID",nv="INVALID",pl="PENDING",jf="DISABLED";class gl{}class HG extends gl{value;source;constructor(e,n){super(),this.value=e,this.source=n}}class ZR extends gl{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}}class JR extends gl{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}}class rv extends gl{status;source;constructor(e,n){super(),this.status=e,this.source=n}}function XR(t){return(iv(t)?t.validators:t)||null}function eM(t,e){return(iv(e)?e.asyncValidators:t)||null}function iv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tM{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Lt(this.statusReactive)}set status(e){Lt(()=>this.statusReactive.set(e))}_status=Ki(()=>this.statusReactive());statusReactive=ai(void 0);get valid(){return this.status===Bf}get invalid(){return this.status===nv}get pending(){return this.status==pl}get disabled(){return this.status===jf}get enabled(){return this.status!==jf}errors;get pristine(){return Lt(this.pristineReactive)}set pristine(e){Lt(()=>this.pristineReactive.set(e))}_pristine=Ki(()=>this.pristineReactive());pristineReactive=ai(!0);get dirty(){return!this.pristine}get touched(){return Lt(this.touchedReactive)}set touched(e){Lt(()=>this.touchedReactive.set(e))}_touched=Ki(()=>this.touchedReactive());touchedReactive=ai(!1);get untouched(){return!this.touched}_events=new zn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UG(e,this._rawAsyncValidators))}hasValidator(e){return ev(this._rawValidators,e)}hasAsyncValidator(e){return ev(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new JR(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new JR(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new ZR(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new ZR(!0,r))}markAsPending(e={}){this.status=pl;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new rv(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=jf,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new HG(this.value,r)),this._events.next(new rv(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Bf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bf||this.status===pl)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new HG(this.value,n)),this._events.next(new rv(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jf:Bf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=pl,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=RG(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new rv(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?jf:this.errors?nv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pl)?pl:this._anyControlsHaveStatus(nv)?nv:Bf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ZR(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new JR(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Q_e(t){return Array.isArray(t)?zR(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Y_e(t){return Array.isArray(t)?GR(t):t||null}(this._rawAsyncValidators)}}class nM extends tM{constructor(e,n,r){super(XR(n),eM(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function GG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new B(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function zG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ml=new q("",{providedIn:"root",factory:()=>ov}),ov="always";function $f(t,e,n=ov){rM(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function X_e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qG(t,e)})}(t,e),function tye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function eye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function J_e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function uv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rM(t,e){const n=function VG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(OG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function FG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(OG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();uv(e._rawValidators,i),uv(e._rawAsyncValidators,i)}function qG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const sye={provide:jn,useExisting:Je(()=>_l)},Hf=Promise.resolve();let _l=(()=>{class t extends jn{callSetDisabledState;get submitted(){return Lt(this.submittedReactive)}_submitted=Ki(()=>this.submittedReactive());submittedReactive=ai(!1);_directives=new Set;form;ngSubmit=new Vt;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new nM({},zR(n),GR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Hf.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),$f(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Hf.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Hf.then(()=>{const r=this._findContainer(n.path),i=new nM({});(function WG(t,e){rM(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Hf.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Hf.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function KG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(z(bn,10),z(ys,10),z(ml,8))};static \u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&bt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lt([sye]),$e]})}return t})();function QG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function YG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ZG=class extends tM{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(XR(n),eM(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=YG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},dye={provide:vs,useExisting:Je(()=>hv)},JG=Promise.resolve();let hv=(()=>{class t extends vs{_changeDetectorRef;callSetDisabledState;control=new ZG;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Vt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sM(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Uf?n=o:function iye(t){return Object.getPrototypeOf(t.constructor)===ja}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function oM(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$f(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){JG.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Xu(r);JG.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function sv(t,e){return[...e.path,t]}(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(z(jn,9),z(bn,10),z(ys,10),z(Ri,10),z(zd,8),z(ml,8))};static \u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[lt([dye]),$e,Lr]})}return t})(),aM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();const hye={provide:Ri,useExisting:Je(()=>uM),multi:!0};let uM=(()=>{class t extends ja{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&bt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[lt([hye]),$e]})}return t})();let $a=(()=>{class t{_validator=Xy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||t)};static \u0275dir=pe({type:t,features:[Lr]})}return t})();const Sye={provide:bn,useExisting:Je(()=>dM),multi:!0};let dM=(()=>{class t extends $a{min;inputName="min";normalizeInput=n=>function u3(t){return"number"==typeof t?t:parseFloat(t)}(n);createValidator=n=>function IG(t){return e=>{if(null==e.value||null==t)return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&hi("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[lt([Sye]),$e]})}return t})();const Rye={provide:bn,useExisting:Je(()=>Gf),multi:!0};let Gf=(()=>{class t extends $a{required;inputName="required";normalizeInput=Xu;createValidator=n=>wG;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&hi("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[lt([Rye]),$e]})}return t})();const Nye={provide:bn,useExisting:Je(()=>gv),multi:!0};let gv=(()=>{class t extends $a{minlength;inputName="minlength";normalizeInput=n=>function a3(t){return"number"==typeof t?t:parseInt(t,10)}(n);createValidator=n=>function bG(t){return e=>{const n=e.value?.length??HR(e.value);return null===n||0===n?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&hi("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[lt([Nye]),$e]})}return t})();const xye={provide:bn,useExisting:Je(()=>hM),multi:!0};let hM=(()=>{class t extends $a{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>function AG(t){if(!t)return Xy;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($R(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Jt(t)))(i||t)}})();static \u0275dir=pe({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&hi("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[lt([xye]),$e]})}return t})(),Oye=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Js({type:t});static \u0275inj=To({})}return t})(),f3=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ml,useValue:n.callSetDisabledState??ov}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Js({type:t});static \u0275inj=To({imports:[Oye]})}return t})();function Fye(t,e){1&t&&(F(0,"span"),j(1,"Email is required."),U())}function Lye(t,e){1&t&&(F(0,"span"),j(1,"Enter a valid email."),U())}function Uye(t,e){if(1&t&&(F(0,"span",14),Ft(1,Fye,2,0,"span",15)(2,Lye,2,0,"span",15),U()),2&t){Ar();const n=cn(8);ge(),xe("ngIf",null==n.errors?null:n.errors.required),ge(),xe("ngIf",null==n.errors?null:n.errors.email)}}function Bye(t,e){1&t&&(F(0,"span"),j(1,"Password is required."),U())}function jye(t,e){1&t&&(F(0,"span"),j(1," Min 6 characters required. "),U())}function $ye(t,e){if(1&t&&(F(0,"span",14),Ft(1,Bye,2,0,"span",15)(2,jye,2,0,"span",15),U()),2&t){Ar();const n=cn(14);ge(),xe("ngIf",null==n.errors?null:n.errors.required),ge(),xe("ngIf",null==n.errors?null:n.errors.minlength)}}function Hye(t,e){1&t&&(F(0,"p",16),j(1,"Invalid Credentials or Password"),U())}function Gye(t,e){1&t&&(F(0,"span",22),j(1," Full Name is required. "),U())}function qye(t,e){1&t&&(F(0,"span"),j(1,"Email is required."),U())}function Wye(t,e){1&t&&(F(0,"span"),j(1,"Enter a valid email."),U())}function Kye(t,e){if(1&t&&(F(0,"span",22),Ft(1,qye,2,0,"span",23)(2,Wye,2,0,"span",23),U()),2&t){Ar();const n=cn(14);ge(),xe("ngIf",null==n.errors?null:n.errors.required),ge(),xe("ngIf",null==n.errors?null:n.errors.email)}}function Qye(t,e){1&t&&(F(0,"span"),j(1,"Password is required."),U())}function Yye(t,e){1&t&&(F(0,"span"),j(1,"Min 6 characters required."),U())}function Zye(t,e){if(1&t&&(F(0,"span",22),Ft(1,Qye,2,0,"span",23)(2,Yye,2,0,"span",23),U()),2&t){Ar();const n=cn(20);ge(),xe("ngIf",null==n.errors?null:n.errors.required),ge(),xe("ngIf",null==n.errors?null:n.errors.minlength)}}function Jye(t,e){1&t&&(F(0,"span"),j(1,"Phone number is required."),U())}function Xye(t,e){1&t&&(F(0,"span"),j(1,"Phone number must be 10 digits."),U())}function eve(t,e){if(1&t&&(F(0,"span",22),Ft(1,Jye,2,0,"span",23)(2,Xye,2,0,"span",23),U()),2&t){Ar();const n=cn(26);ge(),xe("ngIf",null==n.errors?null:n.errors.required),ge(),xe("ngIf",null==n.errors?null:n.errors.pattern)}}function tve(t,e){1&t&&(F(0,"span"),j(1,"Age is required."),U())}function nve(t,e){1&t&&(F(0,"span"),j(1,"Age must be greater than 0."),U())}function rve(t,e){if(1&t&&(F(0,"span",22),Ft(1,tve,2,0,"span",23)(2,nve,2,0,"span",23),U()),2&t){Ar();const n=cn(32);ge(),xe("ngIf",null==n.errors?null:n.errors.required),ge(),xe("ngIf",null==n.errors?null:n.errors.min)}}function ive(t,e){if(1&t&&(F(0,"p",24),j(1),U()),2&t){const n=Ar();ge(),Vd(n.error)}}const sve={apiKey:"AIzaSyCJittA63gQ0Yt6hStRNqqC-jLpiMiUsxQ",authDomain:"skin-cancer-d8268.firebaseapp.com",projectId:"skin-cancer-d8268",storageBucket:"skin-cancer-d8268.firebasestorage.app",messagingSenderId:"1060795463527",appId:"1:1060795463527:web:c49f1220ec6e3d53e361c2",measurementId:"G-41ZPVECLTK"},ave={providers:[function Sse(t,...e){return wr([{provide:gh,multi:!0,useValue:t},[],{provide:ac,useFactory:SU,deps:[tr]},{provide:Lu,multi:!0,useFactory:RU},e.map(n=>n.\u0275providers)])}([{path:"",component:qme,canActivate:[(t,e)=>{const n=V(xR),r=V(tr);return!!n.isLoggedIn()||r.parseUrl("/login")}],children:[{path:"about",component:Kme},{path:"demo",component:N_e},{path:"article",component:k_e},{path:"",redirectTo:"about",pathMatch:"full"}]},{path:"",component:Wme,children:[{path:"login",component:(()=>{class t{auth;router;loginService;email="";password="";error="";constructor(n,r,i){this.auth=n,this.router=r,this.loginService=i}onLogin(){this.auth.login(this.email,this.password).then(()=>{alert("Login successfully"),this.loginService.login("dummy-token"),this.router.navigate(["/about"])}).catch(n=>this.error=n.message)}static \u0275fac=function(r){return new(r||t)(z(OR),z(tr),z(xR))};static \u0275cmp=Hr({type:t,selectors:[["app-login"]],decls:23,vars:6,consts:[["loginForm","ngForm"],["emailRef","ngModel"],["passRef","ngModel"],[1,"container"],[3,"ngSubmit"],["for","email"],["name","email","type","email","placeholder","Email","required","",1,"input",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["name","password","type","password","placeholder","Password","minlength","6","required","",1,"input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","w-full",3,"disabled"],["class","error center",4,"ngIf"],[1,"switch-link"],["routerLink","/signup"],[1,"error"],[4,"ngIf"],[1,"error","center"]],template:function(r,i){if(1&r){const o=Md();F(0,"div",3)(1,"form",4,0),bt("ngSubmit",function(){return yn(o),vn(i.onLogin())}),F(3,"h2"),j(4,"Login to Your Account"),U(),F(5,"label",5),j(6,"Email:"),U(),F(7,"input",6,1),Wi("ngModelChange",function(a){return yn(o),Vo(i.email,a)||(i.email=a),vn(a)}),U(),Ft(9,Uye,3,2,"span",7),be(10,"br"),F(11,"label",8),j(12,"Password:"),U(),F(13,"input",9,2),Wi("ngModelChange",function(a){return yn(o),Vo(i.password,a)||(i.password=a),vn(a)}),U(),Ft(15,$ye,3,2,"span",7),F(16,"button",10),j(17," Login "),U(),Ft(18,Hye,2,0,"p",11),F(19,"p",12),j(20," Don't have an account? "),F(21,"a",13),j(22,"Sign up here"),U()()()()}if(2&r){const o=cn(2),s=cn(8),a=cn(14);ge(7),qi("ngModel",i.email),ge(2),xe("ngIf",s.invalid&&(s.touched||s.dirty)),ge(4),qi("ngModel",i.password),ge(2),xe("ngIf",a.invalid&&(a.touched||a.dirty)),ge(),xe("disabled",!o.valid),ge(2),xe("ngIf",i.error)}},dependencies:[lC,Mm,f3,aM,Uf,WR,KR,Gf,gv,hv,_l,NU,dc],styles:["h2[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]{width:400px;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 10px #0000001a}label[_ngcontent-%COMP%]{padding-left:5px;margin-top:5px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px;box-sizing:border-box;margin-top:5px;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{background-color:#fff}input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none;box-shadow:0 0 5px #00800080}button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;margin-top:10px;margin-bottom:10px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}input[_ngcontent-%COMP%]::placeholder{color:#888}.center[_ngcontent-%COMP%]{text-align:center}.error[_ngcontent-%COMP%]{min-height:5px;color:red;font-size:13px;margin-bottom:2px}.switch-link[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:14px}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){form[_ngcontent-%COMP%]{width:100%;padding:15px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:14px}}"]})}return t})()},{path:"signup",component:(()=>{class t{authService;router;name;email;password;phone;age;error;constructor(n,r){this.authService=n,this.router=r}onSignup(){var n=this;return E(function*(){try{const r=yield n.authService.signup(n.name,n.email,n.password,n.phone,n.age);console.log("User signed up successfully:",r),n.router.navigate(["/login"])}catch(r){n.error=r.message,console.log("Signup failed:",r)}})()}static \u0275fac=function(r){return new(r||t)(z(OR),z(tr))};static \u0275cmp=Hr({type:t,selectors:[["app-signup"]],decls:42,vars:12,consts:[["signupForm","ngForm"],["nameRef","ngModel"],["emailRef","ngModel"],["passRef","ngModel"],["phoneRef","ngModel"],["ageRef","ngModel"],[1,"signup-form",3,"ngSubmit"],["for","name"],["name","name","type","text","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","email"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["for","password"],["name","password","type","password","placeholder","Password","minlength","6","required","",3,"ngModelChange","ngModel"],["for","phone"],["name","phone","type","tel","placeholder","Phone Number","pattern","[0-9]{10}","required","",3,"ngModelChange","ngModel"],["for","age"],["name","age","type","number","placeholder","Age","min","1","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","error center",4,"ngIf"],[1,"switch-link"],["routerLink","/login"],[1,"error"],[4,"ngIf"],[1,"error","center"]],template:function(r,i){if(1&r){const o=Md();F(0,"div")(1,"form",6,0),bt("ngSubmit",function(){return yn(o),vn(i.onSignup())}),F(3,"h2"),j(4,"Create an Account"),U(),F(5,"label",7),j(6,"Name:"),U(),F(7,"input",8,1),Wi("ngModelChange",function(a){return yn(o),Vo(i.name,a)||(i.name=a),vn(a)}),U(),Ft(9,Gye,2,0,"span",9),be(10,"br"),F(11,"label",10),j(12,"Email:"),U(),F(13,"input",11,2),Wi("ngModelChange",function(a){return yn(o),Vo(i.email,a)||(i.email=a),vn(a)}),U(),Ft(15,Kye,3,2,"span",9),be(16,"br"),F(17,"label",12),j(18,"Password:"),U(),F(19,"input",13,3),Wi("ngModelChange",function(a){return yn(o),Vo(i.password,a)||(i.password=a),vn(a)}),U(),Ft(21,Zye,3,2,"span",9),be(22,"br"),F(23,"label",14),j(24,"Phone:"),U(),F(25,"input",15,4),Wi("ngModelChange",function(a){return yn(o),Vo(i.phone,a)||(i.phone=a),vn(a)}),U(),Ft(27,eve,3,2,"span",9),be(28,"br"),F(29,"label",16),j(30,"Age:"),U(),F(31,"input",17,5),Wi("ngModelChange",function(a){return yn(o),Vo(i.age,a)||(i.age=a),vn(a)}),U(),Ft(33,rve,3,2,"span",9),be(34,"br"),F(35,"button",18),j(36,"Sign Up"),U(),Ft(37,ive,2,1,"p",19),F(38,"p",20),j(39," Already have an account? "),F(40,"a",21),j(41,"Login here"),U()()()()}if(2&r){const o=cn(2),s=cn(8),a=cn(14),u=cn(20),c=cn(26),d=cn(32);ge(7),qi("ngModel",i.name),ge(2),xe("ngIf",s.invalid&&(s.touched||s.dirty)),ge(4),qi("ngModel",i.email),ge(2),xe("ngIf",a.invalid&&(a.touched||a.dirty)),ge(4),qi("ngModel",i.password),ge(2),xe("ngIf",u.invalid&&(u.touched||u.dirty)),ge(4),qi("ngModel",i.phone),ge(2),xe("ngIf",c.invalid&&(c.touched||c.dirty)),ge(4),qi("ngModel",i.age),ge(2),xe("ngIf",d.invalid&&(d.touched||d.dirty)),ge(2),xe("disabled",!o.valid),ge(2),xe("ngIf",i.error)}},dependencies:[lC,Mm,f3,aM,Uf,uM,WR,KR,Gf,gv,hM,dM,hv,_l,NU,dc],styles:["h2[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]{width:400px;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 10px #0000001a}label[_ngcontent-%COMP%]{padding-left:5px;margin-top:5px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px;box-sizing:border-box;margin-top:5px}.signup-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.signup-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;font-size:17px;border:none;border-radius:6px;cursor:pointer;margin-top:10px;transition:background-color .3s}.signup-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error[_ngcontent-%COMP%]{min-height:5px;color:red;font-size:13px;margin-bottom:2px}.center[_ngcontent-%COMP%]{text-align:center}.switch-link[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:14px}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){form[_ngcontent-%COMP%]{width:100%;padding:10px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:14px}}"]})}return t})()},{path:"",redirectTo:"login",pathMatch:"full"}]},{path:"**",redirectTo:""}]),function que(t,...e){return wr([Hue,zue,{provide:hb,useFactory:Gue(t),multi:!0,deps:[we,mt,h_,...e]}])}(()=>Wue(sve)),function Lhe(t,...e){return Bn("angularfire",d_.full,"auth"),wr([Fhe,Vhe,{provide:KA,useFactory:Ohe(t),multi:!0,deps:[we,mt,h_,db,[new Wn,xb],...e]}])}(()=>jhe()),function jme(t,...e){return Bn("angularfire",d_.full,"fst"),wr([Bme,Ume,{provide:kR,useFactory:Lme(t),multi:!0,deps:[we,mt,h_,db,[new Wn,Hj],[new Wn,xb],...e]}])}(()=>Hme())]};(function Ete(t,e){return iee({rootComponent:t,...OL(e)})})((()=>{class t{title="Skin Scan";isSidebarOpen=!1;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Hr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&be(0,"router-outlet")},dependencies:[ch],encapsulation:2})}return t})(),ave).catch(t=>console.error(t))}},wl=>{wl(wl.s=822)}]);